/*! For license information please see vendors.js.LICENSE.txt */
(self["webpackChunksenpaio_engine"]=self["webpackChunksenpaio_engine"]||[]).push([[216],{742:(t,e)=>{"use strict";e.byteLength=h;e.toByteArray=l;e.fromByteArray=p;var r=[];var i=[];var n=typeof Uint8Array!=="undefined"?Uint8Array:Array;var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var a=0,s=o.length;a<s;++a){r[a]=o[a];i[o.charCodeAt(a)]=a}i["-".charCodeAt(0)]=62;i["_".charCodeAt(0)]=63;function u(t){var e=t.length;if(e%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var r=t.indexOf("=");if(r===-1)r=e;var i=r===e?0:4-r%4;return[r,i]}function h(t){var e=u(t);var r=e[0];var i=e[1];return(r+i)*3/4-i}function f(t,e,r){return(e+r)*3/4-r}function l(t){var e;var r=u(t);var o=r[0];var a=r[1];var s=new n(f(t,o,a));var h=0;var l=a>0?o-4:o;var c;for(c=0;c<l;c+=4){e=i[t.charCodeAt(c)]<<18|i[t.charCodeAt(c+1)]<<12|i[t.charCodeAt(c+2)]<<6|i[t.charCodeAt(c+3)];s[h++]=e>>16&255;s[h++]=e>>8&255;s[h++]=e&255}if(a===2){e=i[t.charCodeAt(c)]<<2|i[t.charCodeAt(c+1)]>>4;s[h++]=e&255}if(a===1){e=i[t.charCodeAt(c)]<<10|i[t.charCodeAt(c+1)]<<4|i[t.charCodeAt(c+2)]>>2;s[h++]=e>>8&255;s[h++]=e&255}return s}function c(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[t&63]}function d(t,e,r){var i;var n=[];for(var o=e;o<r;o+=3){i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255);n.push(c(i))}return n.join("")}function p(t){var e;var i=t.length;var n=i%3;var o=[];var a=16383;for(var s=0,u=i-n;s<u;s+=a){o.push(d(t,s,s+a>u?u:s+a))}if(n===1){e=t[i-1];o.push(r[e>>2]+r[e<<4&63]+"==")}else if(n===2){e=(t[i-2]<<8)+t[i-1];o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")}return o.join("")}},764:(t,e,r)=>{"use strict";var i;const n=r(742);const o=r(645);const a=typeof Symbol==="function"&&typeof Symbol["for"]==="function"?Symbol["for"]("nodejs.util.inspect.custom"):null;e.lW=f;i=x;e.h2=50;const s=2147483647;i=s;f.TYPED_ARRAY_SUPPORT=u();if(!f.TYPED_ARRAY_SUPPORT&&typeof console!=="undefined"&&typeof console.error==="function"){console.error("This browser lacks typed array (Uint8Array) support which is required by "+"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.")}function u(){try{const t=new Uint8Array(1);const e={foo:function(){return 42}};Object.setPrototypeOf(e,Uint8Array.prototype);Object.setPrototypeOf(t,e);return t.foo()===42}catch(t){return false}}Object.defineProperty(f.prototype,"parent",{enumerable:true,get:function(){if(!f.isBuffer(this))return undefined;return this.buffer}});Object.defineProperty(f.prototype,"offset",{enumerable:true,get:function(){if(!f.isBuffer(this))return undefined;return this.byteOffset}});function h(t){if(t>s){throw new RangeError('The value "'+t+'" is invalid for option "size"')}const e=new Uint8Array(t);Object.setPrototypeOf(e,f.prototype);return e}function f(t,e,r){if(typeof t==="number"){if(typeof e==="string"){throw new TypeError('The "string" argument must be of type string. Received type number')}return p(t)}return l(t,e,r)}f.poolSize=8192;function l(t,e,r){if(typeof t==="string"){return v(t,e)}if(ArrayBuffer.isView(t)){return g(t)}if(t==null){throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof t)}if(st(t,ArrayBuffer)||t&&st(t.buffer,ArrayBuffer)){return y(t,e,r)}if(typeof SharedArrayBuffer!=="undefined"&&(st(t,SharedArrayBuffer)||t&&st(t.buffer,SharedArrayBuffer))){return y(t,e,r)}if(typeof t==="number"){throw new TypeError('The "value" argument must not be of type number. Received type number')}const i=t.valueOf&&t.valueOf();if(i!=null&&i!==t){return f.from(i,e,r)}const n=_(t);if(n)return n;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]==="function"){return f.from(t[Symbol.toPrimitive]("string"),e,r)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof t)}f.from=function(t,e,r){return l(t,e,r)};Object.setPrototypeOf(f.prototype,Uint8Array.prototype);Object.setPrototypeOf(f,Uint8Array);function c(t){if(typeof t!=="number"){throw new TypeError('"size" argument must be of type number')}else if(t<0){throw new RangeError('The value "'+t+'" is invalid for option "size"')}}function d(t,e,r){c(t);if(t<=0){return h(t)}if(e!==undefined){return typeof r==="string"?h(t).fill(e,r):h(t).fill(e)}return h(t)}f.alloc=function(t,e,r){return d(t,e,r)};function p(t){c(t);return h(t<0?0:b(t)|0)}f.allocUnsafe=function(t){return p(t)};f.allocUnsafeSlow=function(t){return p(t)};function v(t,e){if(typeof e!=="string"||e===""){e="utf8"}if(!f.isEncoding(e)){throw new TypeError("Unknown encoding: "+e)}const r=w(t,e)|0;let i=h(r);const n=i.write(t,e);if(n!==r){i=i.slice(0,n)}return i}function m(t){const e=t.length<0?0:b(t.length)|0;const r=h(e);for(let i=0;i<e;i+=1){r[i]=t[i]&255}return r}function g(t){if(st(t,Uint8Array)){const e=new Uint8Array(t);return y(e.buffer,e.byteOffset,e.byteLength)}return m(t)}function y(t,e,r){if(e<0||t.byteLength<e){throw new RangeError('"offset" is outside of buffer bounds')}if(t.byteLength<e+(r||0)){throw new RangeError('"length" is outside of buffer bounds')}let i;if(e===undefined&&r===undefined){i=new Uint8Array(t)}else if(r===undefined){i=new Uint8Array(t,e)}else{i=new Uint8Array(t,e,r)}Object.setPrototypeOf(i,f.prototype);return i}function _(t){if(f.isBuffer(t)){const e=b(t.length)|0;const r=h(e);if(r.length===0){return r}t.copy(r,0,0,e);return r}if(t.length!==undefined){if(typeof t.length!=="number"||ut(t.length)){return h(0)}return m(t)}if(t.type==="Buffer"&&Array.isArray(t.data)){return m(t.data)}}function b(t){if(t>=s){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+s.toString(16)+" bytes")}return t|0}function x(t){if(+t!=t){t=0}return f.alloc(+t)}f.isBuffer=function t(e){return e!=null&&e._isBuffer===true&&e!==f.prototype};f.compare=function t(e,r){if(st(e,Uint8Array))e=f.from(e,e.offset,e.byteLength);if(st(r,Uint8Array))r=f.from(r,r.offset,r.byteLength);if(!f.isBuffer(e)||!f.isBuffer(r)){throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array')}if(e===r)return 0;let i=e.length;let n=r.length;for(let t=0,o=Math.min(i,n);t<o;++t){if(e[t]!==r[t]){i=e[t];n=r[t];break}}if(i<n)return-1;if(n<i)return 1;return 0};f.isEncoding=function t(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};f.concat=function t(e,r){if(!Array.isArray(e)){throw new TypeError('"list" argument must be an Array of Buffers')}if(e.length===0){return f.alloc(0)}let i;if(r===undefined){r=0;for(i=0;i<e.length;++i){r+=e[i].length}}const n=f.allocUnsafe(r);let o=0;for(i=0;i<e.length;++i){let t=e[i];if(st(t,Uint8Array)){if(o+t.length>n.length){if(!f.isBuffer(t))t=f.from(t);t.copy(n,o)}else{Uint8Array.prototype.set.call(n,t,o)}}else if(!f.isBuffer(t)){throw new TypeError('"list" argument must be an Array of Buffers')}else{t.copy(n,o)}o+=t.length}return n};function w(t,e){if(f.isBuffer(t)){return t.length}if(ArrayBuffer.isView(t)||st(t,ArrayBuffer)){return t.byteLength}if(typeof t!=="string"){throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. '+"Received type "+typeof t)}const r=t.length;const i=arguments.length>2&&arguments[2]===true;if(!i&&r===0)return 0;let n=false;for(;;){switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return rt(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return ot(t).length;default:if(n){return i?-1:rt(t).length}e=(""+e).toLowerCase();n=true}}}f.byteLength=w;function E(t,e,r){let i=false;if(e===undefined||e<0){e=0}if(e>this.length){return""}if(r===undefined||r>this.length){r=this.length}if(r<=0){return""}r>>>=0;e>>>=0;if(r<=e){return""}if(!t)t="utf8";while(true){switch(t){case"hex":return F(this,e,r);case"utf8":case"utf-8":return M(this,e,r);case"ascii":return L(this,e,r);case"latin1":case"binary":return B(this,e,r);case"base64":return D(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase();i=true}}}f.prototype._isBuffer=true;function T(t,e,r){const i=t[e];t[e]=t[r];t[r]=i}f.prototype.swap16=function t(){const e=this.length;if(e%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(let t=0;t<e;t+=2){T(this,t,t+1)}return this};f.prototype.swap32=function t(){const e=this.length;if(e%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(let t=0;t<e;t+=4){T(this,t,t+3);T(this,t+1,t+2)}return this};f.prototype.swap64=function t(){const e=this.length;if(e%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(let t=0;t<e;t+=8){T(this,t,t+7);T(this,t+1,t+6);T(this,t+2,t+5);T(this,t+3,t+4)}return this};f.prototype.toString=function t(){const e=this.length;if(e===0)return"";if(arguments.length===0)return M(this,0,e);return E.apply(this,arguments)};f.prototype.toLocaleString=f.prototype.toString;f.prototype.equals=function t(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(this===e)return true;return f.compare(this,e)===0};f.prototype.inspect=function t(){let r="";const i=e.h2;r=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim();if(this.length>i)r+=" ... ";return"<Buffer "+r+">"};if(a){f.prototype[a]=f.prototype.inspect}f.prototype.compare=function t(e,r,i,n,o){if(st(e,Uint8Array)){e=f.from(e,e.offset,e.byteLength)}if(!f.isBuffer(e)){throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. '+"Received type "+typeof e)}if(r===undefined){r=0}if(i===undefined){i=e?e.length:0}if(n===undefined){n=0}if(o===undefined){o=this.length}if(r<0||i>e.length||n<0||o>this.length){throw new RangeError("out of range index")}if(n>=o&&r>=i){return 0}if(n>=o){return-1}if(r>=i){return 1}r>>>=0;i>>>=0;n>>>=0;o>>>=0;if(this===e)return 0;let a=o-n;let s=i-r;const u=Math.min(a,s);const h=this.slice(n,o);const l=e.slice(r,i);for(let t=0;t<u;++t){if(h[t]!==l[t]){a=h[t];s=l[t];break}}if(a<s)return-1;if(s<a)return 1;return 0};function S(t,e,r,i,n){if(t.length===0)return-1;if(typeof r==="string"){i=r;r=0}else if(r>2147483647){r=2147483647}else if(r<-2147483648){r=-2147483648}r=+r;if(ut(r)){r=n?0:t.length-1}if(r<0)r=t.length+r;if(r>=t.length){if(n)return-1;else r=t.length-1}else if(r<0){if(n)r=0;else return-1}if(typeof e==="string"){e=f.from(e,i)}if(f.isBuffer(e)){if(e.length===0){return-1}return I(t,e,r,i,n)}else if(typeof e==="number"){e=e&255;if(typeof Uint8Array.prototype.indexOf==="function"){if(n){return Uint8Array.prototype.indexOf.call(t,e,r)}else{return Uint8Array.prototype.lastIndexOf.call(t,e,r)}}return I(t,[e],r,i,n)}throw new TypeError("val must be string, number or Buffer")}function I(t,e,r,i,n){let o=1;let a=t.length;let s=e.length;if(i!==undefined){i=String(i).toLowerCase();if(i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le"){if(t.length<2||e.length<2){return-1}o=2;a/=2;s/=2;r/=2}}function u(t,e){if(o===1){return t[e]}else{return t.readUInt16BE(e*o)}}let h;if(n){let i=-1;for(h=r;h<a;h++){if(u(t,h)===u(e,i===-1?0:h-i)){if(i===-1)i=h;if(h-i+1===s)return i*o}else{if(i!==-1)h-=h-i;i=-1}}}else{if(r+s>a)r=a-s;for(h=r;h>=0;h--){let r=true;for(let i=0;i<s;i++){if(u(t,h+i)!==u(e,i)){r=false;break}}if(r)return h}}return-1}f.prototype.includes=function t(e,r,i){return this.indexOf(e,r,i)!==-1};f.prototype.indexOf=function t(e,r,i){return S(this,e,r,i,true)};f.prototype.lastIndexOf=function t(e,r,i){return S(this,e,r,i,false)};function A(t,e,r,i){r=Number(r)||0;const n=t.length-r;if(!i){i=n}else{i=Number(i);if(i>n){i=n}}const o=e.length;if(i>o/2){i=o/2}let a;for(a=0;a<i;++a){const i=parseInt(e.substr(a*2,2),16);if(ut(i))return a;t[r+a]=i}return a}function P(t,e,r,i){return at(rt(e,t.length-r),t,r,i)}function O(t,e,r,i){return at(it(e),t,r,i)}function C(t,e,r,i){return at(ot(e),t,r,i)}function R(t,e,r,i){return at(nt(e,t.length-r),t,r,i)}f.prototype.write=function t(e,r,i,n){if(r===undefined){n="utf8";i=this.length;r=0}else if(i===undefined&&typeof r==="string"){n=r;i=this.length;r=0}else if(isFinite(r)){r=r>>>0;if(isFinite(i)){i=i>>>0;if(n===undefined)n="utf8"}else{n=i;i=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}const o=this.length-r;if(i===undefined||i>o)i=o;if(e.length>0&&(i<0||r<0)||r>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!n)n="utf8";let a=false;for(;;){switch(n){case"hex":return A(this,e,r,i);case"utf8":case"utf-8":return P(this,e,r,i);case"ascii":case"latin1":case"binary":return O(this,e,r,i);case"base64":return C(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,r,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase();a=true}}};f.prototype.toJSON=function t(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(t,e,r){if(e===0&&r===t.length){return n.fromByteArray(t)}else{return n.fromByteArray(t.slice(e,r))}}function M(t,e,r){r=Math.min(t.length,r);const i=[];let n=e;while(n<r){const e=t[n];let o=null;let a=e>239?4:e>223?3:e>191?2:1;if(n+a<=r){let r,i,s,u;switch(a){case 1:if(e<128){o=e}break;case 2:r=t[n+1];if((r&192)===128){u=(e&31)<<6|r&63;if(u>127){o=u}}break;case 3:r=t[n+1];i=t[n+2];if((r&192)===128&&(i&192)===128){u=(e&15)<<12|(r&63)<<6|i&63;if(u>2047&&(u<55296||u>57343)){o=u}}break;case 4:r=t[n+1];i=t[n+2];s=t[n+3];if((r&192)===128&&(i&192)===128&&(s&192)===128){u=(e&15)<<18|(r&63)<<12|(i&63)<<6|s&63;if(u>65535&&u<1114112){o=u}}}}if(o===null){o=65533;a=1}else if(o>65535){o-=65536;i.push(o>>>10&1023|55296);o=56320|o&1023}i.push(o);n+=a}return N(i)}const k=4096;function N(t){const e=t.length;if(e<=k){return String.fromCharCode.apply(String,t)}let r="";let i=0;while(i<e){r+=String.fromCharCode.apply(String,t.slice(i,i+=k))}return r}function L(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n){i+=String.fromCharCode(t[n]&127)}return i}function B(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n){i+=String.fromCharCode(t[n])}return i}function F(t,e,r){const i=t.length;if(!e||e<0)e=0;if(!r||r<0||r>i)r=i;let n="";for(let i=e;i<r;++i){n+=ht[t[i]]}return n}function U(t,e,r){const i=t.slice(e,r);let n="";for(let t=0;t<i.length-1;t+=2){n+=String.fromCharCode(i[t]+i[t+1]*256)}return n}f.prototype.slice=function t(e,r){const i=this.length;e=~~e;r=r===undefined?i:~~r;if(e<0){e+=i;if(e<0)e=0}else if(e>i){e=i}if(r<0){r+=i;if(r<0)r=0}else if(r>i){r=i}if(r<e)r=e;const n=this.subarray(e,r);Object.setPrototypeOf(n,f.prototype);return n};function j(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function t(e,r,i){e=e>>>0;r=r>>>0;if(!i)j(e,r,this.length);let n=this[e];let o=1;let a=0;while(++a<r&&(o*=256)){n+=this[e+a]*o}return n};f.prototype.readUintBE=f.prototype.readUIntBE=function t(e,r,i){e=e>>>0;r=r>>>0;if(!i){j(e,r,this.length)}let n=this[e+--r];let o=1;while(r>0&&(o*=256)){n+=this[e+--r]*o}return n};f.prototype.readUint8=f.prototype.readUInt8=function t(e,r){e=e>>>0;if(!r)j(e,1,this.length);return this[e]};f.prototype.readUint16LE=f.prototype.readUInt16LE=function t(e,r){e=e>>>0;if(!r)j(e,2,this.length);return this[e]|this[e+1]<<8};f.prototype.readUint16BE=f.prototype.readUInt16BE=function t(e,r){e=e>>>0;if(!r)j(e,2,this.length);return this[e]<<8|this[e+1]};f.prototype.readUint32LE=f.prototype.readUInt32LE=function t(e,r){e=e>>>0;if(!r)j(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};f.prototype.readUint32BE=f.prototype.readUInt32BE=function t(e,r){e=e>>>0;if(!r)j(e,4,this.length);return this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};f.prototype.readBigUInt64LE=ft((function t(e){e=e>>>0;J(e,"offset");const r=this[e];const i=this[e+7];if(r===undefined||i===undefined){Q(e,this.length-8)}const n=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24;const o=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))}));f.prototype.readBigUInt64BE=ft((function t(e){e=e>>>0;J(e,"offset");const r=this[e];const i=this[e+7];if(r===undefined||i===undefined){Q(e,this.length-8)}const n=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e];const o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(o)}));f.prototype.readIntLE=function t(e,r,i){e=e>>>0;r=r>>>0;if(!i)j(e,r,this.length);let n=this[e];let o=1;let a=0;while(++a<r&&(o*=256)){n+=this[e+a]*o}o*=128;if(n>=o)n-=Math.pow(2,8*r);return n};f.prototype.readIntBE=function t(e,r,i){e=e>>>0;r=r>>>0;if(!i)j(e,r,this.length);let n=r;let o=1;let a=this[e+--n];while(n>0&&(o*=256)){a+=this[e+--n]*o}o*=128;if(a>=o)a-=Math.pow(2,8*r);return a};f.prototype.readInt8=function t(e,r){e=e>>>0;if(!r)j(e,1,this.length);if(!(this[e]&128))return this[e];return(255-this[e]+1)*-1};f.prototype.readInt16LE=function t(e,r){e=e>>>0;if(!r)j(e,2,this.length);const i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};f.prototype.readInt16BE=function t(e,r){e=e>>>0;if(!r)j(e,2,this.length);const i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};f.prototype.readInt32LE=function t(e,r){e=e>>>0;if(!r)j(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};f.prototype.readInt32BE=function t(e,r){e=e>>>0;if(!r)j(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};f.prototype.readBigInt64LE=ft((function t(e){e=e>>>0;J(e,"offset");const r=this[e];const i=this[e+7];if(r===undefined||i===undefined){Q(e,this.length-8)}const n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}));f.prototype.readBigInt64BE=ft((function t(e){e=e>>>0;J(e,"offset");const r=this[e];const i=this[e+7];if(r===undefined||i===undefined){Q(e,this.length-8)}const n=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)}));f.prototype.readFloatLE=function t(e,r){e=e>>>0;if(!r)j(e,4,this.length);return o.read(this,e,true,23,4)};f.prototype.readFloatBE=function t(e,r){e=e>>>0;if(!r)j(e,4,this.length);return o.read(this,e,false,23,4)};f.prototype.readDoubleLE=function t(e,r){e=e>>>0;if(!r)j(e,8,this.length);return o.read(this,e,true,52,8)};f.prototype.readDoubleBE=function t(e,r){e=e>>>0;if(!r)j(e,8,this.length);return o.read(this,e,false,52,8)};function z(t,e,r,i,n,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function t(e,r,i,n){e=+e;r=r>>>0;i=i>>>0;if(!n){const t=Math.pow(2,8*i)-1;z(this,e,r,i,t,0)}let o=1;let a=0;this[r]=e&255;while(++a<i&&(o*=256)){this[r+a]=e/o&255}return r+i};f.prototype.writeUintBE=f.prototype.writeUIntBE=function t(e,r,i,n){e=+e;r=r>>>0;i=i>>>0;if(!n){const t=Math.pow(2,8*i)-1;z(this,e,r,i,t,0)}let o=i-1;let a=1;this[r+o]=e&255;while(--o>=0&&(a*=256)){this[r+o]=e/a&255}return r+i};f.prototype.writeUint8=f.prototype.writeUInt8=function t(e,r,i){e=+e;r=r>>>0;if(!i)z(this,e,r,1,255,0);this[r]=e&255;return r+1};f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function t(e,r,i){e=+e;r=r>>>0;if(!i)z(this,e,r,2,65535,0);this[r]=e&255;this[r+1]=e>>>8;return r+2};f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function t(e,r,i){e=+e;r=r>>>0;if(!i)z(this,e,r,2,65535,0);this[r]=e>>>8;this[r+1]=e&255;return r+2};f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function t(e,r,i){e=+e;r=r>>>0;if(!i)z(this,e,r,4,4294967295,0);this[r+3]=e>>>24;this[r+2]=e>>>16;this[r+1]=e>>>8;this[r]=e&255;return r+4};f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function t(e,r,i){e=+e;r=r>>>0;if(!i)z(this,e,r,4,4294967295,0);this[r]=e>>>24;this[r+1]=e>>>16;this[r+2]=e>>>8;this[r+3]=e&255;return r+4};function X(t,e,r,i,n){K(e,i,n,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o;o=o>>8;t[r++]=o;o=o>>8;t[r++]=o;o=o>>8;t[r++]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));t[r++]=a;a=a>>8;t[r++]=a;a=a>>8;t[r++]=a;a=a>>8;t[r++]=a;return r}function H(t,e,r,i,n){K(e,i,n,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o;o=o>>8;t[r+6]=o;o=o>>8;t[r+5]=o;o=o>>8;t[r+4]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));t[r+3]=a;a=a>>8;t[r+2]=a;a=a>>8;t[r+1]=a;a=a>>8;t[r]=a;return r+8}f.prototype.writeBigUInt64LE=ft((function t(e,r=0){return X(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))}));f.prototype.writeBigUInt64BE=ft((function t(e,r=0){return H(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))}));f.prototype.writeIntLE=function t(e,r,i,n){e=+e;r=r>>>0;if(!n){const t=Math.pow(2,8*i-1);z(this,e,r,i,t-1,-t)}let o=0;let a=1;let s=0;this[r]=e&255;while(++o<i&&(a*=256)){if(e<0&&s===0&&this[r+o-1]!==0){s=1}this[r+o]=(e/a>>0)-s&255}return r+i};f.prototype.writeIntBE=function t(e,r,i,n){e=+e;r=r>>>0;if(!n){const t=Math.pow(2,8*i-1);z(this,e,r,i,t-1,-t)}let o=i-1;let a=1;let s=0;this[r+o]=e&255;while(--o>=0&&(a*=256)){if(e<0&&s===0&&this[r+o+1]!==0){s=1}this[r+o]=(e/a>>0)-s&255}return r+i};f.prototype.writeInt8=function t(e,r,i){e=+e;r=r>>>0;if(!i)z(this,e,r,1,127,-128);if(e<0)e=255+e+1;this[r]=e&255;return r+1};f.prototype.writeInt16LE=function t(e,r,i){e=+e;r=r>>>0;if(!i)z(this,e,r,2,32767,-32768);this[r]=e&255;this[r+1]=e>>>8;return r+2};f.prototype.writeInt16BE=function t(e,r,i){e=+e;r=r>>>0;if(!i)z(this,e,r,2,32767,-32768);this[r]=e>>>8;this[r+1]=e&255;return r+2};f.prototype.writeInt32LE=function t(e,r,i){e=+e;r=r>>>0;if(!i)z(this,e,r,4,2147483647,-2147483648);this[r]=e&255;this[r+1]=e>>>8;this[r+2]=e>>>16;this[r+3]=e>>>24;return r+4};f.prototype.writeInt32BE=function t(e,r,i){e=+e;r=r>>>0;if(!i)z(this,e,r,4,2147483647,-2147483648);if(e<0)e=4294967295+e+1;this[r]=e>>>24;this[r+1]=e>>>16;this[r+2]=e>>>8;this[r+3]=e&255;return r+4};f.prototype.writeBigInt64LE=ft((function t(e,r=0){return X(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}));f.prototype.writeBigInt64BE=ft((function t(e,r=0){return H(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}));function G(t,e,r,i,n,o){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function W(t,e,r,i,n){e=+e;r=r>>>0;if(!n){G(t,e,r,4,34028234663852886e22,-34028234663852886e22)}o.write(t,e,r,i,23,4);return r+4}f.prototype.writeFloatLE=function t(e,r,i){return W(this,e,r,true,i)};f.prototype.writeFloatBE=function t(e,r,i){return W(this,e,r,false,i)};function Y(t,e,r,i,n){e=+e;r=r>>>0;if(!n){G(t,e,r,8,17976931348623157e292,-17976931348623157e292)}o.write(t,e,r,i,52,8);return r+8}f.prototype.writeDoubleLE=function t(e,r,i){return Y(this,e,r,true,i)};f.prototype.writeDoubleBE=function t(e,r,i){return Y(this,e,r,false,i)};f.prototype.copy=function t(e,r,i,n){if(!f.isBuffer(e))throw new TypeError("argument should be a Buffer");if(!i)i=0;if(!n&&n!==0)n=this.length;if(r>=e.length)r=e.length;if(!r)r=0;if(n>0&&n<i)n=i;if(n===i)return 0;if(e.length===0||this.length===0)return 0;if(r<0){throw new RangeError("targetStart out of bounds")}if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");if(n>this.length)n=this.length;if(e.length-r<n-i){n=e.length-r+i}const o=n-i;if(this===e&&typeof Uint8Array.prototype.copyWithin==="function"){this.copyWithin(r,i,n)}else{Uint8Array.prototype.set.call(e,this.subarray(i,n),r)}return o};f.prototype.fill=function t(e,r,i,n){if(typeof e==="string"){if(typeof r==="string"){n=r;r=0;i=this.length}else if(typeof i==="string"){n=i;i=this.length}if(n!==undefined&&typeof n!=="string"){throw new TypeError("encoding must be a string")}if(typeof n==="string"&&!f.isEncoding(n)){throw new TypeError("Unknown encoding: "+n)}if(e.length===1){const t=e.charCodeAt(0);if(n==="utf8"&&t<128||n==="latin1"){e=t}}}else if(typeof e==="number"){e=e&255}else if(typeof e==="boolean"){e=Number(e)}if(r<0||this.length<r||this.length<i){throw new RangeError("Out of range index")}if(i<=r){return this}r=r>>>0;i=i===undefined?this.length:i>>>0;if(!e)e=0;let o;if(typeof e==="number"){for(o=r;o<i;++o){this[o]=e}}else{const t=f.isBuffer(e)?e:f.from(e,n);const a=t.length;if(a===0){throw new TypeError('The value "'+e+'" is invalid for argument "value"')}for(o=0;o<i-r;++o){this[o+r]=t[o%a]}}return this};const V={};function q(t,e,r){V[t]=class i extends r{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:true,configurable:true});this.name=`${this.name} [${t}]`;this.stack;delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:true,enumerable:true,value:t,writable:true})}toString(){return`${this.name} [${t}]: ${this.message}`}}}q("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){if(t){return`${t} is outside of buffer bounds`}return"Attempt to access memory outside buffer bounds"}),RangeError);q("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError);q("ERR_OUT_OF_RANGE",(function(t,e,r){let i=`The value of "${t}" is out of range.`;let n=r;if(Number.isInteger(r)&&Math.abs(r)>2**32){n=Z(String(r))}else if(typeof r==="bigint"){n=String(r);if(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32))){n=Z(n)}n+="n"}i+=` It must be ${e}. Received ${n}`;return i}),RangeError);function Z(t){let e="";let r=t.length;const i=t[0]==="-"?1:0;for(;r>=i+4;r-=3){e=`_${t.slice(r-3,r)}${e}`}return`${t.slice(0,r)}${e}`}function $(t,e,r){J(e,"offset");if(t[e]===undefined||t[e+r]===undefined){Q(e,t.length-(r+1))}}function K(t,e,r,i,n,o){if(t>r||t<e){const i=typeof e==="bigint"?"n":"";let n;if(o>3){if(e===0||e===BigInt(0)){n=`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`}else{n=`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** `+`${(o+1)*8-1}${i}`}}else{n=`>= ${e}${i} and <= ${r}${i}`}throw new V.ERR_OUT_OF_RANGE("value",n,t)}$(i,n,o)}function J(t,e){if(typeof t!=="number"){throw new V.ERR_INVALID_ARG_TYPE(e,"number",t)}}function Q(t,e,r){if(Math.floor(t)!==t){J(t,r);throw new V.ERR_OUT_OF_RANGE(r||"offset","an integer",t)}if(e<0){throw new V.ERR_BUFFER_OUT_OF_BOUNDS}throw new V.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}const tt=/[^+/0-9A-Za-z-_]/g;function et(t){t=t.split("=")[0];t=t.trim().replace(tt,"");if(t.length<2)return"";while(t.length%4!==0){t=t+"="}return t}function rt(t,e){e=e||Infinity;let r;const i=t.length;let n=null;const o=[];for(let a=0;a<i;++a){r=t.charCodeAt(a);if(r>55295&&r<57344){if(!n){if(r>56319){if((e-=3)>-1)o.push(239,191,189);continue}else if(a+1===i){if((e-=3)>-1)o.push(239,191,189);continue}n=r;continue}if(r<56320){if((e-=3)>-1)o.push(239,191,189);n=r;continue}r=(n-55296<<10|r-56320)+65536}else if(n){if((e-=3)>-1)o.push(239,191,189)}n=null;if(r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else{throw new Error("Invalid code point")}}return o}function it(t){const e=[];for(let r=0;r<t.length;++r){e.push(t.charCodeAt(r)&255)}return e}function nt(t,e){let r,i,n;const o=[];for(let a=0;a<t.length;++a){if((e-=2)<0)break;r=t.charCodeAt(a);i=r>>8;n=r%256;o.push(n);o.push(i)}return o}function ot(t){return n.toByteArray(et(t))}function at(t,e,r,i){let n;for(n=0;n<i;++n){if(n+r>=e.length||n>=t.length)break;e[n+r]=t[n]}return n}function st(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function ut(t){return t!==t}const ht=function(){const t="0123456789abcdef";const e=new Array(256);for(let r=0;r<16;++r){const i=r*16;for(let n=0;n<16;++n){e[i+n]=t[r]+t[n]}}return e}();function ft(t){return typeof BigInt==="undefined"?lt:t}function lt(){throw new Error("BigInt not supported")}},187:t=>{"use strict";t.exports=e;t.exports["default"]=e;function e(t,e,i){i=i||2;var o=e&&e.length,a=o?e[0]*i:t.length,s=r(t,0,a,i,true),u=[];if(!s||s.next===s.prev)return u;var f,l,c,d,p,v,m;if(o)s=h(t,e,s,i);if(t.length>80*i){f=c=t[0];l=d=t[1];for(var g=i;g<a;g+=i){p=t[g];v=t[g+1];if(p<f)f=p;if(v<l)l=v;if(p>c)c=p;if(v>d)d=v}m=Math.max(c-f,d-l);m=m!==0?32767/m:0}n(s,u,i,f,l,m,0);return u}function r(t,e,r,i,n){var o,a;if(n===D(t,e,r,i)>0){for(o=e;o<r;o+=i)a=O(o,t[o],t[o+1],a)}else{for(o=r-i;o>=e;o-=i)a=O(o,t[o],t[o+1],a)}if(a&&x(a,a.next)){C(a);a=a.next}return a}function i(t,e){if(!t)return t;if(!e)e=t;var r=t,i;do{i=false;if(!r.steiner&&(x(r,r.next)||b(r.prev,r,r.next)===0)){C(r);r=e=r.prev;if(r===r.next)break;i=true}else{r=r.next}}while(i||r!==e);return e}function n(t,e,r,h,f,l,c){if(!t)return;if(!c&&l)p(t,h,f,l);var d=t,v,m;while(t.prev!==t.next){v=t.prev;m=t.next;if(l?a(t,h,f,l):o(t)){e.push(v.i/r|0);e.push(t.i/r|0);e.push(m.i/r|0);C(t);t=m.next;d=m.next;continue}t=m;if(t===d){if(!c){n(i(t),e,r,h,f,l,1)}else if(c===1){t=s(i(t),e,r);n(t,e,r,h,f,l,2)}else if(c===2){u(t,e,r,h,f,l)}break}}}function o(t){var e=t.prev,r=t,i=t.next;if(b(e,r,i)>=0)return false;var n=e.x,o=r.x,a=i.x,s=e.y,u=r.y,h=i.y;var f=n<o?n<a?n:a:o<a?o:a,l=s<u?s<h?s:h:u<h?u:h,c=n>o?n>a?n:a:o>a?o:a,d=s>u?s>h?s:h:u>h?u:h;var p=i.next;while(p!==e){if(p.x>=f&&p.x<=c&&p.y>=l&&p.y<=d&&y(n,s,o,u,a,h,p.x,p.y)&&b(p.prev,p,p.next)>=0)return false;p=p.next}return true}function a(t,e,r,i){var n=t.prev,o=t,a=t.next;if(b(n,o,a)>=0)return false;var s=n.x,u=o.x,h=a.x,f=n.y,l=o.y,c=a.y;var d=s<u?s<h?s:h:u<h?u:h,p=f<l?f<c?f:c:l<c?l:c,v=s>u?s>h?s:h:u>h?u:h,g=f>l?f>c?f:c:l>c?l:c;var _=m(d,p,e,r,i),x=m(v,g,e,r,i);var w=t.prevZ,E=t.nextZ;while(w&&w.z>=_&&E&&E.z<=x){if(w.x>=d&&w.x<=v&&w.y>=p&&w.y<=g&&w!==n&&w!==a&&y(s,f,u,l,h,c,w.x,w.y)&&b(w.prev,w,w.next)>=0)return false;w=w.prevZ;if(E.x>=d&&E.x<=v&&E.y>=p&&E.y<=g&&E!==n&&E!==a&&y(s,f,u,l,h,c,E.x,E.y)&&b(E.prev,E,E.next)>=0)return false;E=E.nextZ}while(w&&w.z>=_){if(w.x>=d&&w.x<=v&&w.y>=p&&w.y<=g&&w!==n&&w!==a&&y(s,f,u,l,h,c,w.x,w.y)&&b(w.prev,w,w.next)>=0)return false;w=w.prevZ}while(E&&E.z<=x){if(E.x>=d&&E.x<=v&&E.y>=p&&E.y<=g&&E!==n&&E!==a&&y(s,f,u,l,h,c,E.x,E.y)&&b(E.prev,E,E.next)>=0)return false;E=E.nextZ}return true}function s(t,e,r){var n=t;do{var o=n.prev,a=n.next.next;if(!x(o,a)&&w(o,n,n.next,a)&&I(o,a)&&I(a,o)){e.push(o.i/r|0);e.push(n.i/r|0);e.push(a.i/r|0);C(n);C(n.next);n=t=a}n=n.next}while(n!==t);return i(n)}function u(t,e,r,o,a,s){var u=t;do{var h=u.next.next;while(h!==u.prev){if(u.i!==h.i&&_(u,h)){var f=P(u,h);u=i(u,u.next);f=i(f,f.next);n(u,e,r,o,a,s,0);n(f,e,r,o,a,s,0);return}h=h.next}u=u.next}while(u!==t)}function h(t,e,i,n){var o=[],a,s,u,h,c;for(a=0,s=e.length;a<s;a++){u=e[a]*n;h=a<s-1?e[a+1]*n:t.length;c=r(t,u,h,n,false);if(c===c.next)c.steiner=true;o.push(g(c))}o.sort(f);for(a=0;a<o.length;a++){i=l(o[a],i)}return i}function f(t,e){return t.x-e.x}function l(t,e){var r=c(t,e);if(!r){return e}var n=P(r,t);i(n,n.next);return i(r,r.next)}function c(t,e){var r=e,i=t.x,n=t.y,o=-Infinity,a;do{if(n<=r.y&&n>=r.next.y&&r.next.y!==r.y){var s=r.x+(n-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){o=s;a=r.x<r.next.x?r:r.next;if(s===i)return a}}r=r.next}while(r!==e);if(!a)return null;var u=a,h=a.x,f=a.y,l=Infinity,c;r=a;do{if(i>=r.x&&r.x>=h&&i!==r.x&&y(n<f?i:o,n,h,f,n<f?o:i,n,r.x,r.y)){c=Math.abs(n-r.y)/(i-r.x);if(I(r,t)&&(c<l||c===l&&(r.x>a.x||r.x===a.x&&d(a,r)))){a=r;l=c}}r=r.next}while(r!==u);return a}function d(t,e){return b(t.prev,t,e.prev)<0&&b(e.next,t,t.next)<0}function p(t,e,r,i){var n=t;do{if(n.z===0)n.z=m(n.x,n.y,e,r,i);n.prevZ=n.prev;n.nextZ=n.next;n=n.next}while(n!==t);n.prevZ.nextZ=null;n.prevZ=null;v(n)}function v(t){var e,r,i,n,o,a,s,u,h=1;do{r=t;t=null;o=null;a=0;while(r){a++;i=r;s=0;for(e=0;e<h;e++){s++;i=i.nextZ;if(!i)break}u=h;while(s>0||u>0&&i){if(s!==0&&(u===0||!i||r.z<=i.z)){n=r;r=r.nextZ;s--}else{n=i;i=i.nextZ;u--}if(o)o.nextZ=n;else t=n;n.prevZ=o;o=n}r=i}o.nextZ=null;h*=2}while(a>1);return t}function m(t,e,r,i,n){t=(t-r)*n|0;e=(e-i)*n|0;t=(t|t<<8)&16711935;t=(t|t<<4)&252645135;t=(t|t<<2)&858993459;t=(t|t<<1)&1431655765;e=(e|e<<8)&16711935;e=(e|e<<4)&252645135;e=(e|e<<2)&858993459;e=(e|e<<1)&1431655765;return t|e<<1}function g(t){var e=t,r=t;do{if(e.x<r.x||e.x===r.x&&e.y<r.y)r=e;e=e.next}while(e!==t);return r}function y(t,e,r,i,n,o,a,s){return(n-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(i-s)>=(r-a)*(e-s)&&(r-a)*(o-s)>=(n-a)*(i-s)}function _(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!S(t,e)&&(I(t,e)&&I(e,t)&&A(t,e)&&(b(t.prev,t,e.prev)||b(t,e.prev,e))||x(t,e)&&b(t.prev,t,t.next)>0&&b(e.prev,e,e.next)>0)}function b(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function x(t,e){return t.x===e.x&&t.y===e.y}function w(t,e,r,i){var n=T(b(t,e,r));var o=T(b(t,e,i));var a=T(b(r,i,t));var s=T(b(r,i,e));if(n!==o&&a!==s)return true;if(n===0&&E(t,r,e))return true;if(o===0&&E(t,i,e))return true;if(a===0&&E(r,t,i))return true;if(s===0&&E(r,e,i))return true;return false}function E(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function T(t){return t>0?1:t<0?-1:0}function S(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&w(r,r.next,t,e))return true;r=r.next}while(r!==t);return false}function I(t,e){return b(t.prev,t,t.next)<0?b(t,e,t.next)>=0&&b(t,t.prev,e)>=0:b(t,e,t.prev)<0||b(t,t.next,e)<0}function A(t,e){var r=t,i=false,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{if(r.y>o!==r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x)i=!i;r=r.next}while(r!==t);return i}function P(t,e){var r=new R(t.i,t.x,t.y),i=new R(e.i,e.x,e.y),n=t.next,o=e.prev;t.next=e;e.prev=t;r.next=n;n.prev=r;i.next=r;r.prev=i;o.next=i;i.prev=o;return i}function O(t,e,r,i){var n=new R(t,e,r);if(!i){n.prev=n;n.next=n}else{n.next=i.next;n.prev=i;i.next.prev=n;i.next=n}return n}function C(t){t.next.prev=t.prev;t.prev.next=t.next;if(t.prevZ)t.prevZ.nextZ=t.nextZ;if(t.nextZ)t.nextZ.prevZ=t.prevZ}function R(t,e,r){this.i=t;this.x=e;this.y=r;this.prev=null;this.next=null;this.z=0;this.prevZ=null;this.nextZ=null;this.steiner=false}e.deviation=function(t,e,r,i){var n=e&&e.length;var o=n?e[0]*r:t.length;var a=Math.abs(D(t,0,o,r));if(n){for(var s=0,u=e.length;s<u;s++){var h=e[s]*r;var f=s<u-1?e[s+1]*r:t.length;a-=Math.abs(D(t,h,f,r))}}var l=0;for(s=0;s<i.length;s+=3){var c=i[s]*r;var d=i[s+1]*r;var p=i[s+2]*r;l+=Math.abs((t[c]-t[p])*(t[d+1]-t[c+1])-(t[c]-t[d])*(t[p+1]-t[c+1]))}return a===0&&l===0?0:Math.abs((l-a)/a)};function D(t,e,r,i){var n=0;for(var o=e,a=r-i;o<r;o+=i){n+=(t[a]-t[o])*(t[o+1]+t[a+1]);a=o}return n}e.flatten=function(t){var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0;for(var n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++){for(var a=0;a<e;a++)r.vertices.push(t[n][o][a])}if(n>0){i+=t[n-1].length;r.holes.push(i)}}return r}},713:function(t,e,r){var i;(function(n){var o=n["Promise"];var a=o&&"resolve"in o&&"reject"in o&&"all"in o&&"race"in o&&function(){var t;new o((function(e){t=e}));return typeof t==="function"}();if(true&&e){e.Promise=a?o:A;e.Polyfill=A}else{if(true){!(i=function(){return a?o:A}.call(e,r,e,t),i!==undefined&&(t.exports=i))}else{}}var s="pending";var u="sealed";var h="fulfilled";var f="rejected";var l=function(){};function c(t){return Object.prototype.toString.call(t)==="[object Array]"}var d=typeof setImmediate!=="undefined"?setImmediate:setTimeout;var p=[];var v;function m(){for(var t=0;t<p.length;t++)p[t][0](p[t][1]);p=[];v=false}function g(t,e){p.push([t,e]);if(!v){v=true;d(m,0)}}function y(t,e){function r(t){x(e,t)}function i(t){E(e,t)}try{t(r,i)}catch(t){i(t)}}function _(t){var e=t.owner;var r=e.state_;var i=e.data_;var n=t[r];var o=t.then;if(typeof n==="function"){r=h;try{i=n(i)}catch(t){E(o,t)}}if(!b(o,i)){if(r===h)x(o,i);if(r===f)E(o,i)}}function b(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&(typeof e==="function"||typeof e==="object")){var i=e.then;if(typeof i==="function"){i.call(e,(function(i){if(!r){r=true;if(e!==i)x(t,i);else w(t,i)}}),(function(e){if(!r){r=true;E(t,e)}}));return true}}}catch(e){if(!r)E(t,e);return true}return false}function x(t,e){if(t===e||!b(t,e))w(t,e)}function w(t,e){if(t.state_===s){t.state_=u;t.data_=e;g(S,t)}}function E(t,e){if(t.state_===s){t.state_=u;t.data_=e;g(I,t)}}function T(t){var e=t.then_;t.then_=undefined;for(var r=0;r<e.length;r++){_(e[r])}}function S(t){t.state_=h;T(t)}function I(t){t.state_=f;T(t)}function A(t){if(typeof t!=="function")throw new TypeError("Promise constructor takes a function argument");if(this instanceof A===false)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[];y(t,this)}A.prototype={constructor:A,state_:s,then_:null,data_:undefined,then:function(t,e){var r={owner:this,then:new this.constructor(l),fulfilled:t,rejected:e};if(this.state_===h||this.state_===f){g(_,r)}else{this.then_.push(r)}return r.then},catch:function(t){return this.then(null,t)}};A.all=function(t){var e=this;if(!c(t))throw new TypeError("You must pass an array to Promise.all().");return new e((function(e,r){var i=[];var n=0;function o(t){n++;return function(r){i[t]=r;if(!--n)e(i)}}for(var a=0,s;a<t.length;a++){s=t[a];if(s&&typeof s.then==="function")s.then(o(a),r);else i[a]=s}if(!n)e(i)}))};A.race=function(t){var e=this;if(!c(t))throw new TypeError("You must pass an array to Promise.race().");return new e((function(e,r){for(var i=0,n;i<t.length;i++){n=t[i];if(n&&typeof n.then==="function")n.then(e,r);else e(n)}}))};A.resolve=function(t){var e=this;if(t&&typeof t==="object"&&t.constructor===e)return t;return new e((function(e){e(t)}))};A.reject=function(t){var e=this;return new e((function(e,r){r(t)}))}})(typeof window!="undefined"?window:typeof r.g!="undefined"?r.g:typeof self!="undefined"?self:this)},729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function i(){}if(Object.create){i.prototype=Object.create(null);if(!(new i).__proto__)r=false}function n(t,e,r){this.fn=t;this.context=e;this.once=r||false}function o(t,e,i,o,a){if(typeof i!=="function"){throw new TypeError("The listener must be a function")}var s=new n(i,o||t,a),u=r?r+e:e;if(!t._events[u])t._events[u]=s,t._eventsCount++;else if(!t._events[u].fn)t._events[u].push(s);else t._events[u]=[t._events[u],s];return t}function a(t,e){if(--t._eventsCount===0)t._events=new i;else delete t._events[e]}function s(){this._events=new i;this._eventsCount=0}s.prototype.eventNames=function t(){var i=[],n,o;if(this._eventsCount===0)return i;for(o in n=this._events){if(e.call(n,o))i.push(r?o.slice(1):o)}if(Object.getOwnPropertySymbols){return i.concat(Object.getOwnPropertySymbols(n))}return i};s.prototype.listeners=function t(e){var i=r?r+e:e,n=this._events[i];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,a=n.length,s=new Array(a);o<a;o++){s[o]=n[o].fn}return s};s.prototype.listenerCount=function t(e){var i=r?r+e:e,n=this._events[i];if(!n)return 0;if(n.fn)return 1;return n.length};s.prototype.emit=function t(e,i,n,o,a,s){var u=r?r+e:e;if(!this._events[u])return false;var h=this._events[u],f=arguments.length,l,c;if(h.fn){if(h.once)this.removeListener(e,h.fn,undefined,true);switch(f){case 1:return h.fn.call(h.context),true;case 2:return h.fn.call(h.context,i),true;case 3:return h.fn.call(h.context,i,n),true;case 4:return h.fn.call(h.context,i,n,o),true;case 5:return h.fn.call(h.context,i,n,o,a),true;case 6:return h.fn.call(h.context,i,n,o,a,s),true}for(c=1,l=new Array(f-1);c<f;c++){l[c-1]=arguments[c]}h.fn.apply(h.context,l)}else{var d=h.length,p;for(c=0;c<d;c++){if(h[c].once)this.removeListener(e,h[c].fn,undefined,true);switch(f){case 1:h[c].fn.call(h[c].context);break;case 2:h[c].fn.call(h[c].context,i);break;case 3:h[c].fn.call(h[c].context,i,n);break;case 4:h[c].fn.call(h[c].context,i,n,o);break;default:if(!l)for(p=1,l=new Array(f-1);p<f;p++){l[p-1]=arguments[p]}h[c].fn.apply(h[c].context,l)}}}return true};s.prototype.on=function t(e,r,i){return o(this,e,r,i,false)};s.prototype.once=function t(e,r,i){return o(this,e,r,i,true)};s.prototype.removeListener=function t(e,i,n,o){var s=r?r+e:e;if(!this._events[s])return this;if(!i){a(this,s);return this}var u=this._events[s];if(u.fn){if(u.fn===i&&(!o||u.once)&&(!n||u.context===n)){a(this,s)}}else{for(var h=0,f=[],l=u.length;h<l;h++){if(u[h].fn!==i||o&&!u[h].once||n&&u[h].context!==n){f.push(u[h])}}if(f.length)this._events[s]=f.length===1?f[0]:f;else a(this,s)}return this};s.prototype.removeAllListeners=function t(e){var n;if(e){n=r?r+e:e;if(this._events[n])a(this,n)}else{this._events=new i;this._eventsCount=0}return this};s.prototype.off=s.prototype.removeListener;s.prototype.addListener=s.prototype.on;s.prefixed=r;s.EventEmitter=s;if(true){t.exports=s}},162:function(t,e,r){var i,n,o;(function(r,a){if(true)!(n=[],i=a,o=typeof i==="function"?i.apply(e,n):i,o!==undefined&&(t.exports=o));else{}})(this,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function i(t,e,r){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){u(i.response,e,r)},i.onerror=function(){console.error("could not download file")},i.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(r){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r.g&&r.g.global===r.g?r.g:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(t,e,r){var s=a.URL||a.webkitURL,u=document.createElement("a");e=e||t.name||"download",u.download=e,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?o(u):n(u.href)?i(t,e,r):o(u,u.target="_blank")):(u.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(u.href)}),4e4),setTimeout((function(){o(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,r,a){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,a),r);else if(n(t))i(t,r,a);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){o(s)}))}}:function(t,e,r,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof t)return i(t,e,r);var o="application/octet-stream"===t.type,u=/constructor/i.test(a.HTMLElement)||a.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||o&&u||s)&&"undefined"!=typeof FileReader){var f=new FileReader;f.onloadend=function(){var t=f.result;t=h?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=t:location=t,n=null},f.readAsDataURL(t)}else{var l=a.URL||a.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout((function(){l.revokeObjectURL(c)}),4e4)}});a.saveAs=u.saveAs=u,true&&(t.exports=u)}))},645:(t,e)=>{e.read=function(t,e,r,i,n){var o,a;var s=n*8-i-1;var u=(1<<s)-1;var h=u>>1;var f=-7;var l=r?n-1:0;var c=r?-1:1;var d=t[e+l];l+=c;o=d&(1<<-f)-1;d>>=-f;f+=s;for(;f>0;o=o*256+t[e+l],l+=c,f-=8){}a=o&(1<<-f)-1;o>>=-f;f+=i;for(;f>0;a=a*256+t[e+l],l+=c,f-=8){}if(o===0){o=1-h}else if(o===u){return a?NaN:(d?-1:1)*Infinity}else{a=a+Math.pow(2,i);o=o-h}return(d?-1:1)*a*Math.pow(2,o-i)};e.write=function(t,e,r,i,n,o){var a,s,u;var h=o*8-n-1;var f=(1<<h)-1;var l=f>>1;var c=n===23?Math.pow(2,-24)-Math.pow(2,-77):0;var d=i?0:o-1;var p=i?1:-1;var v=e<0||e===0&&1/e<0?1:0;e=Math.abs(e);if(isNaN(e)||e===Infinity){s=isNaN(e)?1:0;a=f}else{a=Math.floor(Math.log(e)/Math.LN2);if(e*(u=Math.pow(2,-a))<1){a--;u*=2}if(a+l>=1){e+=c/u}else{e+=c*Math.pow(2,1-l)}if(e*u>=2){a++;u/=2}if(a+l>=f){s=0;a=f}else if(a+l>=1){s=(e*u-1)*Math.pow(2,n);a=a+l}else{s=e*Math.pow(2,l-1)*Math.pow(2,n);a=0}}for(;n>=8;t[r+d]=s&255,d+=p,s/=256,n-=8){}a=a<<n|s;h+=n;for(;h>0;t[r+d]=a&255,d+=p,a/=256,h-=8){}t[r+d-p]|=v*128}},755:function(t,e){var r,i;(function(e,r){"use strict";if(true&&typeof t.exports==="object"){t.exports=e.document?r(e,true):function(t){if(!t.document){throw new Error("jQuery requires a window with a document")}return r(t)}}else{r(e)}})(typeof window!=="undefined"?window:this,(function(n,o){"use strict";var a=[];var s=Object.getPrototypeOf;var u=a.slice;var h=a.flat?function(t){return a.flat.call(t)}:function(t){return a.concat.apply([],t)};var f=a.push;var l=a.indexOf;var c={};var d=c.toString;var p=c.hasOwnProperty;var v=p.toString;var m=v.call(Object);var g={};var y=function t(e){return typeof e==="function"&&typeof e.nodeType!=="number"&&typeof e.item!=="function"};var _=function t(e){return e!=null&&e===e.window};var b=n.document;var x={type:true,src:true,nonce:true,noModule:true};function w(t,e,r){r=r||b;var i,n,o=r.createElement("script");o.text=t;if(e){for(i in x){n=e[i]||e.getAttribute&&e.getAttribute(i);if(n){o.setAttribute(i,n)}}}r.head.appendChild(o).parentNode.removeChild(o)}function E(t){if(t==null){return t+""}return typeof t==="object"||typeof t==="function"?c[d.call(t)]||"object":typeof t}var T="3.7.0",S=/HTML$/i,I=function(t,e){return new I.fn.init(t,e)};I.fn=I.prototype={jquery:T,constructor:I,length:0,toArray:function(){return u.call(this)},get:function(t){if(t==null){return u.call(this)}return t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=I.merge(this.constructor(),t);e.prevObject=this;return e},each:function(t){return I.each(this,t)},map:function(t){return this.pushStack(I.map(this,(function(e,r){return t.call(e,r,e)})))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(I.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(I.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,r=+t+(t<0?e:0);return this.pushStack(r>=0&&r<e?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:f,sort:a.sort,splice:a.splice};I.extend=I.fn.extend=function(){var t,e,r,i,n,o,a=arguments[0]||{},s=1,u=arguments.length,h=false;if(typeof a==="boolean"){h=a;a=arguments[s]||{};s++}if(typeof a!=="object"&&!y(a)){a={}}if(s===u){a=this;s--}for(;s<u;s++){if((t=arguments[s])!=null){for(e in t){i=t[e];if(e==="__proto__"||a===i){continue}if(h&&i&&(I.isPlainObject(i)||(n=Array.isArray(i)))){r=a[e];if(n&&!Array.isArray(r)){o=[]}else if(!n&&!I.isPlainObject(r)){o={}}else{o=r}n=false;a[e]=I.extend(h,o,i)}else if(i!==undefined){a[e]=i}}}}return a};I.extend({expando:"jQuery"+(T+Math.random()).replace(/\D/g,""),isReady:true,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,r;if(!t||d.call(t)!=="[object Object]"){return false}e=s(t);if(!e){return true}r=p.call(e,"constructor")&&e.constructor;return typeof r==="function"&&v.call(r)===m},isEmptyObject:function(t){var e;for(e in t){return false}return true},globalEval:function(t,e,r){w(t,{nonce:e&&e.nonce},r)},each:function(t,e){var r,i=0;if(A(t)){r=t.length;for(;i<r;i++){if(e.call(t[i],i,t[i])===false){break}}}else{for(i in t){if(e.call(t[i],i,t[i])===false){break}}}return t},text:function(t){var e,r="",i=0,n=t.nodeType;if(!n){while(e=t[i++]){r+=I.text(e)}}else if(n===1||n===9||n===11){return t.textContent}else if(n===3||n===4){return t.nodeValue}return r},makeArray:function(t,e){var r=e||[];if(t!=null){if(A(Object(t))){I.merge(r,typeof t==="string"?[t]:t)}else{f.call(r,t)}}return r},inArray:function(t,e,r){return e==null?-1:l.call(e,t,r)},isXMLDoc:function(t){var e=t&&t.namespaceURI,r=t&&(t.ownerDocument||t).documentElement;return!S.test(e||r&&r.nodeName||"HTML")},merge:function(t,e){var r=+e.length,i=0,n=t.length;for(;i<r;i++){t[n++]=e[i]}t.length=n;return t},grep:function(t,e,r){var i,n=[],o=0,a=t.length,s=!r;for(;o<a;o++){i=!e(t[o],o);if(i!==s){n.push(t[o])}}return n},map:function(t,e,r){var i,n,o=0,a=[];if(A(t)){i=t.length;for(;o<i;o++){n=e(t[o],o,r);if(n!=null){a.push(n)}}}else{for(o in t){n=e(t[o],o,r);if(n!=null){a.push(n)}}}return h(a)},guid:1,support:g});if(typeof Symbol==="function"){I.fn[Symbol.iterator]=a[Symbol.iterator]}I.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){c["[object "+e+"]"]=e.toLowerCase()}));function A(t){var e=!!t&&"length"in t&&t.length,r=E(t);if(y(t)||_(t)){return false}return r==="array"||e===0||typeof e==="number"&&e>0&&e-1 in t}function P(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var O=a.pop;var C=a.sort;var R=a.splice;var D="[\\x20\\t\\r\\n\\f]";var M=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g");I.contains=function(t,e){var r=e&&e.parentNode;return t===r||!!(r&&r.nodeType===1&&(t.contains?t.contains(r):t.compareDocumentPosition&&t.compareDocumentPosition(r)&16))};var k=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function N(t,e){if(e){if(t==="\0"){return"�"}return t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" "}return"\\"+t}I.escapeSelector=function(t){return(t+"").replace(k,N)};var L=b,B=f;(function(){var t,e,r,i,o,s=B,h,f,c,d,v,m=I.expando,y=0,_=0,b=et(),x=et(),w=et(),E=et(),T=function(t,e){if(t===e){o=true}return 0},S="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|"+"loop|multiple|open|readonly|required|scoped",A="(?:\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",k="\\["+D+"*("+A+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+A+"))|)"+D+"*\\]",N=":("+A+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+k+")*)|"+".*"+")\\)|)",F=new RegExp(D+"+","g"),U=new RegExp("^"+D+"*,"+D+"*"),j=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),z=new RegExp(D+"|>"),X=new RegExp(N),H=new RegExp("^"+A+"$"),G={ID:new RegExp("^#("+A+")"),CLASS:new RegExp("^\\.("+A+")"),TAG:new RegExp("^("+A+"|[*])"),ATTR:new RegExp("^"+k),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+S+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,V=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,q=/[+~]/,Z=new RegExp("\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\([^\\r\\n\\f])","g"),$=function(t,e){var r="0x"+t.slice(1)-65536;if(e){return e}return r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)},K=function(){ht()},J=dt((function(t){return t.disabled===true&&P(t,"fieldset")}),{dir:"parentNode",next:"legend"});function Q(){try{return h.activeElement}catch(t){}}try{s.apply(a=u.call(L.childNodes),L.childNodes);a[L.childNodes.length].nodeType}catch(t){s={apply:function(t,e){B.apply(t,u.call(e))},call:function(t){B.apply(t,u.call(arguments,1))}}}function tt(t,e,r,i){var n,o,a,u,f,l,p,v=e&&e.ownerDocument,y=e?e.nodeType:9;r=r||[];if(typeof t!=="string"||!t||y!==1&&y!==9&&y!==11){return r}if(!i){ht(e);e=e||h;if(c){if(y!==11&&(f=V.exec(t))){if(n=f[1]){if(y===9){if(a=e.getElementById(n)){if(a.id===n){s.call(r,a);return r}}else{return r}}else{if(v&&(a=v.getElementById(n))&&tt.contains(e,a)&&a.id===n){s.call(r,a);return r}}}else if(f[2]){s.apply(r,e.getElementsByTagName(t));return r}else if((n=f[3])&&e.getElementsByClassName){s.apply(r,e.getElementsByClassName(n));return r}}if(!E[t+" "]&&(!d||!d.test(t))){p=t;v=e;if(y===1&&(z.test(t)||j.test(t))){v=q.test(t)&&ut(e.parentNode)||e;if(v!=e||!g.scope){if(u=e.getAttribute("id")){u=I.escapeSelector(u)}else{e.setAttribute("id",u=m)}}l=lt(t);o=l.length;while(o--){l[o]=(u?"#"+u:":scope")+" "+ct(l[o])}p=l.join(",")}try{s.apply(r,v.querySelectorAll(p));return r}catch(e){E(t,true)}finally{if(u===m){e.removeAttribute("id")}}}}}return xt(t.replace(M,"$1"),e,r,i)}function et(){var t=[];function r(i,n){if(t.push(i+" ")>e.cacheLength){delete r[t.shift()]}return r[i+" "]=n}return r}function rt(t){t[m]=true;return t}function it(t){var e=h.createElement("fieldset");try{return!!t(e)}catch(t){return false}finally{if(e.parentNode){e.parentNode.removeChild(e)}e=null}}function nt(t){return function(e){return P(e,"input")&&e.type===t}}function ot(t){return function(e){return(P(e,"input")||P(e,"button"))&&e.type===t}}function at(t){return function(e){if("form"in e){if(e.parentNode&&e.disabled===false){if("label"in e){if("label"in e.parentNode){return e.parentNode.disabled===t}else{return e.disabled===t}}return e.isDisabled===t||e.isDisabled!==!t&&J(e)===t}return e.disabled===t}else if("label"in e){return e.disabled===t}return false}}function st(t){return rt((function(e){e=+e;return rt((function(r,i){var n,o=t([],r.length,e),a=o.length;while(a--){if(r[n=o[a]]){r[n]=!(i[n]=r[n])}}}))}))}function ut(t){return t&&typeof t.getElementsByTagName!=="undefined"&&t}function ht(t){var r,n=t?t.ownerDocument||t:L;if(n==h||n.nodeType!==9||!n.documentElement){return h}h=n;f=h.documentElement;c=!I.isXMLDoc(h);v=f.matches||f.webkitMatchesSelector||f.msMatchesSelector;if(L!=h&&(r=h.defaultView)&&r.top!==r){r.addEventListener("unload",K)}g.getById=it((function(t){f.appendChild(t).id=I.expando;return!h.getElementsByName||!h.getElementsByName(I.expando).length}));g.disconnectedMatch=it((function(t){return v.call(t,"*")}));g.scope=it((function(){return h.querySelectorAll(":scope")}));g.cssHas=it((function(){try{h.querySelector(":has(*,:jqfake)");return false}catch(t){return true}}));if(g.getById){e.filter.ID=function(t){var e=t.replace(Z,$);return function(t){return t.getAttribute("id")===e}};e.find.ID=function(t,e){if(typeof e.getElementById!=="undefined"&&c){var r=e.getElementById(t);return r?[r]:[]}}}else{e.filter.ID=function(t){var e=t.replace(Z,$);return function(t){var r=typeof t.getAttributeNode!=="undefined"&&t.getAttributeNode("id");return r&&r.value===e}};e.find.ID=function(t,e){if(typeof e.getElementById!=="undefined"&&c){var r,i,n,o=e.getElementById(t);if(o){r=o.getAttributeNode("id");if(r&&r.value===t){return[o]}n=e.getElementsByName(t);i=0;while(o=n[i++]){r=o.getAttributeNode("id");if(r&&r.value===t){return[o]}}}return[]}}}e.find.TAG=function(t,e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName(t)}else{return e.querySelectorAll(t)}};e.find.CLASS=function(t,e){if(typeof e.getElementsByClassName!=="undefined"&&c){return e.getElementsByClassName(t)}};d=[];it((function(t){var e;f.appendChild(t).innerHTML="<a id='"+m+"' href='' disabled='disabled'></a>"+"<select id='"+m+"-\r\\' disabled='disabled'>"+"<option selected=''></option></select>";if(!t.querySelectorAll("[selected]").length){d.push("\\["+D+"*(?:value|"+S+")")}if(!t.querySelectorAll("[id~="+m+"-]").length){d.push("~=")}if(!t.querySelectorAll("a#"+m+"+*").length){d.push(".#.+[+~]")}if(!t.querySelectorAll(":checked").length){d.push(":checked")}e=h.createElement("input");e.setAttribute("type","hidden");t.appendChild(e).setAttribute("name","D");f.appendChild(t).disabled=true;if(t.querySelectorAll(":disabled").length!==2){d.push(":enabled",":disabled")}e=h.createElement("input");e.setAttribute("name","");t.appendChild(e);if(!t.querySelectorAll("[name='']").length){d.push("\\["+D+"*name"+D+"*="+D+"*(?:''|\"\")")}}));if(!g.cssHas){d.push(":has")}d=d.length&&new RegExp(d.join("|"));T=function(t,e){if(t===e){o=true;return 0}var r=!t.compareDocumentPosition-!e.compareDocumentPosition;if(r){return r}r=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1;if(r&1||!g.sortDetached&&e.compareDocumentPosition(t)===r){if(t===h||t.ownerDocument==L&&tt.contains(L,t)){return-1}if(e===h||e.ownerDocument==L&&tt.contains(L,e)){return 1}return i?l.call(i,t)-l.call(i,e):0}return r&4?-1:1};return h}tt.matches=function(t,e){return tt(t,null,null,e)};tt.matchesSelector=function(t,e){ht(t);if(c&&!E[e+" "]&&(!d||!d.test(e))){try{var r=v.call(t,e);if(r||g.disconnectedMatch||t.document&&t.document.nodeType!==11){return r}}catch(t){E(e,true)}}return tt(e,h,null,[t]).length>0};tt.contains=function(t,e){if((t.ownerDocument||t)!=h){ht(t)}return I.contains(t,e)};tt.attr=function(t,r){if((t.ownerDocument||t)!=h){ht(t)}var i=e.attrHandle[r.toLowerCase()],n=i&&p.call(e.attrHandle,r.toLowerCase())?i(t,r,!c):undefined;if(n!==undefined){return n}return t.getAttribute(r)};tt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)};I.uniqueSort=function(t){var e,r=[],n=0,a=0;o=!g.sortStable;i=!g.sortStable&&u.call(t,0);C.call(t,T);if(o){while(e=t[a++]){if(e===t[a]){n=r.push(a)}}while(n--){R.call(t,r[n],1)}}i=null;return t};I.fn.uniqueSort=function(){return this.pushStack(I.uniqueSort(u.apply(this)))};e=I.expr={cacheLength:50,createPseudo:rt,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){t[1]=t[1].replace(Z,$);t[3]=(t[3]||t[4]||t[5]||"").replace(Z,$);if(t[2]==="~="){t[3]=" "+t[3]+" "}return t.slice(0,4)},CHILD:function(t){t[1]=t[1].toLowerCase();if(t[1].slice(0,3)==="nth"){if(!t[3]){tt.error(t[0])}t[4]=+(t[4]?t[5]+(t[6]||1):2*(t[3]==="even"||t[3]==="odd"));t[5]=+(t[7]+t[8]||t[3]==="odd")}else if(t[3]){tt.error(t[0])}return t},PSEUDO:function(t){var e,r=!t[6]&&t[2];if(G.CHILD.test(t[0])){return null}if(t[3]){t[2]=t[4]||t[5]||""}else if(r&&X.test(r)&&(e=lt(r,true))&&(e=r.indexOf(")",r.length-e)-r.length)){t[0]=t[0].slice(0,e);t[2]=r.slice(0,e)}return t.slice(0,3)}},filter:{TAG:function(t){var e=t.replace(Z,$).toLowerCase();return t==="*"?function(){return true}:function(t){return P(t,e)}},CLASS:function(t){var e=b[t+" "];return e||(e=new RegExp("(^|"+D+")"+t+"("+D+"|$)"))&&b(t,(function(t){return e.test(typeof t.className==="string"&&t.className||typeof t.getAttribute!=="undefined"&&t.getAttribute("class")||"")}))},ATTR:function(t,e,r){return function(i){var n=tt.attr(i,t);if(n==null){return e==="!="}if(!e){return true}n+="";if(e==="="){return n===r}if(e==="!="){return n!==r}if(e==="^="){return r&&n.indexOf(r)===0}if(e==="*="){return r&&n.indexOf(r)>-1}if(e==="$="){return r&&n.slice(-r.length)===r}if(e==="~="){return(" "+n.replace(F," ")+" ").indexOf(r)>-1}if(e==="|="){return n===r||n.slice(0,r.length+1)===r+"-"}return false}},CHILD:function(t,e,r,i,n){var o=t.slice(0,3)!=="nth",a=t.slice(-4)!=="last",s=e==="of-type";return i===1&&n===0?function(t){return!!t.parentNode}:function(e,r,u){var h,f,l,c,d,p=o!==a?"nextSibling":"previousSibling",v=e.parentNode,g=s&&e.nodeName.toLowerCase(),_=!u&&!s,b=false;if(v){if(o){while(p){l=e;while(l=l[p]){if(s?P(l,g):l.nodeType===1){return false}}d=p=t==="only"&&!d&&"nextSibling"}return true}d=[a?v.firstChild:v.lastChild];if(a&&_){f=v[m]||(v[m]={});h=f[t]||[];c=h[0]===y&&h[1];b=c&&h[2];l=c&&v.childNodes[c];while(l=++c&&l&&l[p]||(b=c=0)||d.pop()){if(l.nodeType===1&&++b&&l===e){f[t]=[y,c,b];break}}}else{if(_){f=e[m]||(e[m]={});h=f[t]||[];c=h[0]===y&&h[1];b=c}if(b===false){while(l=++c&&l&&l[p]||(b=c=0)||d.pop()){if((s?P(l,g):l.nodeType===1)&&++b){if(_){f=l[m]||(l[m]={});f[t]=[y,b]}if(l===e){break}}}}}b-=n;return b===i||b%i===0&&b/i>=0}}},PSEUDO:function(t,r){var i,n=e.pseudos[t]||e.setFilters[t.toLowerCase()]||tt.error("unsupported pseudo: "+t);if(n[m]){return n(r)}if(n.length>1){i=[t,t,"",r];return e.setFilters.hasOwnProperty(t.toLowerCase())?rt((function(t,e){var i,o=n(t,r),a=o.length;while(a--){i=l.call(t,o[a]);t[i]=!(e[i]=o[a])}})):function(t){return n(t,0,i)}}return n}},pseudos:{not:rt((function(t){var e=[],r=[],i=bt(t.replace(M,"$1"));return i[m]?rt((function(t,e,r,n){var o,a=i(t,null,n,[]),s=t.length;while(s--){if(o=a[s]){t[s]=!(e[s]=o)}}})):function(t,n,o){e[0]=t;i(e,null,o,r);e[0]=null;return!r.pop()}})),has:rt((function(t){return function(e){return tt(t,e).length>0}})),contains:rt((function(t){t=t.replace(Z,$);return function(e){return(e.textContent||I.text(e)).indexOf(t)>-1}})),lang:rt((function(t){if(!H.test(t||"")){tt.error("unsupported lang: "+t)}t=t.replace(Z,$).toLowerCase();return function(e){var r;do{if(r=c?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang")){r=r.toLowerCase();return r===t||r.indexOf(t+"-")===0}}while((e=e.parentNode)&&e.nodeType===1);return false}})),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===f},focus:function(t){return t===Q()&&h.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:at(false),disabled:at(true),checked:function(t){return P(t,"input")&&!!t.checked||P(t,"option")&&!!t.selected},selected:function(t){if(t.parentNode){t.parentNode.selectedIndex}return t.selected===true},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling){if(t.nodeType<6){return false}}return true},parent:function(t){return!e.pseudos.empty(t)},header:function(t){return Y.test(t.nodeName)},input:function(t){return W.test(t.nodeName)},button:function(t){return P(t,"input")&&t.type==="button"||P(t,"button")},text:function(t){var e;return P(t,"input")&&t.type==="text"&&((e=t.getAttribute("type"))==null||e.toLowerCase()==="text")},first:st((function(){return[0]})),last:st((function(t,e){return[e-1]})),eq:st((function(t,e,r){return[r<0?r+e:r]})),even:st((function(t,e){var r=0;for(;r<e;r+=2){t.push(r)}return t})),odd:st((function(t,e){var r=1;for(;r<e;r+=2){t.push(r)}return t})),lt:st((function(t,e,r){var i;if(r<0){i=r+e}else if(r>e){i=e}else{i=r}for(;--i>=0;){t.push(i)}return t})),gt:st((function(t,e,r){var i=r<0?r+e:r;for(;++i<e;){t.push(i)}return t}))}};e.pseudos.nth=e.pseudos.eq;for(t in{radio:true,checkbox:true,file:true,password:true,image:true}){e.pseudos[t]=nt(t)}for(t in{submit:true,reset:true}){e.pseudos[t]=ot(t)}function ft(){}ft.prototype=e.filters=e.pseudos;e.setFilters=new ft;function lt(t,r){var i,n,o,a,s,u,h,f=x[t+" "];if(f){return r?0:f.slice(0)}s=t;u=[];h=e.preFilter;while(s){if(!i||(n=U.exec(s))){if(n){s=s.slice(n[0].length)||s}u.push(o=[])}i=false;if(n=j.exec(s)){i=n.shift();o.push({value:i,type:n[0].replace(M," ")});s=s.slice(i.length)}for(a in e.filter){if((n=G[a].exec(s))&&(!h[a]||(n=h[a](n)))){i=n.shift();o.push({value:i,type:a,matches:n});s=s.slice(i.length)}}if(!i){break}}if(r){return s.length}return s?tt.error(t):x(t,u).slice(0)}function ct(t){var e=0,r=t.length,i="";for(;e<r;e++){i+=t[e].value}return i}function dt(t,e,r){var i=e.dir,n=e.next,o=n||i,a=r&&o==="parentNode",s=_++;return e.first?function(e,r,n){while(e=e[i]){if(e.nodeType===1||a){return t(e,r,n)}}return false}:function(e,r,u){var h,f,l=[y,s];if(u){while(e=e[i]){if(e.nodeType===1||a){if(t(e,r,u)){return true}}}}else{while(e=e[i]){if(e.nodeType===1||a){f=e[m]||(e[m]={});if(n&&P(e,n)){e=e[i]||e}else if((h=f[o])&&h[0]===y&&h[1]===s){return l[2]=h[2]}else{f[o]=l;if(l[2]=t(e,r,u)){return true}}}}}return false}}function pt(t){return t.length>1?function(e,r,i){var n=t.length;while(n--){if(!t[n](e,r,i)){return false}}return true}:t[0]}function vt(t,e,r){var i=0,n=e.length;for(;i<n;i++){tt(t,e[i],r)}return r}function mt(t,e,r,i,n){var o,a=[],s=0,u=t.length,h=e!=null;for(;s<u;s++){if(o=t[s]){if(!r||r(o,i,n)){a.push(o);if(h){e.push(s)}}}}return a}function gt(t,e,r,i,n,o){if(i&&!i[m]){i=gt(i)}if(n&&!n[m]){n=gt(n,o)}return rt((function(o,a,u,h){var f,c,d,p,v=[],m=[],g=a.length,y=o||vt(e||"*",u.nodeType?[u]:u,[]),_=t&&(o||!e)?mt(y,v,t,u,h):y;if(r){p=n||(o?t:g||i)?[]:a;r(_,p,u,h)}else{p=_}if(i){f=mt(p,m);i(f,[],u,h);c=f.length;while(c--){if(d=f[c]){p[m[c]]=!(_[m[c]]=d)}}}if(o){if(n||t){if(n){f=[];c=p.length;while(c--){if(d=p[c]){f.push(_[c]=d)}}n(null,p=[],f,h)}c=p.length;while(c--){if((d=p[c])&&(f=n?l.call(o,d):v[c])>-1){o[f]=!(a[f]=d)}}}}else{p=mt(p===a?p.splice(g,p.length):p);if(n){n(null,a,p,h)}else{s.apply(a,p)}}}))}function yt(t){var i,n,o,a=t.length,s=e.relative[t[0].type],u=s||e.relative[" "],h=s?1:0,f=dt((function(t){return t===i}),u,true),c=dt((function(t){return l.call(i,t)>-1}),u,true),d=[function(t,e,n){var o=!s&&(n||e!=r)||((i=e).nodeType?f(t,e,n):c(t,e,n));i=null;return o}];for(;h<a;h++){if(n=e.relative[t[h].type]){d=[dt(pt(d),n)]}else{n=e.filter[t[h].type].apply(null,t[h].matches);if(n[m]){o=++h;for(;o<a;o++){if(e.relative[t[o].type]){break}}return gt(h>1&&pt(d),h>1&&ct(t.slice(0,h-1).concat({value:t[h-2].type===" "?"*":""})).replace(M,"$1"),n,h<o&&yt(t.slice(h,o)),o<a&&yt(t=t.slice(o)),o<a&&ct(t))}d.push(n)}}return pt(d)}function _t(t,i){var n=i.length>0,o=t.length>0,a=function(a,u,f,l,d){var p,v,m,g=0,_="0",b=a&&[],x=[],w=r,E=a||o&&e.find.TAG("*",d),T=y+=w==null?1:Math.random()||.1,S=E.length;if(d){r=u==h||u||d}for(;_!==S&&(p=E[_])!=null;_++){if(o&&p){v=0;if(!u&&p.ownerDocument!=h){ht(p);f=!c}while(m=t[v++]){if(m(p,u||h,f)){s.call(l,p);break}}if(d){y=T}}if(n){if(p=!m&&p){g--}if(a){b.push(p)}}}g+=_;if(n&&_!==g){v=0;while(m=i[v++]){m(b,x,u,f)}if(a){if(g>0){while(_--){if(!(b[_]||x[_])){x[_]=O.call(l)}}}x=mt(x)}s.apply(l,x);if(d&&!a&&x.length>0&&g+i.length>1){I.uniqueSort(l)}}if(d){y=T;r=w}return b};return n?rt(a):a}function bt(t,e){var r,i=[],n=[],o=w[t+" "];if(!o){if(!e){e=lt(t)}r=e.length;while(r--){o=yt(e[r]);if(o[m]){i.push(o)}else{n.push(o)}}o=w(t,_t(n,i));o.selector=t}return o}function xt(t,r,i,n){var o,a,u,h,f,l=typeof t==="function"&&t,d=!n&&lt(t=l.selector||t);i=i||[];if(d.length===1){a=d[0]=d[0].slice(0);if(a.length>2&&(u=a[0]).type==="ID"&&r.nodeType===9&&c&&e.relative[a[1].type]){r=(e.find.ID(u.matches[0].replace(Z,$),r)||[])[0];if(!r){return i}else if(l){r=r.parentNode}t=t.slice(a.shift().value.length)}o=G.needsContext.test(t)?0:a.length;while(o--){u=a[o];if(e.relative[h=u.type]){break}if(f=e.find[h]){if(n=f(u.matches[0].replace(Z,$),q.test(a[0].type)&&ut(r.parentNode)||r)){a.splice(o,1);t=n.length&&ct(a);if(!t){s.apply(i,n);return i}break}}}}(l||bt(t,d))(n,r,!c,i,!r||q.test(t)&&ut(r.parentNode)||r);return i}g.sortStable=m.split("").sort(T).join("")===m;ht();g.sortDetached=it((function(t){return t.compareDocumentPosition(h.createElement("fieldset"))&1}));I.find=tt;I.expr[":"]=I.expr.pseudos;I.unique=I.uniqueSort;tt.compile=bt;tt.select=xt;tt.setDocument=ht;tt.escape=I.escapeSelector;tt.getText=I.text;tt.isXML=I.isXMLDoc;tt.selectors=I.expr;tt.support=I.support;tt.uniqueSort=I.uniqueSort})();var F=function(t,e,r){var i=[],n=r!==undefined;while((t=t[e])&&t.nodeType!==9){if(t.nodeType===1){if(n&&I(t).is(r)){break}i.push(t)}}return i};var U=function(t,e){var r=[];for(;t;t=t.nextSibling){if(t.nodeType===1&&t!==e){r.push(t)}}return r};var j=I.expr.match.needsContext;var z=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function X(t,e,r){if(y(e)){return I.grep(t,(function(t,i){return!!e.call(t,i,t)!==r}))}if(e.nodeType){return I.grep(t,(function(t){return t===e!==r}))}if(typeof e!=="string"){return I.grep(t,(function(t){return l.call(e,t)>-1!==r}))}return I.filter(e,t,r)}I.filter=function(t,e,r){var i=e[0];if(r){t=":not("+t+")"}if(e.length===1&&i.nodeType===1){return I.find.matchesSelector(i,t)?[i]:[]}return I.find.matches(t,I.grep(e,(function(t){return t.nodeType===1})))};I.fn.extend({find:function(t){var e,r,i=this.length,n=this;if(typeof t!=="string"){return this.pushStack(I(t).filter((function(){for(e=0;e<i;e++){if(I.contains(n[e],this)){return true}}})))}r=this.pushStack([]);for(e=0;e<i;e++){I.find(t,n[e],r)}return i>1?I.uniqueSort(r):r},filter:function(t){return this.pushStack(X(this,t||[],false))},not:function(t){return this.pushStack(X(this,t||[],true))},is:function(t){return!!X(this,typeof t==="string"&&j.test(t)?I(t):t||[],false).length}});var H,G=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,W=I.fn.init=function(t,e,r){var i,n;if(!t){return this}r=r||H;if(typeof t==="string"){if(t[0]==="<"&&t[t.length-1]===">"&&t.length>=3){i=[null,t,null]}else{i=G.exec(t)}if(i&&(i[1]||!e)){if(i[1]){e=e instanceof I?e[0]:e;I.merge(this,I.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:b,true));if(z.test(i[1])&&I.isPlainObject(e)){for(i in e){if(y(this[i])){this[i](e[i])}else{this.attr(i,e[i])}}}return this}else{n=b.getElementById(i[2]);if(n){this[0]=n;this.length=1}return this}}else if(!e||e.jquery){return(e||r).find(t)}else{return this.constructor(e).find(t)}}else if(t.nodeType){this[0]=t;this.length=1;return this}else if(y(t)){return r.ready!==undefined?r.ready(t):t(I)}return I.makeArray(t,this)};W.prototype=I.fn;H=I(b);var Y=/^(?:parents|prev(?:Until|All))/,V={children:true,contents:true,next:true,prev:true};I.fn.extend({has:function(t){var e=I(t,this),r=e.length;return this.filter((function(){var t=0;for(;t<r;t++){if(I.contains(this,e[t])){return true}}}))},closest:function(t,e){var r,i=0,n=this.length,o=[],a=typeof t!=="string"&&I(t);if(!j.test(t)){for(;i<n;i++){for(r=this[i];r&&r!==e;r=r.parentNode){if(r.nodeType<11&&(a?a.index(r)>-1:r.nodeType===1&&I.find.matchesSelector(r,t))){o.push(r);break}}}}return this.pushStack(o.length>1?I.uniqueSort(o):o)},index:function(t){if(!t){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof t==="string"){return l.call(I(t),this[0])}return l.call(this,t.jquery?t[0]:t)},add:function(t,e){return this.pushStack(I.uniqueSort(I.merge(this.get(),I(t,e))))},addBack:function(t){return this.add(t==null?this.prevObject:this.prevObject.filter(t))}});function q(t,e){while((t=t[e])&&t.nodeType!==1){}return t}I.each({parent:function(t){var e=t.parentNode;return e&&e.nodeType!==11?e:null},parents:function(t){return F(t,"parentNode")},parentsUntil:function(t,e,r){return F(t,"parentNode",r)},next:function(t){return q(t,"nextSibling")},prev:function(t){return q(t,"previousSibling")},nextAll:function(t){return F(t,"nextSibling")},prevAll:function(t){return F(t,"previousSibling")},nextUntil:function(t,e,r){return F(t,"nextSibling",r)},prevUntil:function(t,e,r){return F(t,"previousSibling",r)},siblings:function(t){return U((t.parentNode||{}).firstChild,t)},children:function(t){return U(t.firstChild)},contents:function(t){if(t.contentDocument!=null&&s(t.contentDocument)){return t.contentDocument}if(P(t,"template")){t=t.content||t}return I.merge([],t.childNodes)}},(function(t,e){I.fn[t]=function(r,i){var n=I.map(this,e,r);if(t.slice(-5)!=="Until"){i=r}if(i&&typeof i==="string"){n=I.filter(i,n)}if(this.length>1){if(!V[t]){I.uniqueSort(n)}if(Y.test(t)){n.reverse()}}return this.pushStack(n)}}));var Z=/[^\x20\t\r\n\f]+/g;function $(t){var e={};I.each(t.match(Z)||[],(function(t,r){e[r]=true}));return e}I.Callbacks=function(t){t=typeof t==="string"?$(t):I.extend({},t);var e,r,i,n,o=[],a=[],s=-1,u=function(){n=n||t.once;i=e=true;for(;a.length;s=-1){r=a.shift();while(++s<o.length){if(o[s].apply(r[0],r[1])===false&&t.stopOnFalse){s=o.length;r=false}}}if(!t.memory){r=false}e=false;if(n){if(r){o=[]}else{o=""}}},h={add:function(){if(o){if(r&&!e){s=o.length-1;a.push(r)}(function e(r){I.each(r,(function(r,i){if(y(i)){if(!t.unique||!h.has(i)){o.push(i)}}else if(i&&i.length&&E(i)!=="string"){e(i)}}))})(arguments);if(r&&!e){u()}}return this},remove:function(){I.each(arguments,(function(t,e){var r;while((r=I.inArray(e,o,r))>-1){o.splice(r,1);if(r<=s){s--}}}));return this},has:function(t){return t?I.inArray(t,o)>-1:o.length>0},empty:function(){if(o){o=[]}return this},disable:function(){n=a=[];o=r="";return this},disabled:function(){return!o},lock:function(){n=a=[];if(!r&&!e){o=r=""}return this},locked:function(){return!!n},fireWith:function(t,r){if(!n){r=r||[];r=[t,r.slice?r.slice():r];a.push(r);if(!e){u()}}return this},fire:function(){h.fireWith(this,arguments);return this},fired:function(){return!!i}};return h};function K(t){return t}function J(t){throw t}function Q(t,e,r,i){var n;try{if(t&&y(n=t.promise)){n.call(t).done(e).fail(r)}else if(t&&y(n=t.then)){n.call(t,e,r)}else{e.apply(undefined,[t].slice(i))}}catch(t){r.apply(undefined,[t])}}I.extend({Deferred:function(t){var e=[["notify","progress",I.Callbacks("memory"),I.Callbacks("memory"),2],["resolve","done",I.Callbacks("once memory"),I.Callbacks("once memory"),0,"resolved"],["reject","fail",I.Callbacks("once memory"),I.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){o.done(arguments).fail(arguments);return this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return I.Deferred((function(r){I.each(e,(function(e,i){var n=y(t[i[4]])&&t[i[4]];o[i[1]]((function(){var t=n&&n.apply(this,arguments);if(t&&y(t.promise)){t.promise().progress(r.notify).done(r.resolve).fail(r.reject)}else{r[i[0]+"With"](this,n?[t]:arguments)}}))}));t=null})).promise()},then:function(t,r,i){var o=0;function a(t,e,r,i){return function(){var s=this,u=arguments,h=function(){var n,h;if(t<o){return}n=r.apply(s,u);if(n===e.promise()){throw new TypeError("Thenable self-resolution")}h=n&&(typeof n==="object"||typeof n==="function")&&n.then;if(y(h)){if(i){h.call(n,a(o,e,K,i),a(o,e,J,i))}else{o++;h.call(n,a(o,e,K,i),a(o,e,J,i),a(o,e,K,e.notifyWith))}}else{if(r!==K){s=undefined;u=[n]}(i||e.resolveWith)(s,u)}},f=i?h:function(){try{h()}catch(i){if(I.Deferred.exceptionHook){I.Deferred.exceptionHook(i,f.error)}if(t+1>=o){if(r!==J){s=undefined;u=[i]}e.rejectWith(s,u)}}};if(t){f()}else{if(I.Deferred.getErrorHook){f.error=I.Deferred.getErrorHook()}else if(I.Deferred.getStackHook){f.error=I.Deferred.getStackHook()}n.setTimeout(f)}}}return I.Deferred((function(n){e[0][3].add(a(0,n,y(i)?i:K,n.notifyWith));e[1][3].add(a(0,n,y(t)?t:K));e[2][3].add(a(0,n,y(r)?r:J))})).promise()},promise:function(t){return t!=null?I.extend(t,i):i}},o={};I.each(e,(function(t,n){var a=n[2],s=n[5];i[n[1]]=a.add;if(s){a.add((function(){r=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock)}a.add(n[3].fire);o[n[0]]=function(){o[n[0]+"With"](this===o?undefined:this,arguments);return this};o[n[0]+"With"]=a.fireWith}));i.promise(o);if(t){t.call(o,o)}return o},when:function(t){var e=arguments.length,r=e,i=Array(r),n=u.call(arguments),o=I.Deferred(),a=function(t){return function(r){i[t]=this;n[t]=arguments.length>1?u.call(arguments):r;if(!--e){o.resolveWith(i,n)}}};if(e<=1){Q(t,o.done(a(r)).resolve,o.reject,!e);if(o.state()==="pending"||y(n[r]&&n[r].then)){return o.then()}}while(r--){Q(n[r],a(r),o.reject)}return o.promise()}});var tt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;I.Deferred.exceptionHook=function(t,e){if(n.console&&n.console.warn&&t&&tt.test(t.name)){n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)}};I.readyException=function(t){n.setTimeout((function(){throw t}))};var et=I.Deferred();I.fn.ready=function(t){et.then(t).catch((function(t){I.readyException(t)}));return this};I.extend({isReady:false,readyWait:1,ready:function(t){if(t===true?--I.readyWait:I.isReady){return}I.isReady=true;if(t!==true&&--I.readyWait>0){return}et.resolveWith(b,[I])}});I.ready.then=et.then;function rt(){b.removeEventListener("DOMContentLoaded",rt);n.removeEventListener("load",rt);I.ready()}if(b.readyState==="complete"||b.readyState!=="loading"&&!b.documentElement.doScroll){n.setTimeout(I.ready)}else{b.addEventListener("DOMContentLoaded",rt);n.addEventListener("load",rt)}var it=function(t,e,r,i,n,o,a){var s=0,u=t.length,h=r==null;if(E(r)==="object"){n=true;for(s in r){it(t,e,s,r[s],true,o,a)}}else if(i!==undefined){n=true;if(!y(i)){a=true}if(h){if(a){e.call(t,i);e=null}else{h=e;e=function(t,e,r){return h.call(I(t),r)}}}if(e){for(;s<u;s++){e(t[s],r,a?i:i.call(t[s],s,e(t[s],r)))}}}if(n){return t}if(h){return e.call(t)}return u?e(t[0],r):o};var nt=/^-ms-/,ot=/-([a-z])/g;function at(t,e){return e.toUpperCase()}function st(t){return t.replace(nt,"ms-").replace(ot,at)}var ut=function(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType};function ht(){this.expando=I.expando+ht.uid++}ht.uid=1;ht.prototype={cache:function(t){var e=t[this.expando];if(!e){e={};if(ut(t)){if(t.nodeType){t[this.expando]=e}else{Object.defineProperty(t,this.expando,{value:e,configurable:true})}}}return e},set:function(t,e,r){var i,n=this.cache(t);if(typeof e==="string"){n[st(e)]=r}else{for(i in e){n[st(i)]=e[i]}}return n},get:function(t,e){return e===undefined?this.cache(t):t[this.expando]&&t[this.expando][st(e)]},access:function(t,e,r){if(e===undefined||e&&typeof e==="string"&&r===undefined){return this.get(t,e)}this.set(t,e,r);return r!==undefined?r:e},remove:function(t,e){var r,i=t[this.expando];if(i===undefined){return}if(e!==undefined){if(Array.isArray(e)){e=e.map(st)}else{e=st(e);e=e in i?[e]:e.match(Z)||[]}r=e.length;while(r--){delete i[e[r]]}}if(e===undefined||I.isEmptyObject(i)){if(t.nodeType){t[this.expando]=undefined}else{delete t[this.expando]}}},hasData:function(t){var e=t[this.expando];return e!==undefined&&!I.isEmptyObject(e)}};var ft=new ht;var lt=new ht;var ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,dt=/[A-Z]/g;function pt(t){if(t==="true"){return true}if(t==="false"){return false}if(t==="null"){return null}if(t===+t+""){return+t}if(ct.test(t)){return JSON.parse(t)}return t}function vt(t,e,r){var i;if(r===undefined&&t.nodeType===1){i="data-"+e.replace(dt,"-$&").toLowerCase();r=t.getAttribute(i);if(typeof r==="string"){try{r=pt(r)}catch(t){}lt.set(t,e,r)}else{r=undefined}}return r}I.extend({hasData:function(t){return lt.hasData(t)||ft.hasData(t)},data:function(t,e,r){return lt.access(t,e,r)},removeData:function(t,e){lt.remove(t,e)},_data:function(t,e,r){return ft.access(t,e,r)},_removeData:function(t,e){ft.remove(t,e)}});I.fn.extend({data:function(t,e){var r,i,n,o=this[0],a=o&&o.attributes;if(t===undefined){if(this.length){n=lt.get(o);if(o.nodeType===1&&!ft.get(o,"hasDataAttrs")){r=a.length;while(r--){if(a[r]){i=a[r].name;if(i.indexOf("data-")===0){i=st(i.slice(5));vt(o,i,n[i])}}}ft.set(o,"hasDataAttrs",true)}}return n}if(typeof t==="object"){return this.each((function(){lt.set(this,t)}))}return it(this,(function(e){var r;if(o&&e===undefined){r=lt.get(o,t);if(r!==undefined){return r}r=vt(o,t);if(r!==undefined){return r}return}this.each((function(){lt.set(this,t,e)}))}),null,e,arguments.length>1,null,true)},removeData:function(t){return this.each((function(){lt.remove(this,t)}))}});I.extend({queue:function(t,e,r){var i;if(t){e=(e||"fx")+"queue";i=ft.get(t,e);if(r){if(!i||Array.isArray(r)){i=ft.access(t,e,I.makeArray(r))}else{i.push(r)}}return i||[]}},dequeue:function(t,e){e=e||"fx";var r=I.queue(t,e),i=r.length,n=r.shift(),o=I._queueHooks(t,e),a=function(){I.dequeue(t,e)};if(n==="inprogress"){n=r.shift();i--}if(n){if(e==="fx"){r.unshift("inprogress")}delete o.stop;n.call(t,a,o)}if(!i&&o){o.empty.fire()}},_queueHooks:function(t,e){var r=e+"queueHooks";return ft.get(t,r)||ft.access(t,r,{empty:I.Callbacks("once memory").add((function(){ft.remove(t,[e+"queue",r])}))})}});I.fn.extend({queue:function(t,e){var r=2;if(typeof t!=="string"){e=t;t="fx";r--}if(arguments.length<r){return I.queue(this[0],t)}return e===undefined?this:this.each((function(){var r=I.queue(this,t,e);I._queueHooks(this,t);if(t==="fx"&&r[0]!=="inprogress"){I.dequeue(this,t)}}))},dequeue:function(t){return this.each((function(){I.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var r,i=1,n=I.Deferred(),o=this,a=this.length,s=function(){if(!--i){n.resolveWith(o,[o])}};if(typeof t!=="string"){e=t;t=undefined}t=t||"fx";while(a--){r=ft.get(o[a],t+"queueHooks");if(r&&r.empty){i++;r.empty.add(s)}}s();return n.promise(e)}});var mt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var gt=new RegExp("^(?:([+-])=|)("+mt+")([a-z%]*)$","i");var yt=["Top","Right","Bottom","Left"];var _t=b.documentElement;var bt=function(t){return I.contains(t.ownerDocument,t)},xt={composed:true};if(_t.getRootNode){bt=function(t){return I.contains(t.ownerDocument,t)||t.getRootNode(xt)===t.ownerDocument}}var wt=function(t,e){t=e||t;return t.style.display==="none"||t.style.display===""&&bt(t)&&I.css(t,"display")==="none"};function Et(t,e,r,i){var n,o,a=20,s=i?function(){return i.cur()}:function(){return I.css(t,e,"")},u=s(),h=r&&r[3]||(I.cssNumber[e]?"":"px"),f=t.nodeType&&(I.cssNumber[e]||h!=="px"&&+u)&&gt.exec(I.css(t,e));if(f&&f[3]!==h){u=u/2;h=h||f[3];f=+u||1;while(a--){I.style(t,e,f+h);if((1-o)*(1-(o=s()/u||.5))<=0){a=0}f=f/o}f=f*2;I.style(t,e,f+h);r=r||[]}if(r){f=+f||+u||0;n=r[1]?f+(r[1]+1)*r[2]:+r[2];if(i){i.unit=h;i.start=f;i.end=n}}return n}var Tt={};function St(t){var e,r=t.ownerDocument,i=t.nodeName,n=Tt[i];if(n){return n}e=r.body.appendChild(r.createElement(i));n=I.css(e,"display");e.parentNode.removeChild(e);if(n==="none"){n="block"}Tt[i]=n;return n}function It(t,e){var r,i,n=[],o=0,a=t.length;for(;o<a;o++){i=t[o];if(!i.style){continue}r=i.style.display;if(e){if(r==="none"){n[o]=ft.get(i,"display")||null;if(!n[o]){i.style.display=""}}if(i.style.display===""&&wt(i)){n[o]=St(i)}}else{if(r!=="none"){n[o]="none";ft.set(i,"display",r)}}}for(o=0;o<a;o++){if(n[o]!=null){t[o].style.display=n[o]}}return t}I.fn.extend({show:function(){return It(this,true)},hide:function(){return It(this)},toggle:function(t){if(typeof t==="boolean"){return t?this.show():this.hide()}return this.each((function(){if(wt(this)){I(this).show()}else{I(this).hide()}}))}});var At=/^(?:checkbox|radio)$/i;var Pt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i;var Ot=/^$|^module$|\/(?:java|ecma)script/i;(function(){var t=b.createDocumentFragment(),e=t.appendChild(b.createElement("div")),r=b.createElement("input");r.setAttribute("type","radio");r.setAttribute("checked","checked");r.setAttribute("name","t");e.appendChild(r);g.checkClone=e.cloneNode(true).cloneNode(true).lastChild.checked;e.innerHTML="<textarea>x</textarea>";g.noCloneChecked=!!e.cloneNode(true).lastChild.defaultValue;e.innerHTML="<option></option>";g.option=!!e.lastChild})();var Ct={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ct.tbody=Ct.tfoot=Ct.colgroup=Ct.caption=Ct.thead;Ct.th=Ct.td;if(!g.option){Ct.optgroup=Ct.option=[1,"<select multiple='multiple'>","</select>"]}function Rt(t,e){var r;if(typeof t.getElementsByTagName!=="undefined"){r=t.getElementsByTagName(e||"*")}else if(typeof t.querySelectorAll!=="undefined"){r=t.querySelectorAll(e||"*")}else{r=[]}if(e===undefined||e&&P(t,e)){return I.merge([t],r)}return r}function Dt(t,e){var r=0,i=t.length;for(;r<i;r++){ft.set(t[r],"globalEval",!e||ft.get(e[r],"globalEval"))}}var Mt=/<|&#?\w+;/;function kt(t,e,r,i,n){var o,a,s,u,h,f,l=e.createDocumentFragment(),c=[],d=0,p=t.length;for(;d<p;d++){o=t[d];if(o||o===0){if(E(o)==="object"){I.merge(c,o.nodeType?[o]:o)}else if(!Mt.test(o)){c.push(e.createTextNode(o))}else{a=a||l.appendChild(e.createElement("div"));s=(Pt.exec(o)||["",""])[1].toLowerCase();u=Ct[s]||Ct._default;a.innerHTML=u[1]+I.htmlPrefilter(o)+u[2];f=u[0];while(f--){a=a.lastChild}I.merge(c,a.childNodes);a=l.firstChild;a.textContent=""}}}l.textContent="";d=0;while(o=c[d++]){if(i&&I.inArray(o,i)>-1){if(n){n.push(o)}continue}h=bt(o);a=Rt(l.appendChild(o),"script");if(h){Dt(a)}if(r){f=0;while(o=a[f++]){if(Ot.test(o.type||"")){r.push(o)}}}}return l}var Nt=/^([^.]*)(?:\.(.+)|)/;function Lt(){return true}function Bt(){return false}function Ft(t,e,r,i,n,o){var a,s;if(typeof e==="object"){if(typeof r!=="string"){i=i||r;r=undefined}for(s in e){Ft(t,s,r,i,e[s],o)}return t}if(i==null&&n==null){n=r;i=r=undefined}else if(n==null){if(typeof r==="string"){n=i;i=undefined}else{n=i;i=r;r=undefined}}if(n===false){n=Bt}else if(!n){return t}if(o===1){a=n;n=function(t){I().off(t);return a.apply(this,arguments)};n.guid=a.guid||(a.guid=I.guid++)}return t.each((function(){I.event.add(this,e,n,i,r)}))}I.event={global:{},add:function(t,e,r,i,n){var o,a,s,u,h,f,l,c,d,p,v,m=ft.get(t);if(!ut(t)){return}if(r.handler){o=r;r=o.handler;n=o.selector}if(n){I.find.matchesSelector(_t,n)}if(!r.guid){r.guid=I.guid++}if(!(u=m.events)){u=m.events=Object.create(null)}if(!(a=m.handle)){a=m.handle=function(e){return typeof I!=="undefined"&&I.event.triggered!==e.type?I.event.dispatch.apply(t,arguments):undefined}}e=(e||"").match(Z)||[""];h=e.length;while(h--){s=Nt.exec(e[h])||[];d=v=s[1];p=(s[2]||"").split(".").sort();if(!d){continue}l=I.event.special[d]||{};d=(n?l.delegateType:l.bindType)||d;l=I.event.special[d]||{};f=I.extend({type:d,origType:v,data:i,handler:r,guid:r.guid,selector:n,needsContext:n&&I.expr.match.needsContext.test(n),namespace:p.join(".")},o);if(!(c=u[d])){c=u[d]=[];c.delegateCount=0;if(!l.setup||l.setup.call(t,i,p,a)===false){if(t.addEventListener){t.addEventListener(d,a)}}}if(l.add){l.add.call(t,f);if(!f.handler.guid){f.handler.guid=r.guid}}if(n){c.splice(c.delegateCount++,0,f)}else{c.push(f)}I.event.global[d]=true}},remove:function(t,e,r,i,n){var o,a,s,u,h,f,l,c,d,p,v,m=ft.hasData(t)&&ft.get(t);if(!m||!(u=m.events)){return}e=(e||"").match(Z)||[""];h=e.length;while(h--){s=Nt.exec(e[h])||[];d=v=s[1];p=(s[2]||"").split(".").sort();if(!d){for(d in u){I.event.remove(t,d+e[h],r,i,true)}continue}l=I.event.special[d]||{};d=(i?l.delegateType:l.bindType)||d;c=u[d]||[];s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)");a=o=c.length;while(o--){f=c[o];if((n||v===f.origType)&&(!r||r.guid===f.guid)&&(!s||s.test(f.namespace))&&(!i||i===f.selector||i==="**"&&f.selector)){c.splice(o,1);if(f.selector){c.delegateCount--}if(l.remove){l.remove.call(t,f)}}}if(a&&!c.length){if(!l.teardown||l.teardown.call(t,p,m.handle)===false){I.removeEvent(t,d,m.handle)}delete u[d]}}if(I.isEmptyObject(u)){ft.remove(t,"handle events")}},dispatch:function(t){var e,r,i,n,o,a,s=new Array(arguments.length),u=I.event.fix(t),h=(ft.get(this,"events")||Object.create(null))[u.type]||[],f=I.event.special[u.type]||{};s[0]=u;for(e=1;e<arguments.length;e++){s[e]=arguments[e]}u.delegateTarget=this;if(f.preDispatch&&f.preDispatch.call(this,u)===false){return}a=I.event.handlers.call(this,u,h);e=0;while((n=a[e++])&&!u.isPropagationStopped()){u.currentTarget=n.elem;r=0;while((o=n.handlers[r++])&&!u.isImmediatePropagationStopped()){if(!u.rnamespace||o.namespace===false||u.rnamespace.test(o.namespace)){u.handleObj=o;u.data=o.data;i=((I.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,s);if(i!==undefined){if((u.result=i)===false){u.preventDefault();u.stopPropagation()}}}}}if(f.postDispatch){f.postDispatch.call(this,u)}return u.result},handlers:function(t,e){var r,i,n,o,a,s=[],u=e.delegateCount,h=t.target;if(u&&h.nodeType&&!(t.type==="click"&&t.button>=1)){for(;h!==this;h=h.parentNode||this){if(h.nodeType===1&&!(t.type==="click"&&h.disabled===true)){o=[];a={};for(r=0;r<u;r++){i=e[r];n=i.selector+" ";if(a[n]===undefined){a[n]=i.needsContext?I(n,this).index(h)>-1:I.find(n,this,null,[h]).length}if(a[n]){o.push(i)}}if(o.length){s.push({elem:h,handlers:o})}}}}h=this;if(u<e.length){s.push({elem:h,handlers:e.slice(u)})}return s},addProp:function(t,e){Object.defineProperty(I.Event.prototype,t,{enumerable:true,configurable:true,get:y(e)?function(){if(this.originalEvent){return e(this.originalEvent)}}:function(){if(this.originalEvent){return this.originalEvent[t]}},set:function(e){Object.defineProperty(this,t,{enumerable:true,configurable:true,writable:true,value:e})}})},fix:function(t){return t[I.expando]?t:new I.Event(t)},special:{load:{noBubble:true},click:{setup:function(t){var e=this||t;if(At.test(e.type)&&e.click&&P(e,"input")){Ut(e,"click",true)}return false},trigger:function(t){var e=this||t;if(At.test(e.type)&&e.click&&P(e,"input")){Ut(e,"click")}return true},_default:function(t){var e=t.target;return At.test(e.type)&&e.click&&P(e,"input")&&ft.get(e,"click")||P(e,"a")}},beforeunload:{postDispatch:function(t){if(t.result!==undefined&&t.originalEvent){t.originalEvent.returnValue=t.result}}}}};function Ut(t,e,r){if(!r){if(ft.get(t,e)===undefined){I.event.add(t,e,Lt)}return}ft.set(t,e,false);I.event.add(t,e,{namespace:false,handler:function(t){var r,i=ft.get(this,e);if(t.isTrigger&1&&this[e]){if(!i){i=u.call(arguments);ft.set(this,e,i);this[e]();r=ft.get(this,e);ft.set(this,e,false);if(i!==r){t.stopImmediatePropagation();t.preventDefault();return r}}else if((I.event.special[e]||{}).delegateType){t.stopPropagation()}}else if(i){ft.set(this,e,I.event.trigger(i[0],i.slice(1),this));t.stopPropagation();t.isImmediatePropagationStopped=Lt}}})}I.removeEvent=function(t,e,r){if(t.removeEventListener){t.removeEventListener(e,r)}};I.Event=function(t,e){if(!(this instanceof I.Event)){return new I.Event(t,e)}if(t&&t.type){this.originalEvent=t;this.type=t.type;this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&t.returnValue===false?Lt:Bt;this.target=t.target&&t.target.nodeType===3?t.target.parentNode:t.target;this.currentTarget=t.currentTarget;this.relatedTarget=t.relatedTarget}else{this.type=t}if(e){I.extend(this,e)}this.timeStamp=t&&t.timeStamp||Date.now();this[I.expando]=true};I.Event.prototype={constructor:I.Event,isDefaultPrevented:Bt,isPropagationStopped:Bt,isImmediatePropagationStopped:Bt,isSimulated:false,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Lt;if(t&&!this.isSimulated){t.preventDefault()}},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Lt;if(t&&!this.isSimulated){t.stopPropagation()}},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Lt;if(t&&!this.isSimulated){t.stopImmediatePropagation()}this.stopPropagation()}};I.each({altKey:true,bubbles:true,cancelable:true,changedTouches:true,ctrlKey:true,detail:true,eventPhase:true,metaKey:true,pageX:true,pageY:true,shiftKey:true,view:true,char:true,code:true,charCode:true,key:true,keyCode:true,button:true,buttons:true,clientX:true,clientY:true,offsetX:true,offsetY:true,pointerId:true,pointerType:true,screenX:true,screenY:true,targetTouches:true,toElement:true,touches:true,which:true},I.event.addProp);I.each({focus:"focusin",blur:"focusout"},(function(t,e){function r(t){if(b.documentMode){var r=ft.get(this,"handle"),i=I.event.fix(t);i.type=t.type==="focusin"?"focus":"blur";i.isSimulated=true;r(t);if(i.target===i.currentTarget){r(i)}}else{I.event.simulate(e,t.target,I.event.fix(t))}}I.event.special[t]={setup:function(){var i;Ut(this,t,true);if(b.documentMode){i=ft.get(this,e);if(!i){this.addEventListener(e,r)}ft.set(this,e,(i||0)+1)}else{return false}},trigger:function(){Ut(this,t);return true},teardown:function(){var t;if(b.documentMode){t=ft.get(this,e)-1;if(!t){this.removeEventListener(e,r);ft.remove(this,e)}else{ft.set(this,e,t)}}else{return false}},_default:function(e){return ft.get(e.target,t)},delegateType:e};I.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,n=b.documentMode?this:i,o=ft.get(n,e);if(!o){if(b.documentMode){this.addEventListener(e,r)}else{i.addEventListener(t,r,true)}}ft.set(n,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,n=b.documentMode?this:i,o=ft.get(n,e)-1;if(!o){if(b.documentMode){this.removeEventListener(e,r)}else{i.removeEventListener(t,r,true)}ft.remove(n,e)}else{ft.set(n,e,o)}}}}));I.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){I.event.special[t]={delegateType:e,bindType:e,handle:function(t){var r,i=this,n=t.relatedTarget,o=t.handleObj;if(!n||n!==i&&!I.contains(i,n)){t.type=o.origType;r=o.handler.apply(this,arguments);t.type=e}return r}}}));I.fn.extend({on:function(t,e,r,i){return Ft(this,t,e,r,i)},one:function(t,e,r,i){return Ft(this,t,e,r,i,1)},off:function(t,e,r){var i,n;if(t&&t.preventDefault&&t.handleObj){i=t.handleObj;I(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);return this}if(typeof t==="object"){for(n in t){this.off(n,e,t[n])}return this}if(e===false||typeof e==="function"){r=e;e=undefined}if(r===false){r=Bt}return this.each((function(){I.event.remove(this,t,r,e)}))}});var jt=/<script|<style|<link/i,zt=/checked\s*(?:[^=]|=\s*.checked.)/i,Xt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ht(t,e){if(P(t,"table")&&P(e.nodeType!==11?e:e.firstChild,"tr")){return I(t).children("tbody")[0]||t}return t}function Gt(t){t.type=(t.getAttribute("type")!==null)+"/"+t.type;return t}function Wt(t){if((t.type||"").slice(0,5)==="true/"){t.type=t.type.slice(5)}else{t.removeAttribute("type")}return t}function Yt(t,e){var r,i,n,o,a,s,u;if(e.nodeType!==1){return}if(ft.hasData(t)){o=ft.get(t);u=o.events;if(u){ft.remove(e,"handle events");for(n in u){for(r=0,i=u[n].length;r<i;r++){I.event.add(e,n,u[n][r])}}}}if(lt.hasData(t)){a=lt.access(t);s=I.extend({},a);lt.set(e,s)}}function Vt(t,e){var r=e.nodeName.toLowerCase();if(r==="input"&&At.test(t.type)){e.checked=t.checked}else if(r==="input"||r==="textarea"){e.defaultValue=t.defaultValue}}function qt(t,e,r,i){e=h(e);var n,o,a,s,u,f,l=0,c=t.length,d=c-1,p=e[0],v=y(p);if(v||c>1&&typeof p==="string"&&!g.checkClone&&zt.test(p)){return t.each((function(n){var o=t.eq(n);if(v){e[0]=p.call(this,n,o.html())}qt(o,e,r,i)}))}if(c){n=kt(e,t[0].ownerDocument,false,t,i);o=n.firstChild;if(n.childNodes.length===1){n=o}if(o||i){a=I.map(Rt(n,"script"),Gt);s=a.length;for(;l<c;l++){u=n;if(l!==d){u=I.clone(u,true,true);if(s){I.merge(a,Rt(u,"script"))}}r.call(t[l],u,l)}if(s){f=a[a.length-1].ownerDocument;I.map(a,Wt);for(l=0;l<s;l++){u=a[l];if(Ot.test(u.type||"")&&!ft.access(u,"globalEval")&&I.contains(f,u)){if(u.src&&(u.type||"").toLowerCase()!=="module"){if(I._evalUrl&&!u.noModule){I._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},f)}}else{w(u.textContent.replace(Xt,""),u,f)}}}}}}return t}function Zt(t,e,r){var i,n=e?I.filter(e,t):t,o=0;for(;(i=n[o])!=null;o++){if(!r&&i.nodeType===1){I.cleanData(Rt(i))}if(i.parentNode){if(r&&bt(i)){Dt(Rt(i,"script"))}i.parentNode.removeChild(i)}}return t}I.extend({htmlPrefilter:function(t){return t},clone:function(t,e,r){var i,n,o,a,s=t.cloneNode(true),u=bt(t);if(!g.noCloneChecked&&(t.nodeType===1||t.nodeType===11)&&!I.isXMLDoc(t)){a=Rt(s);o=Rt(t);for(i=0,n=o.length;i<n;i++){Vt(o[i],a[i])}}if(e){if(r){o=o||Rt(t);a=a||Rt(s);for(i=0,n=o.length;i<n;i++){Yt(o[i],a[i])}}else{Yt(t,s)}}a=Rt(s,"script");if(a.length>0){Dt(a,!u&&Rt(t,"script"))}return s},cleanData:function(t){var e,r,i,n=I.event.special,o=0;for(;(r=t[o])!==undefined;o++){if(ut(r)){if(e=r[ft.expando]){if(e.events){for(i in e.events){if(n[i]){I.event.remove(r,i)}else{I.removeEvent(r,i,e.handle)}}}r[ft.expando]=undefined}if(r[lt.expando]){r[lt.expando]=undefined}}}}});I.fn.extend({detach:function(t){return Zt(this,t,true)},remove:function(t){return Zt(this,t)},text:function(t){return it(this,(function(t){return t===undefined?I.text(this):this.empty().each((function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=t}}))}),null,t,arguments.length)},append:function(){return qt(this,arguments,(function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var e=Ht(this,t);e.appendChild(t)}}))},prepend:function(){return qt(this,arguments,(function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var e=Ht(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return qt(this,arguments,(function(t){if(this.parentNode){this.parentNode.insertBefore(t,this)}}))},after:function(){return qt(this,arguments,(function(t){if(this.parentNode){this.parentNode.insertBefore(t,this.nextSibling)}}))},empty:function(){var t,e=0;for(;(t=this[e])!=null;e++){if(t.nodeType===1){I.cleanData(Rt(t,false));t.textContent=""}}return this},clone:function(t,e){t=t==null?false:t;e=e==null?t:e;return this.map((function(){return I.clone(this,t,e)}))},html:function(t){return it(this,(function(t){var e=this[0]||{},r=0,i=this.length;if(t===undefined&&e.nodeType===1){return e.innerHTML}if(typeof t==="string"&&!jt.test(t)&&!Ct[(Pt.exec(t)||["",""])[1].toLowerCase()]){t=I.htmlPrefilter(t);try{for(;r<i;r++){e=this[r]||{};if(e.nodeType===1){I.cleanData(Rt(e,false));e.innerHTML=t}}e=0}catch(t){}}if(e){this.empty().append(t)}}),null,t,arguments.length)},replaceWith:function(){var t=[];return qt(this,arguments,(function(e){var r=this.parentNode;if(I.inArray(this,t)<0){I.cleanData(Rt(this));if(r){r.replaceChild(e,this)}}}),t)}});I.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){I.fn[t]=function(t){var r,i=[],n=I(t),o=n.length-1,a=0;for(;a<=o;a++){r=a===o?this:this.clone(true);I(n[a])[e](r);f.apply(i,r.get())}return this.pushStack(i)}}));var $t=new RegExp("^("+mt+")(?!px)[a-z%]+$","i");var Kt=/^--/;var Jt=function(t){var e=t.ownerDocument.defaultView;if(!e||!e.opener){e=n}return e.getComputedStyle(t)};var Qt=function(t,e,r){var i,n,o={};for(n in e){o[n]=t.style[n];t.style[n]=e[n]}i=r.call(t);for(n in e){t.style[n]=o[n]}return i};var te=new RegExp(yt.join("|"),"i");(function(){function t(){if(!f){return}h.style.cssText="position:absolute;left:-11111px;width:60px;"+"margin-top:1px;padding:0;border:0";f.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;"+"margin:auto;border:1px;padding:1px;"+"width:60%;top:1%";_t.appendChild(h).appendChild(f);var t=n.getComputedStyle(f);r=t.top!=="1%";u=e(t.marginLeft)===12;f.style.right="60%";a=e(t.right)===36;i=e(t.width)===36;f.style.position="absolute";o=e(f.offsetWidth/3)===12;_t.removeChild(h);f=null}function e(t){return Math.round(parseFloat(t))}var r,i,o,a,s,u,h=b.createElement("div"),f=b.createElement("div");if(!f.style){return}f.style.backgroundClip="content-box";f.cloneNode(true).style.backgroundClip="";g.clearCloneStyle=f.style.backgroundClip==="content-box";I.extend(g,{boxSizingReliable:function(){t();return i},pixelBoxStyles:function(){t();return a},pixelPosition:function(){t();return r},reliableMarginLeft:function(){t();return u},scrollboxSize:function(){t();return o},reliableTrDimensions:function(){var t,e,r,i;if(s==null){t=b.createElement("table");e=b.createElement("tr");r=b.createElement("div");t.style.cssText="position:absolute;left:-11111px;border-collapse:separate";e.style.cssText="border:1px solid";e.style.height="1px";r.style.height="9px";r.style.display="block";_t.appendChild(t).appendChild(e).appendChild(r);i=n.getComputedStyle(e);s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===e.offsetHeight;_t.removeChild(t)}return s}})})();function ee(t,e,r){var i,n,o,a,s=Kt.test(e),u=t.style;r=r||Jt(t);if(r){a=r.getPropertyValue(e)||r[e];if(s&&a){a=a.replace(M,"$1")||undefined}if(a===""&&!bt(t)){a=I.style(t,e)}if(!g.pixelBoxStyles()&&$t.test(a)&&te.test(e)){i=u.width;n=u.minWidth;o=u.maxWidth;u.minWidth=u.maxWidth=u.width=a;a=r.width;u.width=i;u.minWidth=n;u.maxWidth=o}}return a!==undefined?a+"":a}function re(t,e){return{get:function(){if(t()){delete this.get;return}return(this.get=e).apply(this,arguments)}}}var ie=["Webkit","Moz","ms"],ne=b.createElement("div").style,oe={};function ae(t){var e=t[0].toUpperCase()+t.slice(1),r=ie.length;while(r--){t=ie[r]+e;if(t in ne){return t}}}function se(t){var e=I.cssProps[t]||oe[t];if(e){return e}if(t in ne){return t}return oe[t]=ae(t)||t}var ue=/^(none|table(?!-c[ea]).+)/,he={position:"absolute",visibility:"hidden",display:"block"},fe={letterSpacing:"0",fontWeight:"400"};function le(t,e,r){var i=gt.exec(e);return i?Math.max(0,i[2]-(r||0))+(i[3]||"px"):e}function ce(t,e,r,i,n,o){var a=e==="width"?1:0,s=0,u=0,h=0;if(r===(i?"border":"content")){return 0}for(;a<4;a+=2){if(r==="margin"){h+=I.css(t,r+yt[a],true,n)}if(!i){u+=I.css(t,"padding"+yt[a],true,n);if(r!=="padding"){u+=I.css(t,"border"+yt[a]+"Width",true,n)}else{s+=I.css(t,"border"+yt[a]+"Width",true,n)}}else{if(r==="content"){u-=I.css(t,"padding"+yt[a],true,n)}if(r!=="margin"){u-=I.css(t,"border"+yt[a]+"Width",true,n)}}}if(!i&&o>=0){u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-s-.5))||0}return u+h}function de(t,e,r){var i=Jt(t),n=!g.boxSizingReliable()||r,o=n&&I.css(t,"boxSizing",false,i)==="border-box",a=o,s=ee(t,e,i),u="offset"+e[0].toUpperCase()+e.slice(1);if($t.test(s)){if(!r){return s}s="auto"}if((!g.boxSizingReliable()&&o||!g.reliableTrDimensions()&&P(t,"tr")||s==="auto"||!parseFloat(s)&&I.css(t,"display",false,i)==="inline")&&t.getClientRects().length){o=I.css(t,"boxSizing",false,i)==="border-box";a=u in t;if(a){s=t[u]}}s=parseFloat(s)||0;return s+ce(t,e,r||(o?"border":"content"),a,i,s)+"px"}I.extend({cssHooks:{opacity:{get:function(t,e){if(e){var r=ee(t,"opacity");return r===""?"1":r}}}},cssNumber:{animationIterationCount:true,aspectRatio:true,borderImageSlice:true,columnCount:true,flexGrow:true,flexShrink:true,fontWeight:true,gridArea:true,gridColumn:true,gridColumnEnd:true,gridColumnStart:true,gridRow:true,gridRowEnd:true,gridRowStart:true,lineHeight:true,opacity:true,order:true,orphans:true,scale:true,widows:true,zIndex:true,zoom:true,fillOpacity:true,floodOpacity:true,stopOpacity:true,strokeMiterlimit:true,strokeOpacity:true},cssProps:{},style:function(t,e,r,i){if(!t||t.nodeType===3||t.nodeType===8||!t.style){return}var n,o,a,s=st(e),u=Kt.test(e),h=t.style;if(!u){e=se(s)}a=I.cssHooks[e]||I.cssHooks[s];if(r!==undefined){o=typeof r;if(o==="string"&&(n=gt.exec(r))&&n[1]){r=Et(t,e,n);o="number"}if(r==null||r!==r){return}if(o==="number"&&!u){r+=n&&n[3]||(I.cssNumber[s]?"":"px")}if(!g.clearCloneStyle&&r===""&&e.indexOf("background")===0){h[e]="inherit"}if(!a||!("set"in a)||(r=a.set(t,r,i))!==undefined){if(u){h.setProperty(e,r)}else{h[e]=r}}}else{if(a&&"get"in a&&(n=a.get(t,false,i))!==undefined){return n}return h[e]}},css:function(t,e,r,i){var n,o,a,s=st(e),u=Kt.test(e);if(!u){e=se(s)}a=I.cssHooks[e]||I.cssHooks[s];if(a&&"get"in a){n=a.get(t,true,r)}if(n===undefined){n=ee(t,e,i)}if(n==="normal"&&e in fe){n=fe[e]}if(r===""||r){o=parseFloat(n);return r===true||isFinite(o)?o||0:n}return n}});I.each(["height","width"],(function(t,e){I.cssHooks[e]={get:function(t,r,i){if(r){return ue.test(I.css(t,"display"))&&(!t.getClientRects().length||!t.getBoundingClientRect().width)?Qt(t,he,(function(){return de(t,e,i)})):de(t,e,i)}},set:function(t,r,i){var n,o=Jt(t),a=!g.scrollboxSize()&&o.position==="absolute",s=a||i,u=s&&I.css(t,"boxSizing",false,o)==="border-box",h=i?ce(t,e,i,u,o):0;if(u&&a){h-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ce(t,e,"border",false,o)-.5)}if(h&&(n=gt.exec(r))&&(n[3]||"px")!=="px"){t.style[e]=r;r=I.css(t,e)}return le(t,r,h)}}}));I.cssHooks.marginLeft=re(g.reliableMarginLeft,(function(t,e){if(e){return(parseFloat(ee(t,"marginLeft"))||t.getBoundingClientRect().left-Qt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"}}));I.each({margin:"",padding:"",border:"Width"},(function(t,e){I.cssHooks[t+e]={expand:function(r){var i=0,n={},o=typeof r==="string"?r.split(" "):[r];for(;i<4;i++){n[t+yt[i]+e]=o[i]||o[i-2]||o[0]}return n}};if(t!=="margin"){I.cssHooks[t+e].set=le}}));I.fn.extend({css:function(t,e){return it(this,(function(t,e,r){var i,n,o={},a=0;if(Array.isArray(e)){i=Jt(t);n=e.length;for(;a<n;a++){o[e[a]]=I.css(t,e[a],false,i)}return o}return r!==undefined?I.style(t,e,r):I.css(t,e)}),t,e,arguments.length>1)}});function pe(t,e,r,i,n){return new pe.prototype.init(t,e,r,i,n)}I.Tween=pe;pe.prototype={constructor:pe,init:function(t,e,r,i,n,o){this.elem=t;this.prop=r;this.easing=n||I.easing._default;this.options=e;this.start=this.now=this.cur();this.end=i;this.unit=o||(I.cssNumber[r]?"":"px")},cur:function(){var t=pe.propHooks[this.prop];return t&&t.get?t.get(this):pe.propHooks._default.get(this)},run:function(t){var e,r=pe.propHooks[this.prop];if(this.options.duration){this.pos=e=I.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration)}else{this.pos=e=t}this.now=(this.end-this.start)*e+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(r&&r.set){r.set(this)}else{pe.propHooks._default.set(this)}return this}};pe.prototype.init.prototype=pe.prototype;pe.propHooks={_default:{get:function(t){var e;if(t.elem.nodeType!==1||t.elem[t.prop]!=null&&t.elem.style[t.prop]==null){return t.elem[t.prop]}e=I.css(t.elem,t.prop,"");return!e||e==="auto"?0:e},set:function(t){if(I.fx.step[t.prop]){I.fx.step[t.prop](t)}else if(t.elem.nodeType===1&&(I.cssHooks[t.prop]||t.elem.style[se(t.prop)]!=null)){I.style(t.elem,t.prop,t.now+t.unit)}else{t.elem[t.prop]=t.now}}}};pe.propHooks.scrollTop=pe.propHooks.scrollLeft={set:function(t){if(t.elem.nodeType&&t.elem.parentNode){t.elem[t.prop]=t.now}}};I.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"};I.fx=pe.prototype.init;I.fx.step={};var ve,me,ge=/^(?:toggle|show|hide)$/,ye=/queueHooks$/;function _e(){if(me){if(b.hidden===false&&n.requestAnimationFrame){n.requestAnimationFrame(_e)}else{n.setTimeout(_e,I.fx.interval)}I.fx.tick()}}function be(){n.setTimeout((function(){ve=undefined}));return ve=Date.now()}function xe(t,e){var r,i=0,n={height:t};e=e?1:0;for(;i<4;i+=2-e){r=yt[i];n["margin"+r]=n["padding"+r]=t}if(e){n.opacity=n.width=t}return n}function we(t,e,r){var i,n=(Se.tweeners[e]||[]).concat(Se.tweeners["*"]),o=0,a=n.length;for(;o<a;o++){if(i=n[o].call(r,e,t)){return i}}}function Ee(t,e,r){var i,n,o,a,s,u,h,f,l="width"in e||"height"in e,c=this,d={},p=t.style,v=t.nodeType&&wt(t),m=ft.get(t,"fxshow");if(!r.queue){a=I._queueHooks(t,"fx");if(a.unqueued==null){a.unqueued=0;s=a.empty.fire;a.empty.fire=function(){if(!a.unqueued){s()}}}a.unqueued++;c.always((function(){c.always((function(){a.unqueued--;if(!I.queue(t,"fx").length){a.empty.fire()}}))}))}for(i in e){n=e[i];if(ge.test(n)){delete e[i];o=o||n==="toggle";if(n===(v?"hide":"show")){if(n==="show"&&m&&m[i]!==undefined){v=true}else{continue}}d[i]=m&&m[i]||I.style(t,i)}}u=!I.isEmptyObject(e);if(!u&&I.isEmptyObject(d)){return}if(l&&t.nodeType===1){r.overflow=[p.overflow,p.overflowX,p.overflowY];h=m&&m.display;if(h==null){h=ft.get(t,"display")}f=I.css(t,"display");if(f==="none"){if(h){f=h}else{It([t],true);h=t.style.display||h;f=I.css(t,"display");It([t])}}if(f==="inline"||f==="inline-block"&&h!=null){if(I.css(t,"float")==="none"){if(!u){c.done((function(){p.display=h}));if(h==null){f=p.display;h=f==="none"?"":f}}p.display="inline-block"}}}if(r.overflow){p.overflow="hidden";c.always((function(){p.overflow=r.overflow[0];p.overflowX=r.overflow[1];p.overflowY=r.overflow[2]}))}u=false;for(i in d){if(!u){if(m){if("hidden"in m){v=m.hidden}}else{m=ft.access(t,"fxshow",{display:h})}if(o){m.hidden=!v}if(v){It([t],true)}c.done((function(){if(!v){It([t])}ft.remove(t,"fxshow");for(i in d){I.style(t,i,d[i])}}))}u=we(v?m[i]:0,i,c);if(!(i in m)){m[i]=u.start;if(v){u.end=u.start;u.start=0}}}}function Te(t,e){var r,i,n,o,a;for(r in t){i=st(r);n=e[i];o=t[r];if(Array.isArray(o)){n=o[1];o=t[r]=o[0]}if(r!==i){t[i]=o;delete t[r]}a=I.cssHooks[i];if(a&&"expand"in a){o=a.expand(o);delete t[i];for(r in o){if(!(r in t)){t[r]=o[r];e[r]=n}}}else{e[i]=n}}}function Se(t,e,r){var i,n,o=0,a=Se.prefilters.length,s=I.Deferred().always((function(){delete u.elem})),u=function(){if(n){return false}var e=ve||be(),r=Math.max(0,h.startTime+h.duration-e),i=r/h.duration||0,o=1-i,a=0,u=h.tweens.length;for(;a<u;a++){h.tweens[a].run(o)}s.notifyWith(t,[h,o,r]);if(o<1&&u){return r}if(!u){s.notifyWith(t,[h,1,0])}s.resolveWith(t,[h]);return false},h=s.promise({elem:t,props:I.extend({},e),opts:I.extend(true,{specialEasing:{},easing:I.easing._default},r),originalProperties:e,originalOptions:r,startTime:ve||be(),duration:r.duration,tweens:[],createTween:function(e,r){var i=I.Tween(t,h.opts,e,r,h.opts.specialEasing[e]||h.opts.easing);h.tweens.push(i);return i},stop:function(e){var r=0,i=e?h.tweens.length:0;if(n){return this}n=true;for(;r<i;r++){h.tweens[r].run(1)}if(e){s.notifyWith(t,[h,1,0]);s.resolveWith(t,[h,e])}else{s.rejectWith(t,[h,e])}return this}}),f=h.props;Te(f,h.opts.specialEasing);for(;o<a;o++){i=Se.prefilters[o].call(h,t,f,h.opts);if(i){if(y(i.stop)){I._queueHooks(h.elem,h.opts.queue).stop=i.stop.bind(i)}return i}}I.map(f,we,h);if(y(h.opts.start)){h.opts.start.call(t,h)}h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always);I.fx.timer(I.extend(u,{elem:t,anim:h,queue:h.opts.queue}));return h}I.Animation=I.extend(Se,{tweeners:{"*":[function(t,e){var r=this.createTween(t,e);Et(r.elem,t,gt.exec(e),r);return r}]},tweener:function(t,e){if(y(t)){e=t;t=["*"]}else{t=t.match(Z)}var r,i=0,n=t.length;for(;i<n;i++){r=t[i];Se.tweeners[r]=Se.tweeners[r]||[];Se.tweeners[r].unshift(e)}},prefilters:[Ee],prefilter:function(t,e){if(e){Se.prefilters.unshift(t)}else{Se.prefilters.push(t)}}});I.speed=function(t,e,r){var i=t&&typeof t==="object"?I.extend({},t):{complete:r||!r&&e||y(t)&&t,duration:t,easing:r&&e||e&&!y(e)&&e};if(I.fx.off){i.duration=0}else{if(typeof i.duration!=="number"){if(i.duration in I.fx.speeds){i.duration=I.fx.speeds[i.duration]}else{i.duration=I.fx.speeds._default}}}if(i.queue==null||i.queue===true){i.queue="fx"}i.old=i.complete;i.complete=function(){if(y(i.old)){i.old.call(this)}if(i.queue){I.dequeue(this,i.queue)}};return i};I.fn.extend({fadeTo:function(t,e,r,i){return this.filter(wt).css("opacity",0).show().end().animate({opacity:e},t,r,i)},animate:function(t,e,r,i){var n=I.isEmptyObject(t),o=I.speed(e,r,i),a=function(){var e=Se(this,I.extend({},t),o);if(n||ft.get(this,"finish")){e.stop(true)}};a.finish=a;return n||o.queue===false?this.each(a):this.queue(o.queue,a)},stop:function(t,e,r){var i=function(t){var e=t.stop;delete t.stop;e(r)};if(typeof t!=="string"){r=e;e=t;t=undefined}if(e){this.queue(t||"fx",[])}return this.each((function(){var e=true,n=t!=null&&t+"queueHooks",o=I.timers,a=ft.get(this);if(n){if(a[n]&&a[n].stop){i(a[n])}}else{for(n in a){if(a[n]&&a[n].stop&&ye.test(n)){i(a[n])}}}for(n=o.length;n--;){if(o[n].elem===this&&(t==null||o[n].queue===t)){o[n].anim.stop(r);e=false;o.splice(n,1)}}if(e||!r){I.dequeue(this,t)}}))},finish:function(t){if(t!==false){t=t||"fx"}return this.each((function(){var e,r=ft.get(this),i=r[t+"queue"],n=r[t+"queueHooks"],o=I.timers,a=i?i.length:0;r.finish=true;I.queue(this,t,[]);if(n&&n.stop){n.stop.call(this,true)}for(e=o.length;e--;){if(o[e].elem===this&&o[e].queue===t){o[e].anim.stop(true);o.splice(e,1)}}for(e=0;e<a;e++){if(i[e]&&i[e].finish){i[e].finish.call(this)}}delete r.finish}))}});I.each(["toggle","show","hide"],(function(t,e){var r=I.fn[e];I.fn[e]=function(t,i,n){return t==null||typeof t==="boolean"?r.apply(this,arguments):this.animate(xe(e,true),t,i,n)}}));I.each({slideDown:xe("show"),slideUp:xe("hide"),slideToggle:xe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){I.fn[t]=function(t,r,i){return this.animate(e,t,r,i)}}));I.timers=[];I.fx.tick=function(){var t,e=0,r=I.timers;ve=Date.now();for(;e<r.length;e++){t=r[e];if(!t()&&r[e]===t){r.splice(e--,1)}}if(!r.length){I.fx.stop()}ve=undefined};I.fx.timer=function(t){I.timers.push(t);I.fx.start()};I.fx.interval=13;I.fx.start=function(){if(me){return}me=true;_e()};I.fx.stop=function(){me=null};I.fx.speeds={slow:600,fast:200,_default:400};I.fn.delay=function(t,e){t=I.fx?I.fx.speeds[t]||t:t;e=e||"fx";return this.queue(e,(function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}}))};(function(){var t=b.createElement("input"),e=b.createElement("select"),r=e.appendChild(b.createElement("option"));t.type="checkbox";g.checkOn=t.value!=="";g.optSelected=r.selected;t=b.createElement("input");t.value="t";t.type="radio";g.radioValue=t.value==="t"})();var Ie,Ae=I.expr.attrHandle;I.fn.extend({attr:function(t,e){return it(this,I.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){I.removeAttr(this,t)}))}});I.extend({attr:function(t,e,r){var i,n,o=t.nodeType;if(o===3||o===8||o===2){return}if(typeof t.getAttribute==="undefined"){return I.prop(t,e,r)}if(o!==1||!I.isXMLDoc(t)){n=I.attrHooks[e.toLowerCase()]||(I.expr.match.bool.test(e)?Ie:undefined)}if(r!==undefined){if(r===null){I.removeAttr(t,e);return}if(n&&"set"in n&&(i=n.set(t,r,e))!==undefined){return i}t.setAttribute(e,r+"");return r}if(n&&"get"in n&&(i=n.get(t,e))!==null){return i}i=I.find.attr(t,e);return i==null?undefined:i},attrHooks:{type:{set:function(t,e){if(!g.radioValue&&e==="radio"&&P(t,"input")){var r=t.value;t.setAttribute("type",e);if(r){t.value=r}return e}}}},removeAttr:function(t,e){var r,i=0,n=e&&e.match(Z);if(n&&t.nodeType===1){while(r=n[i++]){t.removeAttribute(r)}}}});Ie={set:function(t,e,r){if(e===false){I.removeAttr(t,r)}else{t.setAttribute(r,r)}return r}};I.each(I.expr.match.bool.source.match(/\w+/g),(function(t,e){var r=Ae[e]||I.find.attr;Ae[e]=function(t,e,i){var n,o,a=e.toLowerCase();if(!i){o=Ae[a];Ae[a]=n;n=r(t,e,i)!=null?a:null;Ae[a]=o}return n}}));var Pe=/^(?:input|select|textarea|button)$/i,Oe=/^(?:a|area)$/i;I.fn.extend({prop:function(t,e){return it(this,I.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[I.propFix[t]||t]}))}});I.extend({prop:function(t,e,r){var i,n,o=t.nodeType;if(o===3||o===8||o===2){return}if(o!==1||!I.isXMLDoc(t)){e=I.propFix[e]||e;n=I.propHooks[e]}if(r!==undefined){if(n&&"set"in n&&(i=n.set(t,r,e))!==undefined){return i}return t[e]=r}if(n&&"get"in n&&(i=n.get(t,e))!==null){return i}return t[e]},propHooks:{tabIndex:{get:function(t){var e=I.find.attr(t,"tabindex");if(e){return parseInt(e,10)}if(Pe.test(t.nodeName)||Oe.test(t.nodeName)&&t.href){return 0}return-1}}},propFix:{for:"htmlFor",class:"className"}});if(!g.optSelected){I.propHooks.selected={get:function(t){var e=t.parentNode;if(e&&e.parentNode){e.parentNode.selectedIndex}return null},set:function(t){var e=t.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}}}}I.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){I.propFix[this.toLowerCase()]=this}));function Ce(t){var e=t.match(Z)||[];return e.join(" ")}function Re(t){return t.getAttribute&&t.getAttribute("class")||""}function De(t){if(Array.isArray(t)){return t}if(typeof t==="string"){return t.match(Z)||[]}return[]}I.fn.extend({addClass:function(t){var e,r,i,n,o,a;if(y(t)){return this.each((function(e){I(this).addClass(t.call(this,e,Re(this)))}))}e=De(t);if(e.length){return this.each((function(){i=Re(this);r=this.nodeType===1&&" "+Ce(i)+" ";if(r){for(o=0;o<e.length;o++){n=e[o];if(r.indexOf(" "+n+" ")<0){r+=n+" "}}a=Ce(r);if(i!==a){this.setAttribute("class",a)}}}))}return this},removeClass:function(t){var e,r,i,n,o,a;if(y(t)){return this.each((function(e){I(this).removeClass(t.call(this,e,Re(this)))}))}if(!arguments.length){return this.attr("class","")}e=De(t);if(e.length){return this.each((function(){i=Re(this);r=this.nodeType===1&&" "+Ce(i)+" ";if(r){for(o=0;o<e.length;o++){n=e[o];while(r.indexOf(" "+n+" ")>-1){r=r.replace(" "+n+" "," ")}}a=Ce(r);if(i!==a){this.setAttribute("class",a)}}}))}return this},toggleClass:function(t,e){var r,i,n,o,a=typeof t,s=a==="string"||Array.isArray(t);if(y(t)){return this.each((function(r){I(this).toggleClass(t.call(this,r,Re(this),e),e)}))}if(typeof e==="boolean"&&s){return e?this.addClass(t):this.removeClass(t)}r=De(t);return this.each((function(){if(s){o=I(this);for(n=0;n<r.length;n++){i=r[n];if(o.hasClass(i)){o.removeClass(i)}else{o.addClass(i)}}}else if(t===undefined||a==="boolean"){i=Re(this);if(i){ft.set(this,"__className__",i)}if(this.setAttribute){this.setAttribute("class",i||t===false?"":ft.get(this,"__className__")||"")}}}))},hasClass:function(t){var e,r,i=0;e=" "+t+" ";while(r=this[i++]){if(r.nodeType===1&&(" "+Ce(Re(r))+" ").indexOf(e)>-1){return true}}return false}});var Me=/\r/g;I.fn.extend({val:function(t){var e,r,i,n=this[0];if(!arguments.length){if(n){e=I.valHooks[n.type]||I.valHooks[n.nodeName.toLowerCase()];if(e&&"get"in e&&(r=e.get(n,"value"))!==undefined){return r}r=n.value;if(typeof r==="string"){return r.replace(Me,"")}return r==null?"":r}return}i=y(t);return this.each((function(r){var n;if(this.nodeType!==1){return}if(i){n=t.call(this,r,I(this).val())}else{n=t}if(n==null){n=""}else if(typeof n==="number"){n+=""}else if(Array.isArray(n)){n=I.map(n,(function(t){return t==null?"":t+""}))}e=I.valHooks[this.type]||I.valHooks[this.nodeName.toLowerCase()];if(!e||!("set"in e)||e.set(this,n,"value")===undefined){this.value=n}}))}});I.extend({valHooks:{option:{get:function(t){var e=I.find.attr(t,"value");return e!=null?e:Ce(I.text(t))}},select:{get:function(t){var e,r,i,n=t.options,o=t.selectedIndex,a=t.type==="select-one",s=a?null:[],u=a?o+1:n.length;if(o<0){i=u}else{i=a?o:0}for(;i<u;i++){r=n[i];if((r.selected||i===o)&&!r.disabled&&(!r.parentNode.disabled||!P(r.parentNode,"optgroup"))){e=I(r).val();if(a){return e}s.push(e)}}return s},set:function(t,e){var r,i,n=t.options,o=I.makeArray(e),a=n.length;while(a--){i=n[a];if(i.selected=I.inArray(I.valHooks.option.get(i),o)>-1){r=true}}if(!r){t.selectedIndex=-1}return o}}}});I.each(["radio","checkbox"],(function(){I.valHooks[this]={set:function(t,e){if(Array.isArray(e)){return t.checked=I.inArray(I(t).val(),e)>-1}}};if(!g.checkOn){I.valHooks[this].get=function(t){return t.getAttribute("value")===null?"on":t.value}}}));var ke=n.location;var Ne={guid:Date.now()};var Le=/\?/;I.parseXML=function(t){var e,r;if(!t||typeof t!=="string"){return null}try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){}r=e&&e.getElementsByTagName("parsererror")[0];if(!e||r){I.error("Invalid XML: "+(r?I.map(r.childNodes,(function(t){return t.textContent})).join("\n"):t))}return e};var Be=/^(?:focusinfocus|focusoutblur)$/,Fe=function(t){t.stopPropagation()};I.extend(I.event,{trigger:function(t,e,r,i){var o,a,s,u,h,f,l,c,d=[r||b],v=p.call(t,"type")?t.type:t,m=p.call(t,"namespace")?t.namespace.split("."):[];a=c=s=r=r||b;if(r.nodeType===3||r.nodeType===8){return}if(Be.test(v+I.event.triggered)){return}if(v.indexOf(".")>-1){m=v.split(".");v=m.shift();m.sort()}h=v.indexOf(":")<0&&"on"+v;t=t[I.expando]?t:new I.Event(v,typeof t==="object"&&t);t.isTrigger=i?2:3;t.namespace=m.join(".");t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;t.result=undefined;if(!t.target){t.target=r}e=e==null?[t]:I.makeArray(e,[t]);l=I.event.special[v]||{};if(!i&&l.trigger&&l.trigger.apply(r,e)===false){return}if(!i&&!l.noBubble&&!_(r)){u=l.delegateType||v;if(!Be.test(u+v)){a=a.parentNode}for(;a;a=a.parentNode){d.push(a);s=a}if(s===(r.ownerDocument||b)){d.push(s.defaultView||s.parentWindow||n)}}o=0;while((a=d[o++])&&!t.isPropagationStopped()){c=a;t.type=o>1?u:l.bindType||v;f=(ft.get(a,"events")||Object.create(null))[t.type]&&ft.get(a,"handle");if(f){f.apply(a,e)}f=h&&a[h];if(f&&f.apply&&ut(a)){t.result=f.apply(a,e);if(t.result===false){t.preventDefault()}}}t.type=v;if(!i&&!t.isDefaultPrevented()){if((!l._default||l._default.apply(d.pop(),e)===false)&&ut(r)){if(h&&y(r[v])&&!_(r)){s=r[h];if(s){r[h]=null}I.event.triggered=v;if(t.isPropagationStopped()){c.addEventListener(v,Fe)}r[v]();if(t.isPropagationStopped()){c.removeEventListener(v,Fe)}I.event.triggered=undefined;if(s){r[h]=s}}}}return t.result},simulate:function(t,e,r){var i=I.extend(new I.Event,r,{type:t,isSimulated:true});I.event.trigger(i,null,e)}});I.fn.extend({trigger:function(t,e){return this.each((function(){I.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var r=this[0];if(r){return I.event.trigger(t,e,r,true)}}});var Ue=/\[\]$/,je=/\r?\n/g,ze=/^(?:submit|button|image|reset|file)$/i,Xe=/^(?:input|select|textarea|keygen)/i;function He(t,e,r,i){var n;if(Array.isArray(e)){I.each(e,(function(e,n){if(r||Ue.test(t)){i(t,n)}else{He(t+"["+(typeof n==="object"&&n!=null?e:"")+"]",n,r,i)}}))}else if(!r&&E(e)==="object"){for(n in e){He(t+"["+n+"]",e[n],r,i)}}else{i(t,e)}}I.param=function(t,e){var r,i=[],n=function(t,e){var r=y(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(r==null?"":r)};if(t==null){return""}if(Array.isArray(t)||t.jquery&&!I.isPlainObject(t)){I.each(t,(function(){n(this.name,this.value)}))}else{for(r in t){He(r,t[r],e,n)}}return i.join("&")};I.fn.extend({serialize:function(){return I.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=I.prop(this,"elements");return t?I.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!I(this).is(":disabled")&&Xe.test(this.nodeName)&&!ze.test(t)&&(this.checked||!At.test(t))})).map((function(t,e){var r=I(this).val();if(r==null){return null}if(Array.isArray(r)){return I.map(r,(function(t){return{name:e.name,value:t.replace(je,"\r\n")}}))}return{name:e.name,value:r.replace(je,"\r\n")}})).get()}});var Ge=/%20/g,We=/#.*$/,Ye=/([?&])_=[^&]*/,Ve=/^(.*?):[ \t]*([^\r\n]*)$/gm,qe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ze=/^(?:GET|HEAD)$/,$e=/^\/\//,Ke={},Je={},Qe="*/".concat("*"),tr=b.createElement("a");tr.href=ke.href;function er(t){return function(e,r){if(typeof e!=="string"){r=e;e="*"}var i,n=0,o=e.toLowerCase().match(Z)||[];if(y(r)){while(i=o[n++]){if(i[0]==="+"){i=i.slice(1)||"*";(t[i]=t[i]||[]).unshift(r)}else{(t[i]=t[i]||[]).push(r)}}}}}function rr(t,e,r,i){var n={},o=t===Je;function a(s){var u;n[s]=true;I.each(t[s]||[],(function(t,s){var h=s(e,r,i);if(typeof h==="string"&&!o&&!n[h]){e.dataTypes.unshift(h);a(h);return false}else if(o){return!(u=h)}}));return u}return a(e.dataTypes[0])||!n["*"]&&a("*")}function ir(t,e){var r,i,n=I.ajaxSettings.flatOptions||{};for(r in e){if(e[r]!==undefined){(n[r]?t:i||(i={}))[r]=e[r]}}if(i){I.extend(true,t,i)}return t}function nr(t,e,r){var i,n,o,a,s=t.contents,u=t.dataTypes;while(u[0]==="*"){u.shift();if(i===undefined){i=t.mimeType||e.getResponseHeader("Content-Type")}}if(i){for(n in s){if(s[n]&&s[n].test(i)){u.unshift(n);break}}}if(u[0]in r){o=u[0]}else{for(n in r){if(!u[0]||t.converters[n+" "+u[0]]){o=n;break}if(!a){a=n}}o=o||a}if(o){if(o!==u[0]){u.unshift(o)}return r[o]}}function or(t,e,r,i){var n,o,a,s,u,h={},f=t.dataTypes.slice();if(f[1]){for(a in t.converters){h[a.toLowerCase()]=t.converters[a]}}o=f.shift();while(o){if(t.responseFields[o]){r[t.responseFields[o]]=e}if(!u&&i&&t.dataFilter){e=t.dataFilter(e,t.dataType)}u=o;o=f.shift();if(o){if(o==="*"){o=u}else if(u!=="*"&&u!==o){a=h[u+" "+o]||h["* "+o];if(!a){for(n in h){s=n.split(" ");if(s[1]===o){a=h[u+" "+s[0]]||h["* "+s[0]];if(a){if(a===true){a=h[n]}else if(h[n]!==true){o=s[0];f.unshift(s[1])}break}}}}if(a!==true){if(a&&t.throws){e=a(e)}else{try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}}}}}return{state:"success",data:e}}I.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:qe.test(ke.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":JSON.parse,"text xml":I.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(t,e){return e?ir(ir(t,I.ajaxSettings),e):ir(I.ajaxSettings,t)},ajaxPrefilter:er(Ke),ajaxTransport:er(Je),ajax:function(t,e){if(typeof t==="object"){e=t;t=undefined}e=e||{};var r,i,o,a,s,u,h,f,l,c,d=I.ajaxSetup({},e),p=d.context||d,v=d.context&&(p.nodeType||p.jquery)?I(p):I.event,m=I.Deferred(),g=I.Callbacks("once memory"),y=d.statusCode||{},_={},x={},w="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(h){if(!a){a={};while(e=Ve.exec(o)){a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2])}}e=a[t.toLowerCase()+" "]}return e==null?null:e.join(", ")},getAllResponseHeaders:function(){return h?o:null},setRequestHeader:function(t,e){if(h==null){t=x[t.toLowerCase()]=x[t.toLowerCase()]||t;_[t]=e}return this},overrideMimeType:function(t){if(h==null){d.mimeType=t}return this},statusCode:function(t){var e;if(t){if(h){E.always(t[E.status])}else{for(e in t){y[e]=[y[e],t[e]]}}}return this},abort:function(t){var e=t||w;if(r){r.abort(e)}T(0,e);return this}};m.promise(E);d.url=((t||d.url||ke.href)+"").replace($e,ke.protocol+"//");d.type=e.method||e.type||d.method||d.type;d.dataTypes=(d.dataType||"*").toLowerCase().match(Z)||[""];if(d.crossDomain==null){u=b.createElement("a");try{u.href=d.url;u.href=u.href;d.crossDomain=tr.protocol+"//"+tr.host!==u.protocol+"//"+u.host}catch(t){d.crossDomain=true}}if(d.data&&d.processData&&typeof d.data!=="string"){d.data=I.param(d.data,d.traditional)}rr(Ke,d,e,E);if(h){return E}f=I.event&&d.global;if(f&&I.active++===0){I.event.trigger("ajaxStart")}d.type=d.type.toUpperCase();d.hasContent=!Ze.test(d.type);i=d.url.replace(We,"");if(!d.hasContent){c=d.url.slice(i.length);if(d.data&&(d.processData||typeof d.data==="string")){i+=(Le.test(i)?"&":"?")+d.data;delete d.data}if(d.cache===false){i=i.replace(Ye,"$1");c=(Le.test(i)?"&":"?")+"_="+Ne.guid+++c}d.url=i+c}else if(d.data&&d.processData&&(d.contentType||"").indexOf("application/x-www-form-urlencoded")===0){d.data=d.data.replace(Ge,"+")}if(d.ifModified){if(I.lastModified[i]){E.setRequestHeader("If-Modified-Since",I.lastModified[i])}if(I.etag[i]){E.setRequestHeader("If-None-Match",I.etag[i])}}if(d.data&&d.hasContent&&d.contentType!==false||e.contentType){E.setRequestHeader("Content-Type",d.contentType)}E.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+Qe+"; q=0.01":""):d.accepts["*"]);for(l in d.headers){E.setRequestHeader(l,d.headers[l])}if(d.beforeSend&&(d.beforeSend.call(p,E,d)===false||h)){return E.abort()}w="abort";g.add(d.complete);E.done(d.success);E.fail(d.error);r=rr(Je,d,e,E);if(!r){T(-1,"No Transport")}else{E.readyState=1;if(f){v.trigger("ajaxSend",[E,d])}if(h){return E}if(d.async&&d.timeout>0){s=n.setTimeout((function(){E.abort("timeout")}),d.timeout)}try{h=false;r.send(_,T)}catch(t){if(h){throw t}T(-1,t)}}function T(t,e,a,u){var l,c,_,b,x,w=e;if(h){return}h=true;if(s){n.clearTimeout(s)}r=undefined;o=u||"";E.readyState=t>0?4:0;l=t>=200&&t<300||t===304;if(a){b=nr(d,E,a)}if(!l&&I.inArray("script",d.dataTypes)>-1&&I.inArray("json",d.dataTypes)<0){d.converters["text script"]=function(){}}b=or(d,b,E,l);if(l){if(d.ifModified){x=E.getResponseHeader("Last-Modified");if(x){I.lastModified[i]=x}x=E.getResponseHeader("etag");if(x){I.etag[i]=x}}if(t===204||d.type==="HEAD"){w="nocontent"}else if(t===304){w="notmodified"}else{w=b.state;c=b.data;_=b.error;l=!_}}else{_=w;if(t||!w){w="error";if(t<0){t=0}}}E.status=t;E.statusText=(e||w)+"";if(l){m.resolveWith(p,[c,w,E])}else{m.rejectWith(p,[E,w,_])}E.statusCode(y);y=undefined;if(f){v.trigger(l?"ajaxSuccess":"ajaxError",[E,d,l?c:_])}g.fireWith(p,[E,w]);if(f){v.trigger("ajaxComplete",[E,d]);if(!--I.active){I.event.trigger("ajaxStop")}}}return E},getJSON:function(t,e,r){return I.get(t,e,r,"json")},getScript:function(t,e){return I.get(t,undefined,e,"script")}});I.each(["get","post"],(function(t,e){I[e]=function(t,r,i,n){if(y(r)){n=n||i;i=r;r=undefined}return I.ajax(I.extend({url:t,type:e,dataType:n,data:r,success:i},I.isPlainObject(t)&&t))}}));I.ajaxPrefilter((function(t){var e;for(e in t.headers){if(e.toLowerCase()==="content-type"){t.contentType=t.headers[e]||""}}}));I._evalUrl=function(t,e,r){return I.ajax({url:t,type:"GET",dataType:"script",cache:true,async:false,global:false,converters:{"text script":function(){}},dataFilter:function(t){I.globalEval(t,e,r)}})};I.fn.extend({wrapAll:function(t){var e;if(this[0]){if(y(t)){t=t.call(this[0])}e=I(t,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){e.insertBefore(this[0])}e.map((function(){var t=this;while(t.firstElementChild){t=t.firstElementChild}return t})).append(this)}return this},wrapInner:function(t){if(y(t)){return this.each((function(e){I(this).wrapInner(t.call(this,e))}))}return this.each((function(){var e=I(this),r=e.contents();if(r.length){r.wrapAll(t)}else{e.append(t)}}))},wrap:function(t){var e=y(t);return this.each((function(r){I(this).wrapAll(e?t.call(this,r):t)}))},unwrap:function(t){this.parent(t).not("body").each((function(){I(this).replaceWith(this.childNodes)}));return this}});I.expr.pseudos.hidden=function(t){return!I.expr.pseudos.visible(t)};I.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)};I.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var ar={0:200,1223:204},sr=I.ajaxSettings.xhr();g.cors=!!sr&&"withCredentials"in sr;g.ajax=sr=!!sr;I.ajaxTransport((function(t){var e,r;if(g.cors||sr&&!t.crossDomain){return{send:function(i,o){var a,s=t.xhr();s.open(t.type,t.url,t.async,t.username,t.password);if(t.xhrFields){for(a in t.xhrFields){s[a]=t.xhrFields[a]}}if(t.mimeType&&s.overrideMimeType){s.overrideMimeType(t.mimeType)}if(!t.crossDomain&&!i["X-Requested-With"]){i["X-Requested-With"]="XMLHttpRequest"}for(a in i){s.setRequestHeader(a,i[a])}e=function(t){return function(){if(e){e=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null;if(t==="abort"){s.abort()}else if(t==="error"){if(typeof s.status!=="number"){o(0,"error")}else{o(s.status,s.statusText)}}else{o(ar[s.status]||s.status,s.statusText,(s.responseType||"text")!=="text"||typeof s.responseText!=="string"?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders())}}}};s.onload=e();r=s.onerror=s.ontimeout=e("error");if(s.onabort!==undefined){s.onabort=r}else{s.onreadystatechange=function(){if(s.readyState===4){n.setTimeout((function(){if(e){r()}}))}}}e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e){throw t}}},abort:function(){if(e){e()}}}}}));I.ajaxPrefilter((function(t){if(t.crossDomain){t.contents.script=false}}));I.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){I.globalEval(t);return t}}});I.ajaxPrefilter("script",(function(t){if(t.cache===undefined){t.cache=false}if(t.crossDomain){t.type="GET"}}));I.ajaxTransport("script",(function(t){if(t.crossDomain||t.scriptAttrs){var e,r;return{send:function(i,n){e=I("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",r=function(t){e.remove();r=null;if(t){n(t.type==="error"?404:200,t.type)}});b.head.appendChild(e[0])},abort:function(){if(r){r()}}}}}));var ur=[],hr=/(=)\?(?=&|$)|\?\?/;I.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ur.pop()||I.expando+"_"+Ne.guid++;this[t]=true;return t}});I.ajaxPrefilter("json jsonp",(function(t,e,r){var i,o,a,s=t.jsonp!==false&&(hr.test(t.url)?"url":typeof t.data==="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&hr.test(t.data)&&"data");if(s||t.dataTypes[0]==="jsonp"){i=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback;if(s){t[s]=t[s].replace(hr,"$1"+i)}else if(t.jsonp!==false){t.url+=(Le.test(t.url)?"&":"?")+t.jsonp+"="+i}t.converters["script json"]=function(){if(!a){I.error(i+" was not called")}return a[0]};t.dataTypes[0]="json";o=n[i];n[i]=function(){a=arguments};r.always((function(){if(o===undefined){I(n).removeProp(i)}else{n[i]=o}if(t[i]){t.jsonpCallback=e.jsonpCallback;ur.push(i)}if(a&&y(o)){o(a[0])}a=o=undefined}));return"script"}}));g.createHTMLDocument=function(){var t=b.implementation.createHTMLDocument("").body;t.innerHTML="<form></form><form></form>";return t.childNodes.length===2}();I.parseHTML=function(t,e,r){if(typeof t!=="string"){return[]}if(typeof e==="boolean"){r=e;e=false}var i,n,o;if(!e){if(g.createHTMLDocument){e=b.implementation.createHTMLDocument("");i=e.createElement("base");i.href=b.location.href;e.head.appendChild(i)}else{e=b}}n=z.exec(t);o=!r&&[];if(n){return[e.createElement(n[1])]}n=kt([t],e,o);if(o&&o.length){I(o).remove()}return I.merge([],n.childNodes)};I.fn.load=function(t,e,r){var i,n,o,a=this,s=t.indexOf(" ");if(s>-1){i=Ce(t.slice(s));t=t.slice(0,s)}if(y(e)){r=e;e=undefined}else if(e&&typeof e==="object"){n="POST"}if(a.length>0){I.ajax({url:t,type:n||"GET",dataType:"html",data:e}).done((function(t){o=arguments;a.html(i?I("<div>").append(I.parseHTML(t)).find(i):t)})).always(r&&function(t,e){a.each((function(){r.apply(this,o||[t.responseText,e,t])}))})}return this};I.expr.pseudos.animated=function(t){return I.grep(I.timers,(function(e){return t===e.elem})).length};I.offset={setOffset:function(t,e,r){var i,n,o,a,s,u,h,f=I.css(t,"position"),l=I(t),c={};if(f==="static"){t.style.position="relative"}s=l.offset();o=I.css(t,"top");u=I.css(t,"left");h=(f==="absolute"||f==="fixed")&&(o+u).indexOf("auto")>-1;if(h){i=l.position();a=i.top;n=i.left}else{a=parseFloat(o)||0;n=parseFloat(u)||0}if(y(e)){e=e.call(t,r,I.extend({},s))}if(e.top!=null){c.top=e.top-s.top+a}if(e.left!=null){c.left=e.left-s.left+n}if("using"in e){e.using.call(t,c)}else{l.css(c)}}};I.fn.extend({offset:function(t){if(arguments.length){return t===undefined?this:this.each((function(e){I.offset.setOffset(this,t,e)}))}var e,r,i=this[0];if(!i){return}if(!i.getClientRects().length){return{top:0,left:0}}e=i.getBoundingClientRect();r=i.ownerDocument.defaultView;return{top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}},position:function(){if(!this[0]){return}var t,e,r,i=this[0],n={top:0,left:0};if(I.css(i,"position")==="fixed"){e=i.getBoundingClientRect()}else{e=this.offset();r=i.ownerDocument;t=i.offsetParent||r.documentElement;while(t&&(t===r.body||t===r.documentElement)&&I.css(t,"position")==="static"){t=t.parentNode}if(t&&t!==i&&t.nodeType===1){n=I(t).offset();n.top+=I.css(t,"borderTopWidth",true);n.left+=I.css(t,"borderLeftWidth",true)}}return{top:e.top-n.top-I.css(i,"marginTop",true),left:e.left-n.left-I.css(i,"marginLeft",true)}},offsetParent:function(){return this.map((function(){var t=this.offsetParent;while(t&&I.css(t,"position")==="static"){t=t.offsetParent}return t||_t}))}});I.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var r="pageYOffset"===e;I.fn[t]=function(i){return it(this,(function(t,i,n){var o;if(_(t)){o=t}else if(t.nodeType===9){o=t.defaultView}if(n===undefined){return o?o[e]:t[i]}if(o){o.scrollTo(!r?n:o.pageXOffset,r?n:o.pageYOffset)}else{t[i]=n}}),t,i,arguments.length)}}));I.each(["top","left"],(function(t,e){I.cssHooks[e]=re(g.pixelPosition,(function(t,r){if(r){r=ee(t,e);return $t.test(r)?I(t).position()[e]+"px":r}}))}));I.each({Height:"height",Width:"width"},(function(t,e){I.each({padding:"inner"+t,content:e,"":"outer"+t},(function(r,i){I.fn[i]=function(n,o){var a=arguments.length&&(r||typeof n!=="boolean"),s=r||(n===true||o===true?"margin":"border");return it(this,(function(e,r,n){var o;if(_(e)){return i.indexOf("outer")===0?e["inner"+t]:e.document.documentElement["client"+t]}if(e.nodeType===9){o=e.documentElement;return Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])}return n===undefined?I.css(e,r,s):I.style(e,r,n,s)}),e,a?n:undefined,a)}}))}));I.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){I.fn[e]=function(t){return this.on(e,t)}}));I.fn.extend({bind:function(t,e,r){return this.on(t,null,e,r)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,r,i){return this.on(e,t,r,i)},undelegate:function(t,e,r){return arguments.length===1?this.off(t,"**"):this.off(e,t||"**",r)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});I.each(("blur focus focusin focusout resize scroll click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup contextmenu").split(" "),(function(t,e){I.fn[e]=function(t,r){return arguments.length>0?this.on(e,null,t,r):this.trigger(e)}}));var fr=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;I.proxy=function(t,e){var r,i,n;if(typeof e==="string"){r=t[e];e=t;t=r}if(!y(t)){return undefined}i=u.call(arguments,2);n=function(){return t.apply(e||this,i.concat(u.call(arguments)))};n.guid=t.guid=t.guid||I.guid++;return n};I.holdReady=function(t){if(t){I.readyWait++}else{I.ready(true)}};I.isArray=Array.isArray;I.parseJSON=JSON.parse;I.nodeName=P;I.isFunction=y;I.isWindow=_;I.camelCase=st;I.type=E;I.now=Date.now;I.isNumeric=function(t){var e=I.type(t);return(e==="number"||e==="string")&&!isNaN(t-parseFloat(t))};I.trim=function(t){return t==null?"":(t+"").replace(fr,"$1")};if(true){!(r=[],i=function(){return I}.apply(e,r),i!==undefined&&(t.exports=i))}var lr=n.jQuery,cr=n.$;I.noConflict=function(t){if(n.$===I){n.$=cr}if(t&&n.jQuery===I){n.jQuery=lr}return I};if(typeof o==="undefined"){n.jQuery=n.$=I}return I}))},733:(t,e,r)=>{var i=r(764)["lW"];!function(e){if(true)t.exports=e();else{}}((function(){return function t(e,r,i){function n(a,s){if(!r[a]){if(!e[a]){var u=undefined;if(!s&&u)return require(a,!0);if(o)return o(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var f=r[a]={exports:{}};e[a][0].call(f.exports,(function(t){var r=e[a][1][t];return n(r||t)}),f,f.exports,t,e,r,i)}return r[a].exports}for(var o=undefined,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(t,e,r){"use strict";var i=t("./utils"),n=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(t){for(var e,r,n,a,s,u,h,f=[],l=0,c=t.length,d=c,p="string"!==i.getTypeOf(t);l<t.length;)d=c-l,n=p?(e=t[l++],r=l<c?t[l++]:0,l<c?t[l++]:0):(e=t.charCodeAt(l++),r=l<c?t.charCodeAt(l++):0,l<c?t.charCodeAt(l++):0),a=e>>2,s=(3&e)<<4|r>>4,u=1<d?(15&r)<<2|n>>6:64,h=2<d?63&n:64,f.push(o.charAt(a)+o.charAt(s)+o.charAt(u)+o.charAt(h));return f.join("")},r.decode=function(t){var e,r,i,a,s,u,h=0,f=0,l="data:";if(t.substr(0,l.length)===l)throw new Error("Invalid base64 input, it looks like a data url.");var c,d=3*(t=t.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(t.charAt(t.length-1)===o.charAt(64)&&d--,t.charAt(t.length-2)===o.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(c=n.uint8array?new Uint8Array(0|d):new Array(0|d);h<t.length;)e=o.indexOf(t.charAt(h++))<<2|(a=o.indexOf(t.charAt(h++)))>>4,r=(15&a)<<4|(s=o.indexOf(t.charAt(h++)))>>2,i=(3&s)<<6|(u=o.indexOf(t.charAt(h++))),c[f++]=e,64!==s&&(c[f++]=r),64!==u&&(c[f++]=i);return c}},{"./support":30,"./utils":32}],2:[function(t,e,r){"use strict";var i=t("./external"),n=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),a=t("./stream/DataLengthProbe");function s(t,e,r,i,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=i,this.compressedContent=n}s.prototype={getContentWorker:function(){var t=new n(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new n(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,r){return t.pipe(new o).pipe(new a("uncompressedSize")).pipe(e.compressWorker(r)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},e.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,r){"use strict";var i=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,r){"use strict";var i=t("./utils");var n=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,r,i){var o=n,a=i+r;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}(0|e,t,t.length,0):function(t,e,r,i){var o=n,a=i+r;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e.charCodeAt(s))];return-1^t}(0|e,t,t.length,0):0}},{"./utils":32}],5:[function(t,e,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,e,r){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:i}},{lie:37}],7:[function(t,e,r){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=t("pako"),o=t("./utils"),a=t("./stream/GenericWorker"),s=i?"uint8array":"array";function u(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}r.magic="\b\0",o.inherits(u,a),u.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,t.data),!1)},u.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},r.compressWorker=function(t){return new u("Deflate",t)},r.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,r){"use strict";function i(t,e){var r,i="";for(r=0;r<e;r++)i+=String.fromCharCode(255&t),t>>>=8;return i}function n(t,e,r,n,a,f){var l,c,d=t.file,p=t.compression,v=f!==s.utf8encode,m=o.transformTo("string",f(d.name)),g=o.transformTo("string",s.utf8encode(d.name)),y=d.comment,_=o.transformTo("string",f(y)),b=o.transformTo("string",s.utf8encode(y)),x=g.length!==d.name.length,w=b.length!==y.length,E="",T="",S="",I=d.dir,A=d.date,P={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(P.crc32=t.crc32,P.compressedSize=t.compressedSize,P.uncompressedSize=t.uncompressedSize);var O=0;e&&(O|=8),v||!x&&!w||(O|=2048);var C=0,R=0;I&&(C|=16),"UNIX"===a?(R=798,C|=function(t,e){var r=t;return t||(r=e?16893:33204),(65535&r)<<16}(d.unixPermissions,I)):(R=20,C|=function(t){return 63&(t||0)}(d.dosPermissions)),l=A.getUTCHours(),l<<=6,l|=A.getUTCMinutes(),l<<=5,l|=A.getUTCSeconds()/2,c=A.getUTCFullYear()-1980,c<<=4,c|=A.getUTCMonth()+1,c<<=5,c|=A.getUTCDate(),x&&(T=i(1,1)+i(u(m),4)+g,E+="up"+i(T.length,2)+T),w&&(S=i(1,1)+i(u(_),4)+b,E+="uc"+i(S.length,2)+S);var D="";return D+="\n\0",D+=i(O,2),D+=p.magic,D+=i(l,2),D+=i(c,2),D+=i(P.crc32,4),D+=i(P.compressedSize,4),D+=i(P.uncompressedSize,4),D+=i(m.length,2),D+=i(E.length,2),{fileRecord:h.LOCAL_FILE_HEADER+D+m+E,dirRecord:h.CENTRAL_FILE_HEADER+i(R,2)+D+i(_.length,2)+"\0\0\0\0"+i(C,4)+i(n,4)+m+E+_}}var o=t("../utils"),a=t("../stream/GenericWorker"),s=t("../utf8"),u=t("../crc32"),h=t("../signature");function f(t,e,r,i){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(f,a),f.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,a.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-i-1))/r:100}}))},f.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=n(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,r=n(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:function(t){return h.DATA_DESCRIPTOR+i(t.crc32,4)+i(t.compressedSize,4)+i(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-t,n=function(t,e,r,n,a){var s=o.transformTo("string",a(n));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(t,2)+i(t,2)+i(e,4)+i(r,4)+i(s.length,2)+s}(this.dirRecords.length,r,t,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},f.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(t){var e=this._sources;if(!a.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch(t){}return!0},f.prototype.lock=function(){a.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,r){"use strict";var i=t("../compressions"),n=t("./ZipFileWorker");r.generateWorker=function(t,e,r){var o=new n(e.streamFiles,r,e.platform,e.encodeFileName),a=0;try{t.forEach((function(t,r){a++;var n=function(t,e){var r=t||e,n=i[r];if(!n)throw new Error(r+" is not a valid compression method !");return n}(r.options.compression,e.compression),s=r.options.compressionOptions||e.compressionOptions||{},u=r.dir,h=r.date;r._compressWorker(n,s).withStreamInfo("file",{name:t,dir:u,date:h,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(t){o.error(t)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,r){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t("./external"),e.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,r){"use strict";var i=t("./utils"),n=t("./external"),o=t("./utf8"),a=t("./zipEntries"),s=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function h(t){return new n.Promise((function(e,r){var i=t.decompressed.getContentWorker().pipe(new s);i.on("error",(function(t){r(t)})).on("end",(function(){i.streamInfo.crc32!==t.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}e.exports=function(t,e){var r=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(t)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var r=new a(e);return r.load(t),r})).then((function(t){var r=[n.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var o=0;o<i.length;o++)r.push(h(i[o]));return n.Promise.all(r)})).then((function(t){for(var n=t.shift(),o=n.files,a=0;a<o.length;a++){var s=o[a],u=s.fileNameStr,h=i.resolve(s.fileNameStr);r.file(h,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders}),s.dir||(r.file(h).unsafeOriginalName=u)}return n.zipComment.length&&(r.comment=n.zipComment),r}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,r){"use strict";var i=t("../utils"),n=t("../stream/GenericWorker");function o(t,e){n.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(o,n),o.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},o.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,r){"use strict";var i=t("readable-stream").Readable;function n(t,e,r){i.call(this,e),this._helper=t;var n=this;t.on("data",(function(t,e){n.push(t)||n._helper.pause(),r&&r(e)})).on("error",(function(t){n.emit("error",t)})).on("end",(function(){n.push(null)}))}t("../utils").inherits(n,i),n.prototype._read=function(){this._helper.resume()},e.exports=n},{"../utils":32,"readable-stream":16}],14:[function(t,e,r){"use strict";e.exports={isNode:"undefined"!=typeof i,newBufferFrom:function(t,e){if(i.from&&i.from!==Uint8Array.from)return i.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new i(t,e)},allocBuffer:function(t){if(i.alloc)return i.alloc(t);var e=new i(t);return e.fill(0),e},isBuffer:function(t){return i.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,r){"use strict";function i(t,e,r){var i,n=o.getTypeOf(e),s=o.extend(r||{},u);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=v(t)),s.createFolders&&(i=p(t))&&m.call(this,i,!0);var l="string"===n&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!l),(e instanceof h&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e="",s.compression="STORE",n="string");var g=null;g=e instanceof h||e instanceof a?e:c.isNode&&c.isStream(e)?new d(t,e):o.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var y=new f(t,g,s);this.files[t]=y}var n=t("./utf8"),o=t("./utils"),a=t("./stream/GenericWorker"),s=t("./stream/StreamHelper"),u=t("./defaults"),h=t("./compressedObject"),f=t("./zipObject"),l=t("./generate"),c=t("./nodejsUtils"),d=t("./nodejs/NodejsStreamInputAdapter"),p=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},v=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},m=function(t,e){return e=void 0!==e?e:u.createFolders,t=v(t),this.files[t]||i.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function g(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,r,i;for(e in this.files)i=this.files[e],(r=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(r,i)},filter:function(t){var e=[];return this.forEach((function(r,i){t(r,i)&&e.push(i)})),e},file:function(t,e,r){if(1!==arguments.length)return t=this.root+t,i.call(this,t,e,r),this;if(g(t)){var n=t;return this.filter((function(t,e){return!e.dir&&n.test(t)}))}var o=this.files[this.root+t];return o&&!o.dir?o:null},folder:function(t){if(!t)return this;if(g(t))return this.filter((function(e,r){return r.dir&&t.test(e)}));var e=this.root+t,r=m.call(this,e),i=this.clone();return i.root=r.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var r=this.filter((function(e,r){return r.name.slice(0,t.length)===t})),i=0;i<r.length;i++)delete this.files[r[i].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,r={};try{if((r=o.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");o.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var i=r.comment||this.comment||"";e=l.generateWorker(this,r,i)}catch(t){(e=new a("error")).error(t)}return new s(e,r.type||"string",r.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,r){"use strict";e.exports=t("stream")},{stream:void 0}],17:[function(t,e,r){"use strict";var i=t("./DataReader");function n(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(n,i),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===e&&this.data[o+1]===r&&this.data[o+2]===i&&this.data[o+3]===n)return o-this.zero;return-1},n.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&r===o[1]&&i===o[2]&&n===o[3]},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./DataReader":18}],18:[function(t,e,r){"use strict";var i=t("../utils");function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=n},{"../utils":32}],19:[function(t,e,r){"use strict";var i=t("./Uint8ArrayReader");function n(t){i.call(this,t)}t("../utils").inherits(n,i),n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,r){"use strict";var i=t("./DataReader");function n(t){i.call(this,t)}t("../utils").inherits(n,i),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./DataReader":18}],21:[function(t,e,r){"use strict";var i=t("./ArrayReader");function n(t){i.call(this,t)}t("../utils").inherits(n,i),n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,r){"use strict";var i=t("../utils"),n=t("../support"),o=t("./ArrayReader"),a=t("./StringReader"),s=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||n.uint8array?"nodebuffer"===e?new s(t):n.uint8array?new u(i.transformTo("uint8array",t)):new o(i.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,r){"use strict";var i=t("./GenericWorker"),n=t("../utils");function o(t){i.call(this,"ConvertWorker to "+t),this.destType=t}n.inherits(o,i),o.prototype.processChunk=function(t){this.push({data:n.transformTo(this.destType,t.data),meta:t.meta})},e.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,r){"use strict";var i=t("./GenericWorker"),n=t("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,i),o.prototype.processChunk=function(t){this.streamInfo.crc32=n(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,r){"use strict";var i=t("../utils"),n=t("./GenericWorker");function o(t){n.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(o,n),o.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}n.prototype.processChunk.call(this,t)},e.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,r){"use strict";var i=t("../utils"),n=t("./GenericWorker");function o(t){n.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}i.inherits(o,n),o.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,r){"use strict";function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=i},{}],29:[function(t,e,r){"use strict";var n=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),s=t("../base64"),u=t("../support"),h=t("../external"),f=null;if(u.nodestream)try{f=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function l(t,e){return new h.Promise((function(r,o){var a=[],u=t._internalType,h=t._outputType,f=t._mimeType;t.on("data",(function(t,r){a.push(t),e&&e(r)})).on("error",(function(t){a=[],o(t)})).on("end",(function(){try{var t=function(t,e,r){switch(t){case"blob":return n.newBlob(n.transformTo("arraybuffer",e),r);case"base64":return s.encode(e);default:return n.transformTo(t,e)}}(h,function(t,e){var r,n=0,o=null,a=0;for(r=0;r<e.length;r++)a+=e[r].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(o=new Uint8Array(a),r=0;r<e.length;r++)o.set(e[r],n),n+=e[r].length;return o;case"nodebuffer":return i.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(u,a),f);r(t)}catch(t){o(t)}a=[]})).resume()}))}function c(t,e,r){var i=e;switch(e){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=e,this._mimeType=r,n.checkSupport(i),this._worker=t.pipe(new o(i)),t.lock()}catch(t){this._worker=new a("error"),this._worker.error(t)}}c.prototype={accumulate:function(t){return l(this,t)},on:function(t,e){var r=this;return"data"===t?this._worker.on(t,(function(t){e.call(r,t.data,t.meta)})):this._worker.on(t,(function(){n.delay(e,arguments,r)})),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof i,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:"application/zip"}).size}catch(t){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(n),r.blob=0===o.getBlob("application/zip").size}catch(t){r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch(t){r.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,r){"use strict";for(var i=t("./utils"),n=t("./support"),o=t("./nodejsUtils"),a=t("./stream/GenericWorker"),s=new Array(256),u=0;u<256;u++)s[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;s[254]=s[254]=1;function h(){a.call(this,"utf-8 decode"),this.leftOver=null}function f(){a.call(this,"utf-8 encode")}r.utf8encode=function(t){return n.nodebuffer?o.newBufferFrom(t,"utf-8"):function(t){var e,r,i,o,a,s=t.length,u=0;for(o=0;o<s;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=n.uint8array?new Uint8Array(u):new Array(u),o=a=0;a<u;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?e[a++]=r:(r<2048?e[a++]=192|r>>>6:(r<65536?e[a++]=224|r>>>12:(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63),e[a++]=128|r>>>6&63),e[a++]=128|63&r);return e}(t)},r.utf8decode=function(t){return n.nodebuffer?i.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,r,n,o,a=t.length,u=new Array(2*a);for(e=r=0;e<a;)if((n=t[e++])<128)u[r++]=n;else if(4<(o=s[n]))u[r++]=65533,e+=o-1;else{for(n&=2===o?31:3===o?15:7;1<o&&e<a;)n=n<<6|63&t[e++],o--;1<o?u[r++]=65533:n<65536?u[r++]=n:(n-=65536,u[r++]=55296|n>>10&1023,u[r++]=56320|1023&n)}return u.length!==r&&(u.subarray?u=u.subarray(0,r):u.length=r),i.applyFromCharCode(u)}(t=i.transformTo(n.uint8array?"uint8array":"array",t))},i.inherits(h,a),h.prototype.processChunk=function(t){var e=i.transformTo(n.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var o=e;(e=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),e.set(o,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var a=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+s[t[r]]>e?r:e}(e),u=e;a!==e.length&&(n.uint8array?(u=e.subarray(0,a),this.leftOver=e.subarray(a,e.length)):(u=e.slice(0,a),this.leftOver=e.slice(a,e.length))),this.push({data:r.utf8decode(u),meta:t.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=h,i.inherits(f,a),f.prototype.processChunk=function(t){this.push({data:r.utf8encode(t.data),meta:t.meta})},r.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,r){"use strict";var i=t("./support"),n=t("./base64"),o=t("./nodejsUtils"),a=t("./external");function s(t){return t}function u(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}t("setimmediate"),r.newBlob=function(t,e){r.checkSupport("blob");try{return new Blob([t],{type:e})}catch(r){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(t,e,r){var i=[],n=0,o=t.length;if(o<=r)return String.fromCharCode.apply(null,t);for(;n<o;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+r,o)))):i.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+r,o)))),n+=r;return i.join("")},stringifyByChar:function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(t){return!1}}()}};function f(t){var e=65536,i=r.getTypeOf(t),n=!0;if("uint8array"===i?n=h.applyCanBeUsed.uint8array:"nodebuffer"===i&&(n=h.applyCanBeUsed.nodebuffer),n)for(;1<e;)try{return h.stringifyByChunk(t,i,e)}catch(t){e=Math.floor(e/2)}return h.stringifyByChar(t)}function l(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}r.applyFromCharCode=f;var c={};c.string={string:s,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return u(t,new Uint8Array(t.length))},nodebuffer:function(t){return u(t,o.allocBuffer(t.length))}},c.array={string:f,array:s,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(t)}},c.arraybuffer={string:function(t){return f(new Uint8Array(t))},array:function(t){return l(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:s,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(new Uint8Array(t))}},c.uint8array={string:f,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:s,nodebuffer:function(t){return o.newBufferFrom(t)}},c.nodebuffer={string:f,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:s},r.transformTo=function(t,e){if(e=e||"",!t)return e;r.checkSupport(t);var i=r.getTypeOf(e);return c[i][t](e)},r.resolve=function(t){for(var e=t.split("/"),r=[],i=0;i<e.length;i++){var n=e[i];"."===n||""===n&&0!==i&&i!==e.length-1||(".."===n?r.pop():r.push(n))}return r.join("/")},r.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":i.nodebuffer&&o.isBuffer(t)?"nodebuffer":i.uint8array&&t instanceof Uint8Array?"uint8array":i.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(t){if(!i[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(t){var e,r,i="";for(r=0;r<(t||"").length;r++)i+="\\x"+((e=t.charCodeAt(r))<16?"0":"")+e.toString(16).toUpperCase();return i},r.delay=function(t,e,r){setImmediate((function(){t.apply(r||null,e||[])}))},r.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r},r.extend=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],e)&&void 0===r[e]&&(r[e]=arguments[t][e]);return r},r.prepareContent=function(t,e,o,s,h){return a.Promise.resolve(e).then((function(t){return i.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new a.Promise((function(e,r){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){r(t.target.error)},i.readAsArrayBuffer(t)})):t})).then((function(e){var f=r.getTypeOf(e);return f?("arraybuffer"===f?e=r.transformTo("uint8array",e):"string"===f&&(h?e=n.decode(e):o&&!0!==s&&(e=function(t){return u(t,i.uint8array?new Uint8Array(t.length):new Array(t.length))}(e))),e):a.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,e,r){"use strict";var i=t("./reader/readerFor"),n=t("./utils"),o=t("./signature"),a=t("./zipEntry"),s=t("./support");function u(t){this.files=[],this.loadOptions=t}u.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(e)+", expected "+n.pretty(t)+")")}},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=s.uint8array?"uint8array":"array",r=n.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var i=e-r;if(0<i)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,e,r){"use strict";var i=t("./reader/readerFor"),n=t("./utils"),o=t("./compressedObject"),a=t("./crc32"),s=t("./utf8"),u=t("./compressions"),h=t("./support");function f(t,e){this.options=t,this.loadOptions=e}f.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in u)if(Object.prototype.hasOwnProperty.call(u,e)&&u[e].magic===t)return u[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,r,i,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<n;)e=t.readInt(2),r=t.readInt(2),i=t.readData(r),this.extraFields[e]={id:e,length:r,value:i};t.setIndex(n)},handleUTF8:function(){var t=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var r=n.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=n.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},e.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,r){"use strict";function i(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var n=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),a=t("./utf8"),s=t("./compressedObject"),u=t("./stream/GenericWorker");i.prototype={internalStream:function(t){var e=null,r="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(r=t.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),e=this._decompressWorker();var o=!this._dataBinary;o&&!i&&(e=e.pipe(new a.Utf8EncodeWorker)),!o&&i&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new u("error")).error(t)}return new n(e,r,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(r,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<h.length;l++)i.prototype[h[l]]=f;e.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,i){(function(t){"use strict";var r,i,n=t.MutationObserver||t.WebKitMutationObserver;if(n){var o=0,a=new n(f),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),r=function(){s.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){f(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(f,0)};else{var u=new t.MessageChannel;u.port1.onmessage=f,r=function(){u.port2.postMessage(0)}}var h=[];function f(){var t,e;i=!0;for(var r=h.length;r;){for(e=h,h=[],t=-1;++t<r;)e[t]();r=h.length}i=!1}e.exports=function(t){1!==h.push(t)||i||r()}}).call(this,"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,r){"use strict";var i=t("immediate");function n(){}var o={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function h(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==n&&d(this,t)}function f(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function l(t,e,r){i((function(){var i;try{i=e(r)}catch(i){return o.reject(t,i)}i===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,i)}))}function c(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var r=!1;function i(e){r||(r=!0,o.reject(t,e))}function n(e){r||(r=!0,o.resolve(t,e))}var a=p((function(){e(n,i)}));"error"===a.status&&i(a.value)}function p(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}(e.exports=h).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(r){return e.resolve(t()).then((function(){return r}))}),(function(r){return e.resolve(t()).then((function(){throw r}))}))},h.prototype.catch=function(t){return this.then(null,t)},h.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var r=new this.constructor(n);this.state!==u?l(r,this.state===s?t:e,this.outcome):this.queue.push(new f(r,t,e));return r},f.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},f.prototype.otherCallFulfilled=function(t){l(this.promise,this.onFulfilled,t)},f.prototype.callRejected=function(t){o.reject(this.promise,t)},f.prototype.otherCallRejected=function(t){l(this.promise,this.onRejected,t)},o.resolve=function(t,e){var r=p(c,e);if("error"===r.status)return o.reject(t,r.value);var i=r.value;if(i)d(t,i);else{t.state=s,t.outcome=e;for(var n=-1,a=t.queue.length;++n<a;)t.queue[n].callFulfilled(e)}return t},o.reject=function(t,e){t.state=a,t.outcome=e;for(var r=-1,i=t.queue.length;++r<i;)t.queue[r].callRejected(e);return t},h.resolve=function(t){if(t instanceof this)return t;return o.resolve(new this(n),t)},h.reject=function(t){var e=new this(n);return o.reject(e,t)},h.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,i=!1;if(!r)return this.resolve([]);var a=new Array(r),s=0,u=-1,h=new this(n);for(;++u<r;)f(t[u],u);return h;function f(t,n){e.resolve(t).then((function(t){a[n]=t,++s!==r||i||(i=!0,o.resolve(h,a))}),(function(t){i||(i=!0,o.reject(h,t))}))}},h.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,i=!1;if(!r)return this.resolve([]);var a=-1,s=new this(n);for(;++a<r;)u=t[a],e.resolve(u).then((function(t){i||(i=!0,o.resolve(s,t))}),(function(t){i||(i=!0,o.reject(s,t))}));var u;return s}},{immediate:36}],38:[function(t,e,r){"use strict";var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,r){"use strict";var i=t("./zlib/deflate"),n=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/messages"),s=t("./zlib/zstream"),u=Object.prototype.toString,h=0,f=-1,l=0,c=8;function d(t){if(!(this instanceof d))return new d(t);this.options=n.assign({level:f,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==h)throw new Error(a[r]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var p;if(p="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(r=i.deflateSetDictionary(this.strm,p))!==h)throw new Error(a[r]);this._dict_set=!0}}function p(t,e){var r=new d(e);if(r.push(t,!0),r.err)throw r.msg||a[r.err];return r.result}d.prototype.push=function(t,e){var r,a,s=this.strm,f=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===u.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new n.Buf8(f),s.next_out=0,s.avail_out=f),1!==(r=i.deflate(s,a))&&r!==h)return this.onEnd(r),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(n.shrinkBuf(s.output,s.next_out))):this.onData(n.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==r);return 4===a?(r=i.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===h):2!==a||(this.onEnd(h),!(s.avail_out=0))},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=d,r.deflate=p,r.deflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},r.gzip=function(t,e){return(e=e||{}).gzip=!0,p(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,r){"use strict";var i=t("./zlib/inflate"),n=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/constants"),s=t("./zlib/messages"),u=t("./zlib/zstream"),h=t("./zlib/gzheader"),f=Object.prototype.toString;function l(t){if(!(this instanceof l))return new l(t);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var r=i.inflateInit2(this.strm,e.windowBits);if(r!==a.Z_OK)throw new Error(s[r]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function c(t,e){var r=new l(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}l.prototype.push=function(t,e){var r,s,u,h,l,c,d=this.strm,p=this.options.chunkSize,v=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?d.input=o.binstring2buf(t):"[object ArrayBuffer]"===f.call(t)?d.input=new Uint8Array(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new n.Buf8(p),d.next_out=0,d.avail_out=p),(r=i.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&v&&(c="string"==typeof v?o.string2buf(v):"[object ArrayBuffer]"===f.call(v)?new Uint8Array(v):v,r=i.inflateSetDictionary(this.strm,c)),r===a.Z_BUF_ERROR&&!0===m&&(r=a.Z_OK,m=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),!(this.ended=!0);d.next_out&&(0!==d.avail_out&&r!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(d.output,d.next_out),h=d.next_out-u,l=o.buf2string(d.output,u),d.next_out=h,d.avail_out=p-h,h&&n.arraySet(d.output,d.output,u,h,0),this.onData(l)):this.onData(n.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((0<d.avail_in||0===d.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(r=i.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(d.avail_out=0))},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=l,r.inflate=c,r.inflateRaw=function(t,e){return(e=e||{}).raw=!0,c(t,e)},r.ungzip=c},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,r){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,r,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+i),n);else for(var o=0;o<i;o++)t[n+o]=e[r+o]},flattenChunks:function(t){var e,r,i,n,o,a;for(e=i=0,r=t.length;e<r;e++)i+=t[e].length;for(a=new Uint8Array(i),e=n=0,r=t.length;e<r;e++)o=t[e],a.set(o,n),n+=o.length;return a}},o={arraySet:function(t,e,r,i,n){for(var o=0;o<i;o++)t[n+o]=e[r+o]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(i)},{}],42:[function(t,e,r){"use strict";var i=t("./common"),n=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function u(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var r="",a=0;a<e;a++)r+=String.fromCharCode(t[a]);return r}a[254]=a[254]=1,r.string2buf=function(t){var e,r,n,o,a,s=t.length,u=0;for(o=0;o<s;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=new i.Buf8(u),o=a=0;a<u;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),r<128?e[a++]=r:(r<2048?e[a++]=192|r>>>6:(r<65536?e[a++]=224|r>>>12:(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63),e[a++]=128|r>>>6&63),e[a++]=128|63&r);return e},r.buf2binstring=function(t){return u(t,t.length)},r.binstring2buf=function(t){for(var e=new i.Buf8(t.length),r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,i,n,o,s=e||t.length,h=new Array(2*s);for(r=i=0;r<s;)if((n=t[r++])<128)h[i++]=n;else if(4<(o=a[n]))h[i++]=65533,r+=o-1;else{for(n&=2===o?31:3===o?15:7;1<o&&r<s;)n=n<<6|63&t[r++],o--;1<o?h[i++]=65533:n<65536?h[i++]=n:(n-=65536,h[i++]=55296|n>>10&1023,h[i++]=56320|1023&n)}return u(h,i)},r.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+a[t[r]]>e?r:e}},{"./common":41}],43:[function(t,e,r){"use strict";e.exports=function(t,e,r,i){for(var n=65535&t|0,o=t>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;o=o+(n=n+e[i++]|0)|0,--a;);n%=65521,o%=65521}return n|o<<16|0}},{}],44:[function(t,e,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,r){"use strict";var i=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e,r,n){var o=i,a=n+r;t^=-1;for(var s=n;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},{}],46:[function(t,e,r){"use strict";var i,n=t("../utils/common"),o=t("./trees"),a=t("./adler32"),s=t("./crc32"),u=t("./messages"),h=0,f=4,l=0,c=-2,d=-1,p=4,v=2,m=8,g=9,y=286,_=30,b=19,x=2*y+1,w=15,E=3,T=258,S=T+E+1,I=42,A=113,P=1,O=2,C=3,R=4;function D(t,e){return t.msg=u[e],e}function M(t){return(t<<1)-(4<t?9:0)}function k(t){for(var e=t.length;0<=--e;)t[e]=0}function N(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(n.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function L(t,e){o._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,N(t.strm)}function B(t,e){t.pending_buf[t.pending++]=e}function F(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function U(t,e){var r,i,n=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-S?t.strstart-(t.w_size-S):0,h=t.window,f=t.w_mask,l=t.prev,c=t.strstart+T,d=h[o+a-1],p=h[o+a];t.prev_length>=t.good_match&&(n>>=2),s>t.lookahead&&(s=t.lookahead);do{if(h[(r=e)+a]===p&&h[r+a-1]===d&&h[r]===h[o]&&h[++r]===h[o+1]){o+=2,r++;do{}while(h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&o<c);if(i=T-(c-o),o=c-T,a<i){if(t.match_start=e,s<=(a=i))break;d=h[o+a-1],p=h[o+a]}}}while((e=l[e&f])>u&&0!=--n);return a<=t.lookahead?a:t.lookahead}function j(t){var e,r,i,o,u,h,f,l,c,d,p=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-S)){for(n.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=r=t.hash_size;i=t.head[--e],t.head[e]=p<=i?i-p:0,--r;);for(e=r=p;i=t.prev[--e],t.prev[e]=p<=i?i-p:0,--r;);o+=p}if(0===t.strm.avail_in)break;if(h=t.strm,f=t.window,l=t.strstart+t.lookahead,c=o,d=void 0,d=h.avail_in,c<d&&(d=c),r=0===d?0:(h.avail_in-=d,n.arraySet(f,h.input,h.next_in,d,l),1===h.state.wrap?h.adler=a(h.adler,f,d,l):2===h.state.wrap&&(h.adler=s(h.adler,f,d,l)),h.next_in+=d,h.total_in+=d,d),t.lookahead+=r,t.lookahead+t.insert>=E)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+E-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<E)););}while(t.lookahead<S&&0!==t.strm.avail_in)}function z(t,e){for(var r,i;;){if(t.lookahead<S){if(j(t),t.lookahead<S&&e===h)return P;if(0===t.lookahead)break}if(r=0,t.lookahead>=E&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-S&&(t.match_length=U(t,r)),t.match_length>=E)if(i=o._tr_tally(t,t.strstart-t.match_start,t.match_length-E),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=E){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(L(t,!1),0===t.strm.avail_out))return P}return t.insert=t.strstart<E-1?t.strstart:E-1,e===f?(L(t,!0),0===t.strm.avail_out?C:R):t.last_lit&&(L(t,!1),0===t.strm.avail_out)?P:O}function X(t,e){for(var r,i,n;;){if(t.lookahead<S){if(j(t),t.lookahead<S&&e===h)return P;if(0===t.lookahead)break}if(r=0,t.lookahead>=E&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=E-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-S&&(t.match_length=U(t,r),t.match_length<=5&&(1===t.strategy||t.match_length===E&&4096<t.strstart-t.match_start)&&(t.match_length=E-1)),t.prev_length>=E&&t.match_length<=t.prev_length){for(n=t.strstart+t.lookahead-E,i=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-E),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=E-1,t.strstart++,i&&(L(t,!1),0===t.strm.avail_out))return P}else if(t.match_available){if((i=o._tr_tally(t,0,t.window[t.strstart-1]))&&L(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return P}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<E-1?t.strstart:E-1,e===f?(L(t,!0),0===t.strm.avail_out?C:R):t.last_lit&&(L(t,!1),0===t.strm.avail_out)?P:O}function H(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}function G(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*x),this.dyn_dtree=new n.Buf16(2*(2*_+1)),this.bl_tree=new n.Buf16(2*(2*b+1)),k(this.dyn_ltree),k(this.dyn_dtree),k(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(w+1),this.heap=new n.Buf16(2*y+1),k(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*y+1),k(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=v,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?I:A,t.adler=2===e.wrap?0:1,e.last_flush=h,o._tr_init(e),l):D(t,c)}function Y(t){var e=W(t);return e===l&&function(t){t.window_size=2*t.w_size,k(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=E-1,t.match_available=0,t.ins_h=0}(t.state),e}function V(t,e,r,i,o,a){if(!t)return c;var s=1;if(e===d&&(e=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),o<1||g<o||r!==m||i<8||15<i||e<0||9<e||a<0||p<a)return D(t,c);8===i&&(i=9);var u=new G;return(t.state=u).strm=t,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+E-1)/E),u.window=new n.Buf8(2*u.w_size),u.head=new n.Buf16(u.hash_size),u.prev=new n.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new n.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=r,Y(t)}i=[new H(0,0,0,0,(function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(j(t),0===t.lookahead&&e===h)return P;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+r;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,L(t,!1),0===t.strm.avail_out))return P;if(t.strstart-t.block_start>=t.w_size-S&&(L(t,!1),0===t.strm.avail_out))return P}return t.insert=0,e===f?(L(t,!0),0===t.strm.avail_out?C:R):(t.strstart>t.block_start&&(L(t,!1),t.strm.avail_out),P)})),new H(4,4,8,4,z),new H(4,5,16,8,z),new H(4,6,32,32,z),new H(4,4,16,16,X),new H(8,16,32,32,X),new H(8,16,128,128,X),new H(8,32,128,256,X),new H(32,128,258,1024,X),new H(32,258,258,4096,X)],r.deflateInit=function(t,e){return V(t,e,m,15,8,0)},r.deflateInit2=V,r.deflateReset=Y,r.deflateResetKeep=W,r.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?c:(t.state.gzhead=e,l):c},r.deflate=function(t,e){var r,n,a,u;if(!t||!t.state||5<e||e<0)return t?D(t,c):c;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||666===n.status&&e!==f)return D(t,0===t.avail_out?-5:c);if(n.strm=t,r=n.last_flush,n.last_flush=e,n.status===I)if(2===n.wrap)t.adler=0,B(n,31),B(n,139),B(n,8),n.gzhead?(B(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),B(n,255&n.gzhead.time),B(n,n.gzhead.time>>8&255),B(n,n.gzhead.time>>16&255),B(n,n.gzhead.time>>24&255),B(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),B(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(B(n,255&n.gzhead.extra.length),B(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=s(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(B(n,0),B(n,0),B(n,0),B(n,0),B(n,0),B(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),B(n,3),n.status=A);else{var d=m+(n.w_bits-8<<4)<<8;d|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(d|=32),d+=31-d%31,n.status=A,F(n,d),0!==n.strstart&&(F(n,t.adler>>>16),F(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(a=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>a&&(t.adler=s(t.adler,n.pending_buf,n.pending-a,a)),N(t),a=n.pending,n.pending!==n.pending_buf_size));)B(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>a&&(t.adler=s(t.adler,n.pending_buf,n.pending-a,a)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(t.adler=s(t.adler,n.pending_buf,n.pending-a,a)),N(t),a=n.pending,n.pending===n.pending_buf_size)){u=1;break}u=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,B(n,u)}while(0!==u);n.gzhead.hcrc&&n.pending>a&&(t.adler=s(t.adler,n.pending_buf,n.pending-a,a)),0===u&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(t.adler=s(t.adler,n.pending_buf,n.pending-a,a)),N(t),a=n.pending,n.pending===n.pending_buf_size)){u=1;break}u=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,B(n,u)}while(0!==u);n.gzhead.hcrc&&n.pending>a&&(t.adler=s(t.adler,n.pending_buf,n.pending-a,a)),0===u&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&N(t),n.pending+2<=n.pending_buf_size&&(B(n,255&t.adler),B(n,t.adler>>8&255),t.adler=0,n.status=A)):n.status=A),0!==n.pending){if(N(t),0===t.avail_out)return n.last_flush=-1,l}else if(0===t.avail_in&&M(e)<=M(r)&&e!==f)return D(t,-5);if(666===n.status&&0!==t.avail_in)return D(t,-5);if(0!==t.avail_in||0!==n.lookahead||e!==h&&666!==n.status){var p=2===n.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(j(t),0===t.lookahead)){if(e===h)return P;break}if(t.match_length=0,r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(L(t,!1),0===t.strm.avail_out))return P}return t.insert=0,e===f?(L(t,!0),0===t.strm.avail_out?C:R):t.last_lit&&(L(t,!1),0===t.strm.avail_out)?P:O}(n,e):3===n.strategy?function(t,e){for(var r,i,n,a,s=t.window;;){if(t.lookahead<=T){if(j(t),t.lookahead<=T&&e===h)return P;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=E&&0<t.strstart&&(i=s[n=t.strstart-1])===s[++n]&&i===s[++n]&&i===s[++n]){a=t.strstart+T;do{}while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<a);t.match_length=T-(a-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=E?(r=o._tr_tally(t,1,t.match_length-E),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(L(t,!1),0===t.strm.avail_out))return P}return t.insert=0,e===f?(L(t,!0),0===t.strm.avail_out?C:R):t.last_lit&&(L(t,!1),0===t.strm.avail_out)?P:O}(n,e):i[n.level].func(n,e);if(p!==C&&p!==R||(n.status=666),p===P||p===C)return 0===t.avail_out&&(n.last_flush=-1),l;if(p===O&&(1===e?o._tr_align(n):5!==e&&(o._tr_stored_block(n,0,0,!1),3===e&&(k(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),N(t),0===t.avail_out))return n.last_flush=-1,l}return e!==f?l:n.wrap<=0?1:(2===n.wrap?(B(n,255&t.adler),B(n,t.adler>>8&255),B(n,t.adler>>16&255),B(n,t.adler>>24&255),B(n,255&t.total_in),B(n,t.total_in>>8&255),B(n,t.total_in>>16&255),B(n,t.total_in>>24&255)):(F(n,t.adler>>>16),F(n,65535&t.adler)),N(t),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?l:1)},r.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==I&&69!==e&&73!==e&&91!==e&&103!==e&&e!==A&&666!==e?D(t,c):(t.state=null,e===A?D(t,-3):l):c},r.deflateSetDictionary=function(t,e){var r,i,o,s,u,h,f,d,p=e.length;if(!t||!t.state)return c;if(2===(s=(r=t.state).wrap)||1===s&&r.status!==I||r.lookahead)return c;for(1===s&&(t.adler=a(t.adler,e,p,0)),r.wrap=0,p>=r.w_size&&(0===s&&(k(r.head),r.strstart=0,r.block_start=0,r.insert=0),d=new n.Buf8(r.w_size),n.arraySet(d,e,p-r.w_size,r.w_size,0),e=d,p=r.w_size),u=t.avail_in,h=t.next_in,f=t.input,t.avail_in=p,t.next_in=0,t.input=e,j(r);r.lookahead>=E;){for(i=r.strstart,o=r.lookahead-(E-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+E-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,--o;);r.strstart=i,r.lookahead=E-1,j(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=E-1,r.match_available=0,t.next_in=h,t.input=f,t.avail_in=u,r.wrap=s,l},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,r){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,r){"use strict";e.exports=function(t,e){var r,i,n,o,a,s,u,h,f,l,c,d,p,v,m,g,y,_,b,x,w,E,T,S,I;r=t.state,i=t.next_in,S=t.input,n=i+(t.avail_in-5),o=t.next_out,I=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),u=r.dmax,h=r.wsize,f=r.whave,l=r.wnext,c=r.window,d=r.hold,p=r.bits,v=r.lencode,m=r.distcode,g=(1<<r.lenbits)-1,y=(1<<r.distbits)-1;t:do{p<15&&(d+=S[i++]<<p,p+=8,d+=S[i++]<<p,p+=8),_=v[d&g];e:for(;;){if(d>>>=b=_>>>24,p-=b,0===(b=_>>>16&255))I[o++]=65535&_;else{if(!(16&b)){if(0==(64&b)){_=v[(65535&_)+(d&(1<<b)-1)];continue e}if(32&b){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}x=65535&_,(b&=15)&&(p<b&&(d+=S[i++]<<p,p+=8),x+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=S[i++]<<p,p+=8,d+=S[i++]<<p,p+=8),_=m[d&y];r:for(;;){if(d>>>=b=_>>>24,p-=b,!(16&(b=_>>>16&255))){if(0==(64&b)){_=m[(65535&_)+(d&(1<<b)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(w=65535&_,p<(b&=15)&&(d+=S[i++]<<p,(p+=8)<b&&(d+=S[i++]<<p,p+=8)),u<(w+=d&(1<<b)-1)){t.msg="invalid distance too far back",r.mode=30;break t}if(d>>>=b,p-=b,(b=o-a)<w){if(f<(b=w-b)&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(T=c,(E=0)===l){if(E+=h-b,b<x){for(x-=b;I[o++]=c[E++],--b;);E=o-w,T=I}}else if(l<b){if(E+=h+l-b,(b-=l)<x){for(x-=b;I[o++]=c[E++],--b;);if(E=0,l<x){for(x-=b=l;I[o++]=c[E++],--b;);E=o-w,T=I}}}else if(E+=l-b,b<x){for(x-=b;I[o++]=c[E++],--b;);E=o-w,T=I}for(;2<x;)I[o++]=T[E++],I[o++]=T[E++],I[o++]=T[E++],x-=3;x&&(I[o++]=T[E++],1<x&&(I[o++]=T[E++]))}else{for(E=o-w;I[o++]=I[E++],I[o++]=I[E++],I[o++]=I[E++],2<(x-=3););x&&(I[o++]=I[E++],1<x&&(I[o++]=I[E++]))}break}}break}}while(i<n&&o<s);i-=x=p>>3,d&=(1<<(p-=x<<3))-1,t.next_in=i,t.next_out=o,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=o<s?s-o+257:257-(o-s),r.hold=d,r.bits=p}},{}],49:[function(t,e,r){"use strict";var i=t("../utils/common"),n=t("./adler32"),o=t("./crc32"),a=t("./inffast"),s=t("./inftrees"),u=1,h=2,f=0,l=-2,c=1,d=852,p=592;function v(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=c,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(d),e.distcode=e.distdyn=new i.Buf32(p),e.sane=1,e.back=-1,f):l}function y(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,g(t)):l}function _(t,e){var r,i;return t&&t.state?(i=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?l:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,y(t))):l}function b(t,e){var r,i;return t?(i=new m,(t.state=i).window=null,(r=_(t,e))!==f&&(t.state=null),r):l}var x,w,E=!0;function T(t){if(E){var e;for(x=new i.Buf32(512),w=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(u,t.lens,0,288,x,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(h,t.lens,0,32,w,0,t.work,{bits:5}),E=!1}t.lencode=x,t.lenbits=9,t.distcode=w,t.distbits=5}function S(t,e,r,n){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),n>=a.wsize?(i.arraySet(a.window,e,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(n<(o=a.wsize-a.wnext)&&(o=n),i.arraySet(a.window,e,r-n,o,a.wnext),(n-=o)?(i.arraySet(a.window,e,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}r.inflateReset=y,r.inflateReset2=_,r.inflateResetKeep=g,r.inflateInit=function(t){return b(t,15)},r.inflateInit2=b,r.inflate=function(t,e){var r,d,p,m,g,y,_,b,x,w,E,I,A,P,O,C,R,D,M,k,N,L,B,F,U=0,j=new i.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return l;12===(r=t.state).mode&&(r.mode=13),g=t.next_out,p=t.output,_=t.avail_out,m=t.next_in,d=t.input,y=t.avail_in,b=r.hold,x=r.bits,w=y,E=_,L=f;t:for(;;)switch(r.mode){case c:if(0===r.wrap){r.mode=13;break}for(;x<16;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}if(2&r.wrap&&35615===b){j[r.check=0]=255&b,j[1]=b>>>8&255,r.check=o(r.check,j,2,0),x=b=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&b)<<8)+(b>>8))%31){t.msg="incorrect header check",r.mode=30;break}if(8!=(15&b)){t.msg="unknown compression method",r.mode=30;break}if(x-=4,N=8+(15&(b>>>=4)),0===r.wbits)r.wbits=N;else if(N>r.wbits){t.msg="invalid window size",r.mode=30;break}r.dmax=1<<N,t.adler=r.check=1,r.mode=512&b?10:12,x=b=0;break;case 2:for(;x<16;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}if(r.flags=b,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=b>>8&1),512&r.flags&&(j[0]=255&b,j[1]=b>>>8&255,r.check=o(r.check,j,2,0)),x=b=0,r.mode=3;case 3:for(;x<32;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}r.head&&(r.head.time=b),512&r.flags&&(j[0]=255&b,j[1]=b>>>8&255,j[2]=b>>>16&255,j[3]=b>>>24&255,r.check=o(r.check,j,4,0)),x=b=0,r.mode=4;case 4:for(;x<16;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}r.head&&(r.head.xflags=255&b,r.head.os=b>>8),512&r.flags&&(j[0]=255&b,j[1]=b>>>8&255,r.check=o(r.check,j,2,0)),x=b=0,r.mode=5;case 5:if(1024&r.flags){for(;x<16;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}r.length=b,r.head&&(r.head.extra_len=b),512&r.flags&&(j[0]=255&b,j[1]=b>>>8&255,r.check=o(r.check,j,2,0)),x=b=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(y<(I=r.length)&&(I=y),I&&(r.head&&(N=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),i.arraySet(r.head.extra,d,m,I,N)),512&r.flags&&(r.check=o(r.check,d,I,m)),y-=I,m+=I,r.length-=I),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===y)break t;for(I=0;N=d[m+I++],r.head&&N&&r.length<65536&&(r.head.name+=String.fromCharCode(N)),N&&I<y;);if(512&r.flags&&(r.check=o(r.check,d,I,m)),y-=I,m+=I,N)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===y)break t;for(I=0;N=d[m+I++],r.head&&N&&r.length<65536&&(r.head.comment+=String.fromCharCode(N)),N&&I<y;);if(512&r.flags&&(r.check=o(r.check,d,I,m)),y-=I,m+=I,N)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;x<16;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}if(b!==(65535&r.check)){t.msg="header crc mismatch",r.mode=30;break}x=b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;x<32;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}t.adler=r.check=v(b),x=b=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=g,t.avail_out=_,t.next_in=m,t.avail_in=y,r.hold=b,r.bits=x,2;t.adler=r.check=1,r.mode=12;case 12:if(5===e||6===e)break t;case 13:if(r.last){b>>>=7&x,x-=7&x,r.mode=27;break}for(;x<3;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}switch(r.last=1&b,x-=1,3&(b>>>=1)){case 0:r.mode=14;break;case 1:if(T(r),r.mode=20,6!==e)break;b>>>=2,x-=2;break t;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=30}b>>>=2,x-=2;break;case 14:for(b>>>=7&x,x-=7&x;x<32;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}if((65535&b)!=(b>>>16^65535)){t.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&b,x=b=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(I=r.length){if(y<I&&(I=y),_<I&&(I=_),0===I)break t;i.arraySet(p,d,m,I,g),y-=I,m+=I,_-=I,g+=I,r.length-=I;break}r.mode=12;break;case 17:for(;x<14;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}if(r.nlen=257+(31&b),b>>>=5,x-=5,r.ndist=1+(31&b),b>>>=5,x-=5,r.ncode=4+(15&b),b>>>=4,x-=4,286<r.nlen||30<r.ndist){t.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;x<3;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}r.lens[z[r.have++]]=7&b,b>>>=3,x-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,B={bits:r.lenbits},L=s(0,r.lens,0,19,r.lencode,0,r.work,B),r.lenbits=B.bits,L){t.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;C=(U=r.lencode[b&(1<<r.lenbits)-1])>>>16&255,R=65535&U,!((O=U>>>24)<=x);){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}if(R<16)b>>>=O,x-=O,r.lens[r.have++]=R;else{if(16===R){for(F=O+2;x<F;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}if(b>>>=O,x-=O,0===r.have){t.msg="invalid bit length repeat",r.mode=30;break}N=r.lens[r.have-1],I=3+(3&b),b>>>=2,x-=2}else if(17===R){for(F=O+3;x<F;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}x-=O,N=0,I=3+(7&(b>>>=O)),b>>>=3,x-=3}else{for(F=O+7;x<F;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}x-=O,N=0,I=11+(127&(b>>>=O)),b>>>=7,x-=7}if(r.have+I>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=30;break}for(;I--;)r.lens[r.have++]=N}}if(30===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,B={bits:r.lenbits},L=s(u,r.lens,0,r.nlen,r.lencode,0,r.work,B),r.lenbits=B.bits,L){t.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,B={bits:r.distbits},L=s(h,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,B),r.distbits=B.bits,L){t.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(6<=y&&258<=_){t.next_out=g,t.avail_out=_,t.next_in=m,t.avail_in=y,r.hold=b,r.bits=x,a(t,E),g=t.next_out,p=t.output,_=t.avail_out,m=t.next_in,d=t.input,y=t.avail_in,b=r.hold,x=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;C=(U=r.lencode[b&(1<<r.lenbits)-1])>>>16&255,R=65535&U,!((O=U>>>24)<=x);){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}if(C&&0==(240&C)){for(D=O,M=C,k=R;C=(U=r.lencode[k+((b&(1<<D+M)-1)>>D)])>>>16&255,R=65535&U,!(D+(O=U>>>24)<=x);){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}b>>>=D,x-=D,r.back+=D}if(b>>>=O,x-=O,r.back+=O,r.length=R,0===C){r.mode=26;break}if(32&C){r.back=-1,r.mode=12;break}if(64&C){t.msg="invalid literal/length code",r.mode=30;break}r.extra=15&C,r.mode=22;case 22:if(r.extra){for(F=r.extra;x<F;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}r.length+=b&(1<<r.extra)-1,b>>>=r.extra,x-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;C=(U=r.distcode[b&(1<<r.distbits)-1])>>>16&255,R=65535&U,!((O=U>>>24)<=x);){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}if(0==(240&C)){for(D=O,M=C,k=R;C=(U=r.distcode[k+((b&(1<<D+M)-1)>>D)])>>>16&255,R=65535&U,!(D+(O=U>>>24)<=x);){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}b>>>=D,x-=D,r.back+=D}if(b>>>=O,x-=O,r.back+=O,64&C){t.msg="invalid distance code",r.mode=30;break}r.offset=R,r.extra=15&C,r.mode=24;case 24:if(r.extra){for(F=r.extra;x<F;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}r.offset+=b&(1<<r.extra)-1,b>>>=r.extra,x-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===_)break t;if(I=E-_,r.offset>I){if((I=r.offset-I)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=30;break}A=I>r.wnext?(I-=r.wnext,r.wsize-I):r.wnext-I,I>r.length&&(I=r.length),P=r.window}else P=p,A=g-r.offset,I=r.length;for(_<I&&(I=_),_-=I,r.length-=I;p[g++]=P[A++],--I;);0===r.length&&(r.mode=21);break;case 26:if(0===_)break t;p[g++]=r.length,_--,r.mode=21;break;case 27:if(r.wrap){for(;x<32;){if(0===y)break t;y--,b|=d[m++]<<x,x+=8}if(E-=_,t.total_out+=E,r.total+=E,E&&(t.adler=r.check=r.flags?o(r.check,p,E,g-E):n(r.check,p,E,g-E)),E=_,(r.flags?b:v(b))!==r.check){t.msg="incorrect data check",r.mode=30;break}x=b=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;x<32;){if(0===y)break t;y--,b+=d[m++]<<x,x+=8}if(b!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=30;break}x=b=0}r.mode=29;case 29:L=1;break t;case 30:L=-3;break t;case 31:return-4;case 32:default:return l}return t.next_out=g,t.avail_out=_,t.next_in=m,t.avail_in=y,r.hold=b,r.bits=x,(r.wsize||E!==t.avail_out&&r.mode<30&&(r.mode<27||4!==e))&&S(t,t.output,t.next_out,E-t.avail_out)?(r.mode=31,-4):(w-=t.avail_in,E-=t.avail_out,t.total_in+=w,t.total_out+=E,r.total+=E,r.wrap&&E&&(t.adler=r.check=r.flags?o(r.check,p,E,t.next_out-E):n(r.check,p,E,t.next_out-E)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==w&&0===E||4===e)&&L===f&&(L=-5),L)},r.inflateEnd=function(t){if(!t||!t.state)return l;var e=t.state;return e.window&&(e.window=null),t.state=null,f},r.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?l:((r.head=e).done=!1,f):l},r.inflateSetDictionary=function(t,e){var r,i=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?l:11===r.mode&&n(1,e,i,0)!==r.check?-3:S(t,e,i,i)?(r.mode=31,-4):(r.havedict=1,f):l},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,r){"use strict";var i=t("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,u,h,f,l,c){var d,p,v,m,g,y,_,b,x,w=c.bits,E=0,T=0,S=0,I=0,A=0,P=0,O=0,C=0,R=0,D=0,M=null,k=0,N=new i.Buf16(16),L=new i.Buf16(16),B=null,F=0;for(E=0;E<=15;E++)N[E]=0;for(T=0;T<u;T++)N[e[r+T]]++;for(A=w,I=15;1<=I&&0===N[I];I--);if(I<A&&(A=I),0===I)return h[f++]=20971520,h[f++]=20971520,c.bits=1,0;for(S=1;S<I&&0===N[S];S++);for(A<S&&(A=S),E=C=1;E<=15;E++)if(C<<=1,(C-=N[E])<0)return-1;if(0<C&&(0===t||1!==I))return-1;for(L[1]=0,E=1;E<15;E++)L[E+1]=L[E]+N[E];for(T=0;T<u;T++)0!==e[r+T]&&(l[L[e[r+T]]++]=T);if(y=0===t?(M=B=l,19):1===t?(M=n,k-=257,B=o,F-=257,256):(M=a,B=s,-1),E=S,g=f,O=T=D=0,v=-1,m=(R=1<<(P=A))-1,1===t&&852<R||2===t&&592<R)return 1;for(;;){for(_=E-O,x=l[T]<y?(b=0,l[T]):l[T]>y?(b=B[F+l[T]],M[k+l[T]]):(b=96,0),d=1<<E-O,S=p=1<<P;h[g+(D>>O)+(p-=d)]=_<<24|b<<16|x|0,0!==p;);for(d=1<<E-1;D&d;)d>>=1;if(0!==d?(D&=d-1,D+=d):D=0,T++,0==--N[E]){if(E===I)break;E=e[r+l[T]]}if(A<E&&(D&m)!==v){for(0===O&&(O=A),g+=S,C=1<<(P=E-O);P+O<I&&!((C-=N[P+O])<=0);)P++,C<<=1;if(R+=1<<P,1===t&&852<R||2===t&&592<R)return 1;h[v=D&m]=A<<24|P<<16|g-f|0}}return 0!==D&&(h[g+D]=E-O<<24|64<<16|0),c.bits=A,0}},{"../utils/common":41}],51:[function(t,e,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,r){"use strict";var i=t("../utils/common"),n=0,o=1;function a(t){for(var e=t.length;0<=--e;)t[e]=0}var s=0,u=29,h=256,f=h+1+u,l=30,c=19,d=2*f+1,p=15,v=16,m=7,g=256,y=16,_=17,b=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(f+2));a(S);var I=new Array(2*l);a(I);var A=new Array(512);a(A);var P=new Array(256);a(P);var O=new Array(u);a(O);var C,R,D,M=new Array(l);function k(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function N(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function L(t){return t<256?A[t]:A[256+(t>>>7)]}function B(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function F(t,e,r){t.bi_valid>v-r?(t.bi_buf|=e<<t.bi_valid&65535,B(t,t.bi_buf),t.bi_buf=e>>v-t.bi_valid,t.bi_valid+=r-v):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function U(t,e,r){F(t,r[2*e],r[2*e+1])}function j(t,e){for(var r=0;r|=1&t,t>>>=1,r<<=1,0<--e;);return r>>>1}function z(t,e,r){var i,n,o=new Array(p+1),a=0;for(i=1;i<=p;i++)o[i]=a=a+r[i-1]<<1;for(n=0;n<=e;n++){var s=t[2*n+1];0!==s&&(t[2*n]=j(o[s]++,s))}}function X(t){var e;for(e=0;e<f;e++)t.dyn_ltree[2*e]=0;for(e=0;e<l;e++)t.dyn_dtree[2*e]=0;for(e=0;e<c;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*g]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function H(t){8<t.bi_valid?B(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function G(t,e,r,i){var n=2*e,o=2*r;return t[n]<t[o]||t[n]===t[o]&&i[e]<=i[r]}function W(t,e,r){for(var i=t.heap[r],n=r<<1;n<=t.heap_len&&(n<t.heap_len&&G(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!G(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i}function Y(t,e,r){var i,n,o,a,s=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],n=t.pending_buf[t.l_buf+s],s++,0===i?U(t,n,e):(U(t,(o=P[n])+h+1,e),0!==(a=x[o])&&F(t,n-=O[o],a),U(t,o=L(--i),r),0!==(a=w[o])&&F(t,i-=M[o],a)),s<t.last_lit;);U(t,g,e)}function V(t,e){var r,i,n,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=d,r=0;r<u;r++)0!==o[2*r]?(t.heap[++t.heap_len]=h=r,t.depth[r]=0):o[2*r+1]=0;for(;t.heap_len<2;)o[2*(n=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[n]=0,t.opt_len--,s&&(t.static_len-=a[2*n+1]);for(e.max_code=h,r=t.heap_len>>1;1<=r;r--)W(t,o,r);for(n=u;r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],W(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=i,o[2*n]=o[2*r]+o[2*i],t.depth[n]=(t.depth[r]>=t.depth[i]?t.depth[r]:t.depth[i])+1,o[2*r+1]=o[2*i+1]=n,t.heap[1]=n++,W(t,o,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,i,n,o,a,s,u=e.dyn_tree,h=e.max_code,f=e.stat_desc.static_tree,l=e.stat_desc.has_stree,c=e.stat_desc.extra_bits,v=e.stat_desc.extra_base,m=e.stat_desc.max_length,g=0;for(o=0;o<=p;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<d;r++)m<(o=u[2*u[2*(i=t.heap[r])+1]+1]+1)&&(o=m,g++),u[2*i+1]=o,h<i||(t.bl_count[o]++,a=0,v<=i&&(a=c[i-v]),s=u[2*i],t.opt_len+=s*(o+a),l&&(t.static_len+=s*(f[2*i+1]+a)));if(0!==g){do{for(o=m-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[m]--,g-=2}while(0<g);for(o=m;0!==o;o--)for(i=t.bl_count[o];0!==i;)h<(n=t.heap[--r])||(u[2*n+1]!==o&&(t.opt_len+=(o-u[2*n+1])*u[2*n],u[2*n+1]=o),i--)}}(t,e),z(o,h,t.bl_count)}function q(t,e,r){var i,n,o=-1,a=e[1],s=0,u=7,h=4;for(0===a&&(u=138,h=3),e[2*(r+1)+1]=65535,i=0;i<=r;i++)n=a,a=e[2*(i+1)+1],++s<u&&n===a||(s<h?t.bl_tree[2*n]+=s:0!==n?(n!==o&&t.bl_tree[2*n]++,t.bl_tree[2*y]++):s<=10?t.bl_tree[2*_]++:t.bl_tree[2*b]++,o=n,h=(s=0)===a?(u=138,3):n===a?(u=6,3):(u=7,4))}function Z(t,e,r){var i,n,o=-1,a=e[1],s=0,u=7,h=4;for(0===a&&(u=138,h=3),i=0;i<=r;i++)if(n=a,a=e[2*(i+1)+1],!(++s<u&&n===a)){if(s<h)for(;U(t,n,t.bl_tree),0!=--s;);else 0!==n?(n!==o&&(U(t,n,t.bl_tree),s--),U(t,y,t.bl_tree),F(t,s-3,2)):s<=10?(U(t,_,t.bl_tree),F(t,s-3,3)):(U(t,b,t.bl_tree),F(t,s-11,7));o=n,h=(s=0)===a?(u=138,3):n===a?(u=6,3):(u=7,4)}}a(M);var $=!1;function K(t,e,r,n){F(t,(s<<1)+(n?1:0),3),function(t,e,r,n){H(t),n&&(B(t,r),B(t,~r)),i.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r,!0)}r._tr_init=function(t){$||(function(){var t,e,r,i,n,o=new Array(p+1);for(i=r=0;i<u-1;i++)for(O[i]=r,t=0;t<1<<x[i];t++)P[r++]=i;for(P[r-1]=i,i=n=0;i<16;i++)for(M[i]=n,t=0;t<1<<w[i];t++)A[n++]=i;for(n>>=7;i<l;i++)for(M[i]=n<<7,t=0;t<1<<w[i]-7;t++)A[256+n++]=i;for(e=0;e<=p;e++)o[e]=0;for(t=0;t<=143;)S[2*t+1]=8,t++,o[8]++;for(;t<=255;)S[2*t+1]=9,t++,o[9]++;for(;t<=279;)S[2*t+1]=7,t++,o[7]++;for(;t<=287;)S[2*t+1]=8,t++,o[8]++;for(z(S,f+1,o),t=0;t<l;t++)I[2*t+1]=5,I[2*t]=j(t,5);C=new k(S,x,h+1,f,p),R=new k(I,w,0,l,p),D=new k(new Array(0),E,0,c,m)}(),$=!0),t.l_desc=new N(t.dyn_ltree,C),t.d_desc=new N(t.dyn_dtree,R),t.bl_desc=new N(t.bl_tree,D),t.bi_buf=0,t.bi_valid=0,X(t)},r._tr_stored_block=K,r._tr_flush_block=function(t,e,r,i){var a,s,u=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return n;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return o;for(e=32;e<h;e++)if(0!==t.dyn_ltree[2*e])return o;return n}(t)),V(t,t.l_desc),V(t,t.d_desc),u=function(t){var e;for(q(t,t.dyn_ltree,t.l_desc.max_code),q(t,t.dyn_dtree,t.d_desc.max_code),V(t,t.bl_desc),e=c-1;3<=e&&0===t.bl_tree[2*T[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),a=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=a&&(a=s)):a=s=r+5,r+4<=a&&-1!==e?K(t,e,r,i):4===t.strategy||s===a?(F(t,2+(i?1:0),3),Y(t,S,I)):(F(t,4+(i?1:0),3),function(t,e,r,i){var n;for(F(t,e-257,5),F(t,r-1,5),F(t,i-4,4),n=0;n<i;n++)F(t,t.bl_tree[2*T[n]+1],3);Z(t,t.dyn_ltree,e-1),Z(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,u+1),Y(t,t.dyn_ltree,t.dyn_dtree)),X(t),i&&H(t)},r._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(P[r]+h+1)]++,t.dyn_dtree[2*L(e)]++),t.last_lit===t.lit_bufsize-1},r._tr_align=function(t){F(t,2,3),U(t,g,S),function(t){16===t.bi_valid?(B(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":41}],53:[function(t,e,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,i){(function(t){!function(t,e){"use strict";if(!t.setImmediate){var r,i,n,o,a=1,s={},u=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,r="[object process]"==={}.toString.call(t.process)?function(t){process.nextTick((function(){c(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?(o="setImmediate$"+Math.random()+"$",t.addEventListener?t.addEventListener("message",d,!1):t.attachEvent("onmessage",d),function(e){t.postMessage(o+e,"*")}):t.MessageChannel?((n=new MessageChannel).port1.onmessage=function(t){c(t.data)},function(t){n.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,function(t){var e=h.createElement("script");e.onreadystatechange=function(){c(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):function(t){setTimeout(c,0,t)},f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var n={callback:t,args:e};return s[a]=n,r(a),a++},f.clearImmediate=l}function l(t){delete s[t]}function c(t){if(u)setTimeout(c,0,t);else{var r=s[t];if(r){u=!0;try{!function(t){var r=t.callback,i=t.args;switch(i.length){case 0:r();break;case 1:r(i[0]);break;case 2:r(i[0],i[1]);break;case 3:r(i[0],i[1],i[2]);break;default:r.apply(e,i)}}(r)}finally{l(t),u=!1}}}}function d(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&c(+e.data.slice(o.length))}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}))},483:(t,e,r)=>{(function(e){if(true){t.exports=e()}else{var r}})((function(){var t,e,i;return function t(e,r,i){function n(a,s){if(!r[a]){if(!e[a]){var u=undefined;if(!s&&u)return require(a,!0);if(o)return o(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var f=r[a]={exports:{}};e[a][0].call(f.exports,(function(t){var r=e[a][1][t];return n(r?r:t)}),f,f.exports,t,e,r,i)}return r[a].exports}var o=undefined;for(var a=0;a<i.length;a++)n(i[a]);return n}({1:[function(t,e,i){(function(t){"use strict";var r=t.MutationObserver||t.WebKitMutationObserver;var i;{if(r){var n=0;var o=new r(f);var a=t.document.createTextNode("");o.observe(a,{characterData:true});i=function(){a.data=n=++n%2}}else if(!t.setImmediate&&typeof t.MessageChannel!=="undefined"){var s=new t.MessageChannel;s.port1.onmessage=f;i=function(){s.port2.postMessage(0)}}else if("document"in t&&"onreadystatechange"in t.document.createElement("script")){i=function(){var e=t.document.createElement("script");e.onreadystatechange=function(){f();e.onreadystatechange=null;e.parentNode.removeChild(e);e=null};t.document.documentElement.appendChild(e)}}else{i=function(){setTimeout(f,0)}}}var u;var h=[];function f(){u=true;var t,e;var r=h.length;while(r){e=h;h=[];t=-1;while(++t<r){e[t]()}r=h.length}u=false}e.exports=l;function l(t){if(h.push(t)===1&&!u){i()}}}).call(this,typeof r.g!=="undefined"?r.g:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(t,e,r){"use strict";var i=t(1);function n(){}var o={};var a=["REJECTED"];var s=["FULFILLED"];var u=["PENDING"];e.exports=h;function h(t){if(typeof t!=="function"){throw new TypeError("resolver must be a function")}this.state=u;this.queue=[];this.outcome=void 0;if(t!==n){d(this,t)}}h.prototype["catch"]=function(t){return this.then(null,t)};h.prototype.then=function(t,e){if(typeof t!=="function"&&this.state===s||typeof e!=="function"&&this.state===a){return this}var r=new this.constructor(n);if(this.state!==u){var i=this.state===s?t:e;l(r,i,this.outcome)}else{this.queue.push(new f(r,t,e))}return r};function f(t,e,r){this.promise=t;if(typeof e==="function"){this.onFulfilled=e;this.callFulfilled=this.otherCallFulfilled}if(typeof r==="function"){this.onRejected=r;this.callRejected=this.otherCallRejected}}f.prototype.callFulfilled=function(t){o.resolve(this.promise,t)};f.prototype.otherCallFulfilled=function(t){l(this.promise,this.onFulfilled,t)};f.prototype.callRejected=function(t){o.reject(this.promise,t)};f.prototype.otherCallRejected=function(t){l(this.promise,this.onRejected,t)};function l(t,e,r){i((function(){var i;try{i=e(r)}catch(e){return o.reject(t,e)}if(i===t){o.reject(t,new TypeError("Cannot resolve promise with itself"))}else{o.resolve(t,i)}}))}o.resolve=function(t,e){var r=p(c,e);if(r.status==="error"){return o.reject(t,r.value)}var i=r.value;if(i){d(t,i)}else{t.state=s;t.outcome=e;var n=-1;var a=t.queue.length;while(++n<a){t.queue[n].callFulfilled(e)}}return t};o.reject=function(t,e){t.state=a;t.outcome=e;var r=-1;var i=t.queue.length;while(++r<i){t.queue[r].callRejected(e)}return t};function c(t){var e=t&&t.then;if(t&&(typeof t==="object"||typeof t==="function")&&typeof e==="function"){return function r(){e.apply(t,arguments)}}}function d(t,e){var r=false;function i(e){if(r){return}r=true;o.reject(t,e)}function n(e){if(r){return}r=true;o.resolve(t,e)}function a(){e(n,i)}var s=p(a);if(s.status==="error"){i(s.value)}}function p(t,e){var r={};try{r.value=t(e);r.status="success"}catch(t){r.status="error";r.value=t}return r}h.resolve=v;function v(t){if(t instanceof this){return t}return o.resolve(new this(n),t)}h.reject=m;function m(t){var e=new this(n);return o.reject(e,t)}h.all=g;function g(t){var e=this;if(Object.prototype.toString.call(t)!=="[object Array]"){return this.reject(new TypeError("must be an array"))}var r=t.length;var i=false;if(!r){return this.resolve([])}var a=new Array(r);var s=0;var u=-1;var h=new this(n);while(++u<r){f(t[u],u)}return h;function f(t,n){e.resolve(t).then(u,(function(t){if(!i){i=true;o.reject(h,t)}}));function u(t){a[n]=t;if(++s===r&&!i){i=true;o.resolve(h,a)}}}}h.race=y;function y(t){var e=this;if(Object.prototype.toString.call(t)!=="[object Array]"){return this.reject(new TypeError("must be an array"))}var r=t.length;var i=false;if(!r){return this.resolve([])}var a=-1;var s=new this(n);while(++a<r){u(t[a])}return s;function u(t){e.resolve(t).then((function(t){if(!i){i=true;o.resolve(s,t)}}),(function(t){if(!i){i=true;o.reject(s,t)}}))}}},{1:1}],3:[function(t,e,i){(function(e){"use strict";if(typeof e.Promise!=="function"){e.Promise=t(2)}}).call(this,typeof r.g!=="undefined"?r.g:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{2:2}],4:[function(t,e,r){"use strict";var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function n(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function o(){try{if(typeof indexedDB!=="undefined"){return indexedDB}if(typeof webkitIndexedDB!=="undefined"){return webkitIndexedDB}if(typeof mozIndexedDB!=="undefined"){return mozIndexedDB}if(typeof OIndexedDB!=="undefined"){return OIndexedDB}if(typeof msIndexedDB!=="undefined"){return msIndexedDB}}catch(t){return}}var a=o();function s(){try{if(!a||!a.open){return false}var t=typeof openDatabase!=="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);var e=typeof fetch==="function"&&fetch.toString().indexOf("[native code")!==-1;return(!t||e)&&typeof indexedDB!=="undefined"&&typeof IDBKeyRange!=="undefined"}catch(t){return false}}function u(t,e){t=t||[];e=e||{};try{return new Blob(t,e)}catch(o){if(o.name!=="TypeError"){throw o}var r=typeof BlobBuilder!=="undefined"?BlobBuilder:typeof MSBlobBuilder!=="undefined"?MSBlobBuilder:typeof MozBlobBuilder!=="undefined"?MozBlobBuilder:WebKitBlobBuilder;var i=new r;for(var n=0;n<t.length;n+=1){i.append(t[n])}return i.getBlob(e.type)}}if(typeof Promise==="undefined"){t(3)}var h=Promise;function f(t,e){if(e){t.then((function(t){e(null,t)}),(function(t){e(t)}))}}function l(t,e,r){if(typeof e==="function"){t.then(e)}if(typeof r==="function"){t["catch"](r)}}function c(t){if(typeof t!=="string"){console.warn(t+" used as a key, but it is not a string.");t=String(t)}return t}function d(){if(arguments.length&&typeof arguments[arguments.length-1]==="function"){return arguments[arguments.length-1]}}var p="local-forage-detect-blob-support";var v=void 0;var m={};var g=Object.prototype.toString;var y="readonly";var _="readwrite";function b(t){var e=t.length;var r=new ArrayBuffer(e);var i=new Uint8Array(r);for(var n=0;n<e;n++){i[n]=t.charCodeAt(n)}return r}function x(t){return new h((function(e){var r=t.transaction(p,_);var i=u([""]);r.objectStore(p).put(i,"key");r.onabort=function(t){t.preventDefault();t.stopPropagation();e(false)};r.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/);var r=navigator.userAgent.match(/Edge\//);e(r||!t||parseInt(t[1],10)>=43)}}))["catch"]((function(){return false}))}function w(t){if(typeof v==="boolean"){return h.resolve(v)}return x(t).then((function(t){v=t;return v}))}function E(t){var e=m[t.name];var r={};r.promise=new h((function(t,e){r.resolve=t;r.reject=e}));e.deferredOperations.push(r);if(!e.dbReady){e.dbReady=r.promise}else{e.dbReady=e.dbReady.then((function(){return r.promise}))}}function T(t){var e=m[t.name];var r=e.deferredOperations.pop();if(r){r.resolve();return r.promise}}function S(t,e){var r=m[t.name];var i=r.deferredOperations.pop();if(i){i.reject(e);return i.promise}}function I(t,e){return new h((function(r,i){m[t.name]=m[t.name]||L();if(t.db){if(e){E(t);t.db.close()}else{return r(t.db)}}var n=[t.name];if(e){n.push(t.version)}var o=a.open.apply(a,n);if(e){o.onupgradeneeded=function(e){var r=o.result;try{r.createObjectStore(t.storeName);if(e.oldVersion<=1){r.createObjectStore(p)}}catch(r){if(r.name==="ConstraintError"){console.warn('The database "'+t.name+'"'+" has been upgraded from version "+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}else{throw r}}}}o.onerror=function(t){t.preventDefault();i(o.error)};o.onsuccess=function(){var e=o.result;e.onversionchange=function(t){t.target.close()};r(e);T(t)}}))}function A(t){return I(t,false)}function P(t){return I(t,true)}function O(t,e){if(!t.db){return true}var r=!t.db.objectStoreNames.contains(t.storeName);var i=t.version<t.db.version;var n=t.version>t.db.version;if(i){if(t.version!==e){console.warn('The database "'+t.name+'"'+" can't be downgraded from version "+t.db.version+" to version "+t.version+".")}t.version=t.db.version}if(n||r){if(r){var o=t.db.version+1;if(o>t.version){t.version=o}}return true}return false}function C(t){return new h((function(e,r){var i=new FileReader;i.onerror=r;i.onloadend=function(r){var i=btoa(r.target.result||"");e({__local_forage_encoded_blob:true,data:i,type:t.type})};i.readAsBinaryString(t)}))}function R(t){var e=b(atob(t.data));return u([e],{type:t.type})}function D(t){return t&&t.__local_forage_encoded_blob}function M(t){var e=this;var r=e._initReady().then((function(){var t=m[e._dbInfo.name];if(t&&t.dbReady){return t.dbReady}}));l(r,t,t);return r}function k(t){E(t);var e=m[t.name];var r=e.forages;for(var i=0;i<r.length;i++){var n=r[i];if(n._dbInfo.db){n._dbInfo.db.close();n._dbInfo.db=null}}t.db=null;return A(t).then((function(e){t.db=e;if(O(t)){return P(t)}return e})).then((function(i){t.db=e.db=i;for(var n=0;n<r.length;n++){r[n]._dbInfo.db=i}}))["catch"]((function(e){S(t,e);throw e}))}function N(t,e,r,i){if(i===undefined){i=1}try{var n=t.db.transaction(t.storeName,e);r(null,n)}catch(n){if(i>0&&(!t.db||n.name==="InvalidStateError"||n.name==="NotFoundError")){return h.resolve().then((function(){if(!t.db||n.name==="NotFoundError"&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version){if(t.db){t.version=t.db.version+1}return P(t)}})).then((function(){return k(t).then((function(){N(t,e,r,i-1)}))}))["catch"](r)}r(n)}}function L(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function B(t){var e=this;var r={db:null};if(t){for(var i in t){r[i]=t[i]}}var n=m[r.name];if(!n){n=L();m[r.name]=n}n.forages.push(e);if(!e._initReady){e._initReady=e.ready;e.ready=M}var o=[];function a(){return h.resolve()}for(var s=0;s<n.forages.length;s++){var u=n.forages[s];if(u!==e){o.push(u._initReady()["catch"](a))}}var f=n.forages.slice(0);return h.all(o).then((function(){r.db=n.db;return A(r)})).then((function(t){r.db=t;if(O(r,e._defaultConfig.version)){return P(r)}return t})).then((function(t){r.db=n.db=t;e._dbInfo=r;for(var i=0;i<f.length;i++){var o=f[i];if(o!==e){o._dbInfo.db=r.db;o._dbInfo.version=r.version}}}))}function F(t,e){var r=this;t=c(t);var i=new h((function(e,i){r.ready().then((function(){N(r._dbInfo,y,(function(n,o){if(n){return i(n)}try{var a=o.objectStore(r._dbInfo.storeName);var s=a.get(t);s.onsuccess=function(){var t=s.result;if(t===undefined){t=null}if(D(t)){t=R(t)}e(t)};s.onerror=function(){i(s.error)}}catch(t){i(t)}}))}))["catch"](i)}));f(i,e);return i}function U(t,e){var r=this;var i=new h((function(e,i){r.ready().then((function(){N(r._dbInfo,y,(function(n,o){if(n){return i(n)}try{var a=o.objectStore(r._dbInfo.storeName);var s=a.openCursor();var u=1;s.onsuccess=function(){var r=s.result;if(r){var i=r.value;if(D(i)){i=R(i)}var n=t(i,r.key,u++);if(n!==void 0){e(n)}else{r["continue"]()}}else{e()}};s.onerror=function(){i(s.error)}}catch(t){i(t)}}))}))["catch"](i)}));f(i,e);return i}function j(t,e,r){var i=this;t=c(t);var n=new h((function(r,n){var o;i.ready().then((function(){o=i._dbInfo;if(g.call(e)==="[object Blob]"){return w(o.db).then((function(t){if(t){return e}return C(e)}))}return e})).then((function(e){N(i._dbInfo,_,(function(o,a){if(o){return n(o)}try{var s=a.objectStore(i._dbInfo.storeName);if(e===null){e=undefined}var u=s.put(e,t);a.oncomplete=function(){if(e===undefined){e=null}r(e)};a.onabort=a.onerror=function(){var t=u.error?u.error:u.transaction.error;n(t)}}catch(t){n(t)}}))}))["catch"](n)}));f(n,r);return n}function z(t,e){var r=this;t=c(t);var i=new h((function(e,i){r.ready().then((function(){N(r._dbInfo,_,(function(n,o){if(n){return i(n)}try{var a=o.objectStore(r._dbInfo.storeName);var s=a["delete"](t);o.oncomplete=function(){e()};o.onerror=function(){i(s.error)};o.onabort=function(){var t=s.error?s.error:s.transaction.error;i(t)}}catch(t){i(t)}}))}))["catch"](i)}));f(i,e);return i}function X(t){var e=this;var r=new h((function(t,r){e.ready().then((function(){N(e._dbInfo,_,(function(i,n){if(i){return r(i)}try{var o=n.objectStore(e._dbInfo.storeName);var a=o.clear();n.oncomplete=function(){t()};n.onabort=n.onerror=function(){var t=a.error?a.error:a.transaction.error;r(t)}}catch(t){r(t)}}))}))["catch"](r)}));f(r,t);return r}function H(t){var e=this;var r=new h((function(t,r){e.ready().then((function(){N(e._dbInfo,y,(function(i,n){if(i){return r(i)}try{var o=n.objectStore(e._dbInfo.storeName);var a=o.count();a.onsuccess=function(){t(a.result)};a.onerror=function(){r(a.error)}}catch(t){r(t)}}))}))["catch"](r)}));f(r,t);return r}function G(t,e){var r=this;var i=new h((function(e,i){if(t<0){e(null);return}r.ready().then((function(){N(r._dbInfo,y,(function(n,o){if(n){return i(n)}try{var a=o.objectStore(r._dbInfo.storeName);var s=false;var u=a.openKeyCursor();u.onsuccess=function(){var r=u.result;if(!r){e(null);return}if(t===0){e(r.key)}else{if(!s){s=true;r.advance(t)}else{e(r.key)}}};u.onerror=function(){i(u.error)}}catch(t){i(t)}}))}))["catch"](i)}));f(i,e);return i}function W(t){var e=this;var r=new h((function(t,r){e.ready().then((function(){N(e._dbInfo,y,(function(i,n){if(i){return r(i)}try{var o=n.objectStore(e._dbInfo.storeName);var a=o.openKeyCursor();var s=[];a.onsuccess=function(){var e=a.result;if(!e){t(s);return}s.push(e.key);e["continue"]()};a.onerror=function(){r(a.error)}}catch(t){r(t)}}))}))["catch"](r)}));f(r,t);return r}function Y(t,e){e=d.apply(this,arguments);var r=this.config();t=typeof t!=="function"&&t||{};if(!t.name){t.name=t.name||r.name;t.storeName=t.storeName||r.storeName}var i=this;var n;if(!t.name){n=h.reject("Invalid arguments")}else{var o=t.name===r.name&&i._dbInfo.db;var s=o?h.resolve(i._dbInfo.db):A(t).then((function(e){var r=m[t.name];var i=r.forages;r.db=e;for(var n=0;n<i.length;n++){i[n]._dbInfo.db=e}return e}));if(!t.storeName){n=s.then((function(e){E(t);var r=m[t.name];var i=r.forages;e.close();for(var n=0;n<i.length;n++){var o=i[n];o._dbInfo.db=null}var s=new h((function(e,r){var i=a.deleteDatabase(t.name);i.onerror=function(){var t=i.result;if(t){t.close()}r(i.error)};i.onblocked=function(){console.warn('dropInstance blocked for database "'+t.name+'" until all open connections are closed')};i.onsuccess=function(){var t=i.result;if(t){t.close()}e(t)}}));return s.then((function(t){r.db=t;for(var e=0;e<i.length;e++){var n=i[e];T(n._dbInfo)}}))["catch"]((function(e){(S(t,e)||h.resolve())["catch"]((function(){}));throw e}))}))}else{n=s.then((function(e){if(!e.objectStoreNames.contains(t.storeName)){return}var r=e.version+1;E(t);var i=m[t.name];var n=i.forages;e.close();for(var o=0;o<n.length;o++){var s=n[o];s._dbInfo.db=null;s._dbInfo.version=r}var u=new h((function(e,i){var n=a.open(t.name,r);n.onerror=function(t){var e=n.result;e.close();i(t)};n.onupgradeneeded=function(){var e=n.result;e.deleteObjectStore(t.storeName)};n.onsuccess=function(){var t=n.result;t.close();e(t)}}));return u.then((function(t){i.db=t;for(var e=0;e<n.length;e++){var r=n[e];r._dbInfo.db=t;T(r._dbInfo)}}))["catch"]((function(e){(S(t,e)||h.resolve())["catch"]((function(){}));throw e}))}))}}f(n,e);return n}var V={_driver:"asyncStorage",_initStorage:B,_support:s(),iterate:U,getItem:F,setItem:j,removeItem:z,clear:X,length:H,key:G,keys:W,dropInstance:Y};function q(){return typeof openDatabase==="function"}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var $="~~local_forage_type~";var K=/^~~local_forage_type~([^~]+)~/;var J="__lfsc__:";var Q=J.length;var tt="arbf";var et="blob";var rt="si08";var it="ui08";var nt="uic8";var ot="si16";var at="si32";var st="ur16";var ut="ui32";var ht="fl32";var ft="fl64";var lt=Q+tt.length;var ct=Object.prototype.toString;function dt(t){var e=t.length*.75;var r=t.length;var i;var n=0;var o,a,s,u;if(t[t.length-1]==="="){e--;if(t[t.length-2]==="="){e--}}var h=new ArrayBuffer(e);var f=new Uint8Array(h);for(i=0;i<r;i+=4){o=Z.indexOf(t[i]);a=Z.indexOf(t[i+1]);s=Z.indexOf(t[i+2]);u=Z.indexOf(t[i+3]);f[n++]=o<<2|a>>4;f[n++]=(a&15)<<4|s>>2;f[n++]=(s&3)<<6|u&63}return h}function pt(t){var e=new Uint8Array(t);var r="";var i;for(i=0;i<e.length;i+=3){r+=Z[e[i]>>2];r+=Z[(e[i]&3)<<4|e[i+1]>>4];r+=Z[(e[i+1]&15)<<2|e[i+2]>>6];r+=Z[e[i+2]&63]}if(e.length%3===2){r=r.substring(0,r.length-1)+"="}else if(e.length%3===1){r=r.substring(0,r.length-2)+"=="}return r}function vt(t,e){var r="";if(t){r=ct.call(t)}if(t&&(r==="[object ArrayBuffer]"||t.buffer&&ct.call(t.buffer)==="[object ArrayBuffer]")){var i;var n=J;if(t instanceof ArrayBuffer){i=t;n+=tt}else{i=t.buffer;if(r==="[object Int8Array]"){n+=rt}else if(r==="[object Uint8Array]"){n+=it}else if(r==="[object Uint8ClampedArray]"){n+=nt}else if(r==="[object Int16Array]"){n+=ot}else if(r==="[object Uint16Array]"){n+=st}else if(r==="[object Int32Array]"){n+=at}else if(r==="[object Uint32Array]"){n+=ut}else if(r==="[object Float32Array]"){n+=ht}else if(r==="[object Float64Array]"){n+=ft}else{e(new Error("Failed to get type for BinaryArray"))}}e(n+pt(i))}else if(r==="[object Blob]"){var o=new FileReader;o.onload=function(){var r=$+t.type+"~"+pt(this.result);e(J+et+r)};o.readAsArrayBuffer(t)}else{try{e(JSON.stringify(t))}catch(r){console.error("Couldn't convert value into a JSON string: ",t);e(null,r)}}}function mt(t){if(t.substring(0,Q)!==J){return JSON.parse(t)}var e=t.substring(lt);var r=t.substring(Q,lt);var i;if(r===et&&K.test(e)){var n=e.match(K);i=n[1];e=e.substring(n[0].length)}var o=dt(e);switch(r){case tt:return o;case et:return u([o],{type:i});case rt:return new Int8Array(o);case it:return new Uint8Array(o);case nt:return new Uint8ClampedArray(o);case ot:return new Int16Array(o);case st:return new Uint16Array(o);case at:return new Int32Array(o);case ut:return new Uint32Array(o);case ht:return new Float32Array(o);case ft:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}}var gt={serialize:vt,deserialize:mt,stringToBuffer:dt,bufferToString:pt};function yt(t,e,r,i){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" "+"(id INTEGER PRIMARY KEY, key unique, value)",[],r,i)}function _t(t){var e=this;var r={db:null};if(t){for(var i in t){r[i]=typeof t[i]!=="string"?t[i].toString():t[i]}}var n=new h((function(t,i){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(t){return i(t)}r.db.transaction((function(n){yt(n,r,(function(){e._dbInfo=r;t()}),(function(t,e){i(e)}))}),i)}));r.serializer=gt;return n}function bt(t,e,r,i,n,o){t.executeSql(r,i,n,(function(t,a){if(a.code===a.SYNTAX_ERR){t.executeSql("SELECT name FROM sqlite_master "+"WHERE type='table' AND name = ?",[e.storeName],(function(t,s){if(!s.rows.length){yt(t,e,(function(){t.executeSql(r,i,n,o)}),o)}else{o(t,a)}}),o)}else{o(t,a)}}),o)}function xt(t,e){var r=this;t=c(t);var i=new h((function(e,i){r.ready().then((function(){var n=r._dbInfo;n.db.transaction((function(r){bt(r,n,"SELECT * FROM "+n.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,r){var i=r.rows.length?r.rows.item(0).value:null;if(i){i=n.serializer.deserialize(i)}e(i)}),(function(t,e){i(e)}))}))}))["catch"](i)}));f(i,e);return i}function wt(t,e){var r=this;var i=new h((function(e,i){r.ready().then((function(){var n=r._dbInfo;n.db.transaction((function(r){bt(r,n,"SELECT * FROM "+n.storeName,[],(function(r,i){var o=i.rows;var a=o.length;for(var s=0;s<a;s++){var u=o.item(s);var h=u.value;if(h){h=n.serializer.deserialize(h)}h=t(h,u.key,s+1);if(h!==void 0){e(h);return}}e()}),(function(t,e){i(e)}))}))}))["catch"](i)}));f(i,e);return i}function Et(t,e,r,i){var n=this;t=c(t);var o=new h((function(o,a){n.ready().then((function(){if(e===undefined){e=null}var s=e;var u=n._dbInfo;u.serializer.serialize(e,(function(e,h){if(h){a(h)}else{u.db.transaction((function(r){bt(r,u,"INSERT OR REPLACE INTO "+u.storeName+" "+"(key, value) VALUES (?, ?)",[t,e],(function(){o(s)}),(function(t,e){a(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(i>0){o(Et.apply(n,[t,s,r,i-1]));return}a(e)}}))}}))}))["catch"](a)}));f(o,r);return o}function Tt(t,e,r){return Et.apply(this,[t,e,r,1])}function St(t,e){var r=this;t=c(t);var i=new h((function(e,i){r.ready().then((function(){var n=r._dbInfo;n.db.transaction((function(r){bt(r,n,"DELETE FROM "+n.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){i(e)}))}))}))["catch"](i)}));f(i,e);return i}function It(t){var e=this;var r=new h((function(t,r){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){bt(e,i,"DELETE FROM "+i.storeName,[],(function(){t()}),(function(t,e){r(e)}))}))}))["catch"](r)}));f(r,t);return r}function At(t){var e=this;var r=new h((function(t,r){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){bt(e,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(e,r){var i=r.rows.item(0).c;t(i)}),(function(t,e){r(e)}))}))}))["catch"](r)}));f(r,t);return r}function Pt(t,e){var r=this;var i=new h((function(e,i){r.ready().then((function(){var n=r._dbInfo;n.db.transaction((function(r){bt(r,n,"SELECT key FROM "+n.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,r){var i=r.rows.length?r.rows.item(0).key:null;e(i)}),(function(t,e){i(e)}))}))}))["catch"](i)}));f(i,e);return i}function Ot(t){var e=this;var r=new h((function(t,r){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){bt(e,i,"SELECT key FROM "+i.storeName,[],(function(e,r){var i=[];for(var n=0;n<r.rows.length;n++){i.push(r.rows.item(n).key)}t(i)}),(function(t,e){r(e)}))}))}))["catch"](r)}));f(r,t);return r}function Ct(t){return new h((function(e,r){t.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master "+"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,i){var n=[];for(var o=0;o<i.rows.length;o++){n.push(i.rows.item(o).name)}e({db:t,storeNames:n})}),(function(t,e){r(e)}))}),(function(t){r(t)}))}))}function Rt(t,e){e=d.apply(this,arguments);var r=this.config();t=typeof t!=="function"&&t||{};if(!t.name){t.name=t.name||r.name;t.storeName=t.storeName||r.storeName}var i=this;var n;if(!t.name){n=h.reject("Invalid arguments")}else{n=new h((function(e){var n;if(t.name===r.name){n=i._dbInfo.db}else{n=openDatabase(t.name,"","",0)}if(!t.storeName){e(Ct(n))}else{e({db:n,storeNames:[t.storeName]})}})).then((function(t){return new h((function(e,r){t.db.transaction((function(i){function n(t){return new h((function(e,r){i.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){r(e)}))}))}var o=[];for(var a=0,s=t.storeNames.length;a<s;a++){o.push(n(t.storeNames[a]))}h.all(o).then((function(){e()}))["catch"]((function(t){r(t)}))}),(function(t){r(t)}))}))}))}f(n,e);return n}var Dt={_driver:"webSQLStorage",_initStorage:_t,_support:q(),iterate:wt,getItem:xt,setItem:Tt,removeItem:St,clear:It,length:At,key:Pt,keys:Ot,dropInstance:Rt};function Mt(){try{return typeof localStorage!=="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return false}}function kt(t,e){var r=t.name+"/";if(t.storeName!==e.storeName){r+=t.storeName+"/"}return r}function Nt(){var t="_localforage_support_test";try{localStorage.setItem(t,true);localStorage.removeItem(t);return false}catch(t){return true}}function Lt(){return!Nt()||localStorage.length>0}function Bt(t){var e=this;var r={};if(t){for(var i in t){r[i]=t[i]}}r.keyPrefix=kt(t,e._defaultConfig);if(!Lt()){return h.reject()}e._dbInfo=r;r.serializer=gt;return h.resolve()}function Ft(t){var e=this;var r=e.ready().then((function(){var t=e._dbInfo.keyPrefix;for(var r=localStorage.length-1;r>=0;r--){var i=localStorage.key(r);if(i.indexOf(t)===0){localStorage.removeItem(i)}}}));f(r,t);return r}function Ut(t,e){var r=this;t=c(t);var i=r.ready().then((function(){var e=r._dbInfo;var i=localStorage.getItem(e.keyPrefix+t);if(i){i=e.serializer.deserialize(i)}return i}));f(i,e);return i}function jt(t,e){var r=this;var i=r.ready().then((function(){var e=r._dbInfo;var i=e.keyPrefix;var n=i.length;var o=localStorage.length;var a=1;for(var s=0;s<o;s++){var u=localStorage.key(s);if(u.indexOf(i)!==0){continue}var h=localStorage.getItem(u);if(h){h=e.serializer.deserialize(h)}h=t(h,u.substring(n),a++);if(h!==void 0){return h}}}));f(i,e);return i}function zt(t,e){var r=this;var i=r.ready().then((function(){var e=r._dbInfo;var i;try{i=localStorage.key(t)}catch(t){i=null}if(i){i=i.substring(e.keyPrefix.length)}return i}));f(i,e);return i}function Xt(t){var e=this;var r=e.ready().then((function(){var t=e._dbInfo;var r=localStorage.length;var i=[];for(var n=0;n<r;n++){var o=localStorage.key(n);if(o.indexOf(t.keyPrefix)===0){i.push(o.substring(t.keyPrefix.length))}}return i}));f(r,t);return r}function Ht(t){var e=this;var r=e.keys().then((function(t){return t.length}));f(r,t);return r}function Gt(t,e){var r=this;t=c(t);var i=r.ready().then((function(){var e=r._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));f(i,e);return i}function Wt(t,e,r){var i=this;t=c(t);var n=i.ready().then((function(){if(e===undefined){e=null}var r=e;return new h((function(n,o){var a=i._dbInfo;a.serializer.serialize(e,(function(e,i){if(i){o(i)}else{try{localStorage.setItem(a.keyPrefix+t,e);n(r)}catch(t){if(t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"){o(t)}o(t)}}}))}))}));f(n,r);return n}function Yt(t,e){e=d.apply(this,arguments);t=typeof t!=="function"&&t||{};if(!t.name){var r=this.config();t.name=t.name||r.name;t.storeName=t.storeName||r.storeName}var i=this;var n;if(!t.name){n=h.reject("Invalid arguments")}else{n=new h((function(e){if(!t.storeName){e(t.name+"/")}else{e(kt(t,i._defaultConfig))}})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var r=localStorage.key(e);if(r.indexOf(t)===0){localStorage.removeItem(r)}}}))}f(n,e);return n}var Vt={_driver:"localStorageWrapper",_initStorage:Bt,_support:Mt(),iterate:jt,getItem:Ut,setItem:Wt,removeItem:Gt,clear:Ft,length:Ht,key:zt,keys:Xt,dropInstance:Yt};var qt=function t(e,r){return e===r||typeof e==="number"&&typeof r==="number"&&isNaN(e)&&isNaN(r)};var Zt=function t(e,r){var i=e.length;var n=0;while(n<i){if(qt(e[n],r)){return true}n++}return false};var $t=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};var Kt={};var Jt={};var Qt={INDEXEDDB:V,WEBSQL:Dt,LOCALSTORAGE:Vt};var te=[Qt.INDEXEDDB._driver,Qt.WEBSQL._driver,Qt.LOCALSTORAGE._driver];var ee=["dropInstance"];var re=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ee);var ie={description:"",driver:te.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ne(t,e){t[e]=function(){var r=arguments;return t.ready().then((function(){return t[e].apply(t,r)}))}}function oe(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e){for(var r in e){if(e.hasOwnProperty(r)){if($t(e[r])){arguments[0][r]=e[r].slice()}else{arguments[0][r]=e[r]}}}}}return arguments[0]}var ae=function(){function t(e){n(this,t);for(var r in Qt){if(Qt.hasOwnProperty(r)){var i=Qt[r];var o=i._driver;this[r]=o;if(!Kt[o]){this.defineDriver(i)}}}this._defaultConfig=oe({},ie);this._config=oe({},this._defaultConfig,e);this._driverSet=null;this._initDriver=null;this._ready=false;this._dbInfo=null;this._wrapLibraryMethodsWithReady();this.setDriver(this._config.driver)["catch"]((function(){}))}t.prototype.config=function t(e){if((typeof e==="undefined"?"undefined":i(e))==="object"){if(this._ready){return new Error("Can't call config() after localforage "+"has been used.")}for(var r in e){if(r==="storeName"){e[r]=e[r].replace(/\W/g,"_")}if(r==="version"&&typeof e[r]!=="number"){return new Error("Database version must be a number.")}this._config[r]=e[r]}if("driver"in e&&e.driver){return this.setDriver(this._config.driver)}return true}else if(typeof e==="string"){return this._config[e]}else{return this._config}};t.prototype.defineDriver=function t(e,r,i){var n=new h((function(t,r){try{var i=e._driver;var n=new Error("Custom driver not compliant; see "+"https://mozilla.github.io/localForage/#definedriver");if(!e._driver){r(n);return}var o=re.concat("_initStorage");for(var a=0,s=o.length;a<s;a++){var u=o[a];var l=!Zt(ee,u);if((l||e[u])&&typeof e[u]!=="function"){r(n);return}}var c=function t(){var r=function t(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver");var r=h.reject(t);f(r,arguments[arguments.length-1]);return r}};for(var i=0,n=ee.length;i<n;i++){var o=ee[i];if(!e[o]){e[o]=r(o)}}};c();var d=function r(n){if(Kt[i]){console.info("Redefining LocalForage driver: "+i)}Kt[i]=e;Jt[i]=n;t()};if("_support"in e){if(e._support&&typeof e._support==="function"){e._support().then(d,r)}else{d(!!e._support)}}else{d(true)}}catch(t){r(t)}}));l(n,r,i);return n};t.prototype.driver=function t(){return this._driver||null};t.prototype.getDriver=function t(e,r,i){var n=Kt[e]?h.resolve(Kt[e]):h.reject(new Error("Driver not found."));l(n,r,i);return n};t.prototype.getSerializer=function t(e){var r=h.resolve(gt);l(r,e);return r};t.prototype.ready=function t(e){var r=this;var i=r._driverSet.then((function(){if(r._ready===null){r._ready=r._initDriver()}return r._ready}));l(i,e,e);return i};t.prototype.setDriver=function t(e,r,i){var n=this;if(!$t(e)){e=[e]}var o=this._getSupportedDrivers(e);function a(){n._config.driver=n.driver()}function s(t){n._extend(t);a();n._ready=n._initStorage(n._config);return n._ready}function u(t){return function(){var e=0;function r(){while(e<t.length){var i=t[e];e++;n._dbInfo=null;n._ready=null;return n.getDriver(i).then(s)["catch"](r)}a();var o=new Error("No available storage method found.");n._driverSet=h.reject(o);return n._driverSet}return r()}}var f=this._driverSet!==null?this._driverSet["catch"]((function(){return h.resolve()})):h.resolve();this._driverSet=f.then((function(){var t=o[0];n._dbInfo=null;n._ready=null;return n.getDriver(t).then((function(t){n._driver=t._driver;a();n._wrapLibraryMethodsWithReady();n._initDriver=u(o)}))}))["catch"]((function(){a();var t=new Error("No available storage method found.");n._driverSet=h.reject(t);return n._driverSet}));l(this._driverSet,r,i);return this._driverSet};t.prototype.supports=function t(e){return!!Jt[e]};t.prototype._extend=function t(e){oe(this,e)};t.prototype._getSupportedDrivers=function t(e){var r=[];for(var i=0,n=e.length;i<n;i++){var o=e[i];if(this.supports(o)){r.push(o)}}return r};t.prototype._wrapLibraryMethodsWithReady=function t(){for(var e=0,r=re.length;e<r;e++){ne(this,re[e])}};t.prototype.createInstance=function e(r){return new t(r)};return t}();var se=new ae;e.exports=se},{3:3}]},{},[4])(4)}))},940:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var n=function(){function t(e,r,n){if(r===undefined)r=false;i(this,t);this._fn=e;this._once=r;this._thisArg=n;this._next=this._prev=this._owner=null}r(t,[{key:"detach",value:function t(){if(this._owner===null)return false;this._owner.detach(this);return true}}]);return t}();function o(t,e){if(!t._head){t._head=e;t._tail=e}else{t._tail._next=e;e._prev=t._tail;t._tail=e}e._owner=t;return e}var a=function(){function t(){i(this,t);this._head=this._tail=undefined}r(t,[{key:"handlers",value:function t(){var e=arguments.length<=0||arguments[0]===undefined?false:arguments[0];var r=this._head;if(e)return!!r;var i=[];while(r){i.push(r);r=r._next}return i}},{key:"has",value:function t(e){if(!(e instanceof n)){throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.")}return e._owner===this}},{key:"dispatch",value:function t(){var e=this._head;if(!e)return false;while(e){if(e._once)this.detach(e);e._fn.apply(e._thisArg,arguments);e=e._next}return true}},{key:"add",value:function t(e){var r=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if(typeof e!=="function"){throw new Error("MiniSignal#add(): First arg must be a Function.")}return o(this,new n(e,false,r))}},{key:"once",value:function t(e){var r=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if(typeof e!=="function"){throw new Error("MiniSignal#once(): First arg must be a Function.")}return o(this,new n(e,true,r))}},{key:"detach",value:function t(e){if(!(e instanceof n)){throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.")}if(e._owner!==this)return this;if(e._prev)e._prev._next=e._next;if(e._next)e._next._prev=e._prev;if(e===this._head){this._head=e._next;if(e._next===null){this._tail=null}}else if(e===this._tail){this._tail=e._prev;this._tail._next=null}e._owner=null;return this}},{key:"detachAll",value:function t(){var e=this._head;if(!e)return this;this._head=this._tail=null;while(e){e._owner=null;e=e._next}return this}}]);return t}();a.MiniSignalBinding=n;e["default"]=a;t.exports=e["default"]},418:t=>{"use strict";var e=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty;var i=Object.prototype.propertyIsEnumerable;function n(t){if(t===null||t===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(t)}function o(){try{if(!Object.assign){return false}var t=new String("abc");t[5]="de";if(Object.getOwnPropertyNames(t)[0]==="5"){return false}var e={};for(var r=0;r<10;r++){e["_"+String.fromCharCode(r)]=r}var i=Object.getOwnPropertyNames(e).map((function(t){return e[t]}));if(i.join("")!=="0123456789"){return false}var n={};"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t}));if(Object.keys(Object.assign({},n)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(t){return false}}t.exports=o()?Object.assign:function(t,o){var a;var s=n(t);var u;for(var h=1;h<arguments.length;h++){a=Object(arguments[h]);for(var f in a){if(r.call(a,f)){s[f]=a[f]}}if(e){u=e(a);for(var l=0;l<u.length;l++){if(i.call(a,u[l])){s[u[l]]=a[u[l]]}}}}return s}},784:t=>{"use strict";t.exports=(t,e={})=>{if(!t)return undefined;const r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}};const i=r.parser[e.strictMode?"strict":"loose"].exec(t);const n={};let o=14;while(o--)n[r.key[o]]=i[o]||"";n[r.q.name]={};n[r.key[12]].replace(r.q.parser,(function(t,e,i){if(e)n[r.q.name][e]=i}));return n}},832:(t,e,r)=>{"use strict";r.d(e,{Mx:()=>Sn,VL:()=>Je,Xz:()=>_s,W2:()=>ye,aN:()=>co,TY:()=>go,Ae:()=>qt,jy:()=>sa,xE:()=>vr,u8:()=>ku,P6:()=>i});var i={};r.r(i);r.d(i,{BaseTextureCache:()=>kt,CanvasRenderTarget:()=>Bt,DATA_URI:()=>Ut,EventEmitter:()=>L(),ProgramCache:()=>Dt,TextureCache:()=>Mt,clearTextureCache:()=>Lt,correctBlendMode:()=>vt,createIndicesForQuads:()=>_t,decomposeDataUri:()=>jt,deprecation:()=>Rt,destroyTextureCache:()=>Nt,determineCrossOrigin:()=>Xt,earcut:()=>F(),getBufferType:()=>bt,getResolutionOfUrl:()=>Ht,hex2rgb:()=>ht,hex2string:()=>ft,interleaveTypedArrays:()=>wt,isMobile:()=>R,isPow2:()=>Tt,isWebGLSupported:()=>ut,log2:()=>St,nextPow2:()=>Et,premultiplyBlendMode:()=>pt,premultiplyRgba:()=>mt,premultiplyTint:()=>gt,premultiplyTintToRgba:()=>yt,removeItems:()=>It,rgb2hex:()=>ct,sayHello:()=>at,sign:()=>At,skipHello:()=>ot,string2hex:()=>lt,trimCanvas:()=>Ft,uid:()=>Ot,url:()=>U});var n=r(713);var o=r(418);var a=r.n(o);if(!window.Promise){window.Promise=n.Polyfill}if(!Object.assign){Object.assign=a()}var s=16;if(!(Date.now&&Date.prototype.getTime)){Date.now=function t(){return(new Date).getTime()}}if(!(window.performance&&window.performance.now)){var u=Date.now();if(!window.performance){window.performance={}}window.performance.now=function(){return Date.now()-u}}var h=Date.now();var f=["ms","moz","webkit","o"];for(var l=0;l<f.length&&!window.requestAnimationFrame;++l){var c=f[l];window.requestAnimationFrame=window[c+"RequestAnimationFrame"];window.cancelAnimationFrame=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(t){if(typeof t!=="function"){throw new TypeError(t+"is not a function")}var e=Date.now();var r=s+h-e;if(r<0){r=0}h=e;return window.setTimeout((function(){h=Date.now();t(performance.now())}),r)}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(t){return clearTimeout(t)}}if(!Math.sign){Math.sign=function t(e){e=Number(e);if(e===0||isNaN(e)){return e}return e>0?1:-1}}if(!Number.isInteger){Number.isInteger=function t(e){return typeof e==="number"&&isFinite(e)&&Math.floor(e)===e}}if(!window.ArrayBuffer){window.ArrayBuffer=Array}if(!window.Float32Array){window.Float32Array=Array}if(!window.Uint32Array){window.Uint32Array=Array}if(!window.Uint16Array){window.Uint16Array=Array}if(!window.Uint8Array){window.Uint8Array=Array}if(!window.Int32Array){window.Int32Array=Array}var d=/iPhone/i;var p=/iPod/i;var v=/iPad/i;var m=/\biOS-universal(?:.+)Mac\b/i;var g=/\bAndroid(?:.+)Mobile\b/i;var y=/Android/i;var _=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i;var b=/Silk/i;var x=/Windows Phone/i;var w=/\bWindows(?:.+)ARM\b/i;var E=/BlackBerry/i;var T=/BB10/i;var S=/Opera Mini/i;var I=/\b(CriOS|Chrome)(?:.+)Mobile/i;var A=/Mobile(?:.+)Firefox\b/i;var P=function(t){return typeof t!=="undefined"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints==="number"&&t.maxTouchPoints>1&&typeof MSStream==="undefined"};function O(t){return function(e){return e.test(t)}}function C(t){var e={userAgent:"",platform:"",maxTouchPoints:0};if(!t&&typeof navigator!=="undefined"){e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}}else if(typeof t==="string"){e.userAgent=t}else if(t&&t.userAgent){e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}}var r=e.userAgent;var i=r.split("[FBAN");if(typeof i[1]!=="undefined"){r=i[0]}i=r.split("Twitter");if(typeof i[1]!=="undefined"){r=i[0]}var n=O(r);var o={apple:{phone:n(d)&&!n(x),ipod:n(p),tablet:!n(d)&&(n(v)||P(e))&&!n(x),universal:n(m),device:(n(d)||n(p)||n(v)||n(m)||P(e))&&!n(x)},amazon:{phone:n(_),tablet:!n(_)&&n(b),device:n(_)||n(b)},android:{phone:!n(x)&&n(_)||!n(x)&&n(g),tablet:!n(x)&&!n(_)&&!n(g)&&(n(b)||n(y)),device:!n(x)&&(n(_)||n(b)||n(g)||n(y))||n(/\bokhttp\b/i)},windows:{phone:n(x),tablet:n(w),device:n(x)||n(w)},other:{blackberry:n(E),blackberry10:n(T),opera:n(S),firefox:n(A),chrome:n(I),device:n(E)||n(T)||n(S)||n(A)||n(I)},any:false,phone:false,tablet:false};o.any=o.apple.device||o.android.device||o.windows.device||o.other.device;o.phone=o.apple.phone||o.android.phone||o.windows.phone;o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet;return o}var R=C(window.navigator);function D(t){var e=true;if(R.tablet||R.phone){if(R.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var i=parseInt(r[1],10);if(i<11){e=false}}}if(R.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var i=parseInt(r[1],10);if(i<7){e=false}}}}return e?t:4}function M(){return!R.apple.device}var k={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:D(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:false,autoDensity:false,transparent:false,backgroundColor:0,clearBeforeRender:true,preserveDrawingBuffer:false,width:800,height:600,legacy:false},GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:R.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:M(),CREATE_IMAGE_BITMAP:false,ROUND_PIXELS:false};var N=r(729);var L=r.n(N);var B=r(187);var F=r.n(B);var U=r(575);var j;(function(t){t[t["WEBGL_LEGACY"]=0]="WEBGL_LEGACY";t[t["WEBGL"]=1]="WEBGL";t[t["WEBGL2"]=2]="WEBGL2"})(j||(j={}));var z;(function(t){t[t["UNKNOWN"]=0]="UNKNOWN";t[t["WEBGL"]=1]="WEBGL";t[t["CANVAS"]=2]="CANVAS"})(z||(z={}));var X;(function(t){t[t["COLOR"]=16384]="COLOR";t[t["DEPTH"]=256]="DEPTH";t[t["STENCIL"]=1024]="STENCIL"})(X||(X={}));var H;(function(t){t[t["NORMAL"]=0]="NORMAL";t[t["ADD"]=1]="ADD";t[t["MULTIPLY"]=2]="MULTIPLY";t[t["SCREEN"]=3]="SCREEN";t[t["OVERLAY"]=4]="OVERLAY";t[t["DARKEN"]=5]="DARKEN";t[t["LIGHTEN"]=6]="LIGHTEN";t[t["COLOR_DODGE"]=7]="COLOR_DODGE";t[t["COLOR_BURN"]=8]="COLOR_BURN";t[t["HARD_LIGHT"]=9]="HARD_LIGHT";t[t["SOFT_LIGHT"]=10]="SOFT_LIGHT";t[t["DIFFERENCE"]=11]="DIFFERENCE";t[t["EXCLUSION"]=12]="EXCLUSION";t[t["HUE"]=13]="HUE";t[t["SATURATION"]=14]="SATURATION";t[t["COLOR"]=15]="COLOR";t[t["LUMINOSITY"]=16]="LUMINOSITY";t[t["NORMAL_NPM"]=17]="NORMAL_NPM";t[t["ADD_NPM"]=18]="ADD_NPM";t[t["SCREEN_NPM"]=19]="SCREEN_NPM";t[t["NONE"]=20]="NONE";t[t["SRC_OVER"]=0]="SRC_OVER";t[t["SRC_IN"]=21]="SRC_IN";t[t["SRC_OUT"]=22]="SRC_OUT";t[t["SRC_ATOP"]=23]="SRC_ATOP";t[t["DST_OVER"]=24]="DST_OVER";t[t["DST_IN"]=25]="DST_IN";t[t["DST_OUT"]=26]="DST_OUT";t[t["DST_ATOP"]=27]="DST_ATOP";t[t["ERASE"]=26]="ERASE";t[t["SUBTRACT"]=28]="SUBTRACT";t[t["XOR"]=29]="XOR"})(H||(H={}));var G;(function(t){t[t["POINTS"]=0]="POINTS";t[t["LINES"]=1]="LINES";t[t["LINE_LOOP"]=2]="LINE_LOOP";t[t["LINE_STRIP"]=3]="LINE_STRIP";t[t["TRIANGLES"]=4]="TRIANGLES";t[t["TRIANGLE_STRIP"]=5]="TRIANGLE_STRIP";t[t["TRIANGLE_FAN"]=6]="TRIANGLE_FAN"})(G||(G={}));var W;(function(t){t[t["RGBA"]=6408]="RGBA";t[t["RGB"]=6407]="RGB";t[t["ALPHA"]=6406]="ALPHA";t[t["LUMINANCE"]=6409]="LUMINANCE";t[t["LUMINANCE_ALPHA"]=6410]="LUMINANCE_ALPHA";t[t["DEPTH_COMPONENT"]=6402]="DEPTH_COMPONENT";t[t["DEPTH_STENCIL"]=34041]="DEPTH_STENCIL"})(W||(W={}));var Y;(function(t){t[t["TEXTURE_2D"]=3553]="TEXTURE_2D";t[t["TEXTURE_CUBE_MAP"]=34067]="TEXTURE_CUBE_MAP";t[t["TEXTURE_2D_ARRAY"]=35866]="TEXTURE_2D_ARRAY";t[t["TEXTURE_CUBE_MAP_POSITIVE_X"]=34069]="TEXTURE_CUBE_MAP_POSITIVE_X";t[t["TEXTURE_CUBE_MAP_NEGATIVE_X"]=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";t[t["TEXTURE_CUBE_MAP_POSITIVE_Y"]=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";t[t["TEXTURE_CUBE_MAP_NEGATIVE_Y"]=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";t[t["TEXTURE_CUBE_MAP_POSITIVE_Z"]=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";t[t["TEXTURE_CUBE_MAP_NEGATIVE_Z"]=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Y||(Y={}));var V;(function(t){t[t["UNSIGNED_BYTE"]=5121]="UNSIGNED_BYTE";t[t["UNSIGNED_SHORT"]=5123]="UNSIGNED_SHORT";t[t["UNSIGNED_SHORT_5_6_5"]=33635]="UNSIGNED_SHORT_5_6_5";t[t["UNSIGNED_SHORT_4_4_4_4"]=32819]="UNSIGNED_SHORT_4_4_4_4";t[t["UNSIGNED_SHORT_5_5_5_1"]=32820]="UNSIGNED_SHORT_5_5_5_1";t[t["FLOAT"]=5126]="FLOAT";t[t["HALF_FLOAT"]=36193]="HALF_FLOAT"})(V||(V={}));var q;(function(t){t[t["NEAREST"]=0]="NEAREST";t[t["LINEAR"]=1]="LINEAR"})(q||(q={}));var Z;(function(t){t[t["CLAMP"]=33071]="CLAMP";t[t["REPEAT"]=10497]="REPEAT";t[t["MIRRORED_REPEAT"]=33648]="MIRRORED_REPEAT"})(Z||(Z={}));var $;(function(t){t[t["OFF"]=0]="OFF";t[t["POW2"]=1]="POW2";t[t["ON"]=2]="ON"})($||($={}));var K;(function(t){t[t["NPM"]=0]="NPM";t[t["UNPACK"]=1]="UNPACK";t[t["PMA"]=2]="PMA";t[t["NO_PREMULTIPLIED_ALPHA"]=0]="NO_PREMULTIPLIED_ALPHA";t[t["PREMULTIPLY_ON_UPLOAD"]=1]="PREMULTIPLY_ON_UPLOAD";t[t["PREMULTIPLY_ALPHA"]=2]="PREMULTIPLY_ALPHA"})(K||(K={}));var J;(function(t){t[t["NO"]=0]="NO";t[t["YES"]=1]="YES";t[t["AUTO"]=2]="AUTO";t[t["BLEND"]=0]="BLEND";t[t["CLEAR"]=1]="CLEAR";t[t["BLIT"]=2]="BLIT"})(J||(J={}));var Q;(function(t){t[t["AUTO"]=0]="AUTO";t[t["MANUAL"]=1]="MANUAL"})(Q||(Q={}));var tt;(function(t){t["LOW"]="lowp";t["MEDIUM"]="mediump";t["HIGH"]="highp"})(tt||(tt={}));var et;(function(t){t[t["NONE"]=0]="NONE";t[t["SCISSOR"]=1]="SCISSOR";t[t["STENCIL"]=2]="STENCIL";t[t["SPRITE"]=3]="SPRITE"})(et||(et={}));var rt;(function(t){t[t["NONE"]=0]="NONE";t[t["LOW"]=2]="LOW";t[t["MEDIUM"]=4]="MEDIUM";t[t["HIGH"]=8]="HIGH"})(rt||(rt={}));k.RETINA_PREFIX=/@([0-9\.]+)x/;k.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=true;var it=false;var nt="5.3.12";function ot(){it=true}function at(t){var e;if(it){return}if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS "+nt+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=window.console).log.apply(e,r)}else if(window.console){window.console.log("PixiJS "+nt+" - "+t+" - http://www.pixijs.com/")}it=true}var st;function ut(){if(typeof st==="undefined"){st=function t(){var e={stencil:true,failIfMajorPerformanceCaveat:k.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext){return false}var r=document.createElement("canvas");var i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);var n=!!(i&&i.getContextAttributes().stencil);if(i){var o=i.getExtension("WEBGL_lose_context");if(o){o.loseContext()}}i=null;return n}catch(t){return false}}()}return st}function ht(t,e){if(e===void 0){e=[]}e[0]=(t>>16&255)/255;e[1]=(t>>8&255)/255;e[2]=(t&255)/255;return e}function ft(t){var e=t.toString(16);e="000000".substr(0,6-e.length)+e;return"#"+e}function lt(t){if(typeof t==="string"&&t[0]==="#"){t=t.substr(1)}return parseInt(t,16)}function ct(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function dt(){var t=[];var e=[];for(var r=0;r<32;r++){t[r]=r;e[r]=r}t[H.NORMAL_NPM]=H.NORMAL;t[H.ADD_NPM]=H.ADD;t[H.SCREEN_NPM]=H.SCREEN;e[H.NORMAL]=H.NORMAL_NPM;e[H.ADD]=H.ADD_NPM;e[H.SCREEN]=H.SCREEN_NPM;var i=[];i.push(e);i.push(t);return i}var pt=dt();function vt(t,e){return pt[e?1:0][t]}function mt(t,e,r,i){r=r||new Float32Array(4);if(i||i===undefined){r[0]=t[0]*e;r[1]=t[1]*e;r[2]=t[2]*e}else{r[0]=t[0];r[1]=t[1];r[2]=t[2]}r[3]=e;return r}function gt(t,e){if(e===1){return(e*255<<24)+t}if(e===0){return 0}var r=t>>16&255;var i=t>>8&255;var n=t&255;r=r*e+.5|0;i=i*e+.5|0;n=n*e+.5|0;return(e*255<<24)+(r<<16)+(i<<8)+n}function yt(t,e,r,i){r=r||new Float32Array(4);r[0]=(t>>16&255)/255;r[1]=(t>>8&255)/255;r[2]=(t&255)/255;if(i||i===undefined){r[0]*=e;r[1]*=e;r[2]*=e}r[3]=e;return r}function _t(t,e){if(e===void 0){e=null}var r=t*6;e=e||new Uint16Array(r);if(e.length!==r){throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r)}for(var i=0,n=0;i<r;i+=6,n+=4){e[i+0]=n+0;e[i+1]=n+1;e[i+2]=n+2;e[i+3]=n+0;e[i+4]=n+2;e[i+5]=n+3}return e}function bt(t){if(t.BYTES_PER_ELEMENT===4){if(t instanceof Float32Array){return"Float32Array"}else if(t instanceof Uint32Array){return"Uint32Array"}return"Int32Array"}else if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array){return"Uint16Array"}}else if(t.BYTES_PER_ELEMENT===1){if(t instanceof Uint8Array){return"Uint8Array"}}return null}var xt={Float32Array,Uint32Array,Int32Array,Uint8Array};function wt(t,e){var r=0;var i=0;var n={};for(var o=0;o<t.length;o++){i+=e[o];r+=t[o].length}var a=new ArrayBuffer(r*4);var s=null;var u=0;for(var o=0;o<t.length;o++){var h=e[o];var f=t[o];var l=bt(f);if(!n[l]){n[l]=new xt[l](a)}s=n[l];for(var c=0;c<f.length;c++){var d=(c/h|0)*i+u;var p=c%h;s[d+p]=f[c]}u+=h}return new Float32Array(a)}function Et(t){t+=t===0?1:0;--t;t|=t>>>1;t|=t>>>2;t|=t>>>4;t|=t>>>8;t|=t>>>16;return t+1}function Tt(t){return!(t&t-1)&&!!t}function St(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;t>>>=r;e|=r;r=(t>15?1:0)<<2;t>>>=r;e|=r;r=(t>3?1:0)<<1;t>>>=r;e|=r;return e|t>>1}function It(t,e,r){var i=t.length;var n;if(e>=i||r===0){return}r=e+r>i?i-e:r;var o=i-r;for(n=e;n<o;++n){t[n]=t[n+r]}t.length=o}function At(t){if(t===0){return 0}return t<0?-1:1}var Pt=0;function Ot(){return++Pt}var Ct={};function Rt(t,e,r){if(r===void 0){r=3}if(Ct[e]){return}var i=(new Error).stack;if(typeof i==="undefined"){console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t)}else{i=i.split("\n").splice(r).join("\n");if(console.groupCollapsed){console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t);console.warn(i);console.groupEnd()}else{console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t);console.warn(i)}}Ct[e]=true}var Dt={};var Mt=Object.create(null);var kt=Object.create(null);function Nt(){var t;for(t in Mt){Mt[t].destroy()}for(t in kt){kt[t].destroy()}}function Lt(){var t;for(t in Mt){delete Mt[t]}for(t in kt){delete kt[t]}}var Bt=function(){function t(t,e,r){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=r||k.RESOLUTION;this.resize(t,e)}t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution;this.canvas.height=e*this.resolution};t.prototype.destroy=function(){this.context=null;this.canvas=null};Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:false,configurable:true});return t}();function Ft(t){var e=t.width;var r=t.height;var i=t.getContext("2d");var n=i.getImageData(0,0,e,r);var o=n.data;var a=o.length;var s={top:null,left:null,right:null,bottom:null};var u=null;var h;var f;var l;for(h=0;h<a;h+=4){if(o[h+3]!==0){f=h/4%e;l=~~(h/4/e);if(s.top===null){s.top=l}if(s.left===null){s.left=f}else if(f<s.left){s.left=f}if(s.right===null){s.right=f+1}else if(s.right<f){s.right=f+1}if(s.bottom===null){s.bottom=l}else if(s.bottom<l){s.bottom=l}}}if(s.top!==null){e=s.right-s.left;r=s.bottom-s.top+1;u=i.getImageData(s.left,s.top,e,r)}return{height:r,width:e,data:u}}var Ut=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function jt(t){var e=Ut.exec(t);if(e){return{mediaType:e[1]?e[1].toLowerCase():undefined,subType:e[2]?e[2].toLowerCase():undefined,charset:e[3]?e[3].toLowerCase():undefined,encoding:e[4]?e[4].toLowerCase():undefined,data:e[5]}}return undefined}var zt;function Xt(t,e){if(e===void 0){e=window.location}if(t.indexOf("data:")===0){return""}e=e||window.location;if(!zt){zt=document.createElement("a")}zt.href=t;var r=(0,U.parse)(zt.href);var i=!r.port&&e.port===""||r.port===e.port;if(r.hostname!==e.hostname||!i||r.protocol!==e.protocol){return"anonymous"}return""}function Ht(t,e){var r=k.RETINA_PREFIX.exec(t);if(r){return parseFloat(r[1])}return e!==undefined?e:1}var Gt=Math.PI*2;var Wt=180/Math.PI;var Yt=Math.PI/180;var Vt;(function(t){t[t["POLY"]=0]="POLY";t[t["RECT"]=1]="RECT";t[t["CIRC"]=2]="CIRC";t[t["ELIP"]=3]="ELIP";t[t["RREC"]=4]="RREC"})(Vt||(Vt={}));var qt=function(){function t(t,e,r,i){if(t===void 0){t=0}if(e===void 0){e=0}if(r===void 0){r=0}if(i===void 0){i=0}this.x=Number(t);this.y=Number(e);this.width=Number(r);this.height=Number(i);this.type=Vt.RECT}Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:false,configurable:true});Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:false,configurable:true});t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)};t.prototype.copyFrom=function(t){this.x=t.x;this.y=t.y;this.width=t.width;this.height=t.height;return this};t.prototype.copyTo=function(t){t.x=this.x;t.y=this.y;t.width=this.width;t.height=this.height;return t};t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0){return false}if(t>=this.x&&t<this.x+this.width){if(e>=this.y&&e<this.y+this.height){return true}}return false};t.prototype.pad=function(t,e){if(t===void 0){t=0}if(e===void 0){e=t}this.x-=t;this.y-=e;this.width+=t*2;this.height+=e*2;return this};t.prototype.fit=function(t){var e=Math.max(this.x,t.x);var r=Math.min(this.x+this.width,t.x+t.width);var i=Math.max(this.y,t.y);var n=Math.min(this.y+this.height,t.y+t.height);this.x=e;this.width=Math.max(r-e,0);this.y=i;this.height=Math.max(n-i,0);return this};t.prototype.ceil=function(t,e){if(t===void 0){t=1}if(e===void 0){e=.001}var r=Math.ceil((this.x+this.width-e)*t)/t;var i=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t;this.y=Math.floor((this.y+e)*t)/t;this.width=r-this.x;this.height=i-this.y;return this};t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x);var r=Math.max(this.x+this.width,t.x+t.width);var i=Math.min(this.y,t.y);var n=Math.max(this.y+this.height,t.y+t.height);this.x=e;this.width=r-e;this.y=i;this.height=n-i;return this};return t}();var Zt=function(){function t(t,e,r){if(t===void 0){t=0}if(e===void 0){e=0}if(r===void 0){r=0}this.x=t;this.y=e;this.radius=r;this.type=Vt.CIRC}t.prototype.clone=function(){return new t(this.x,this.y,this.radius)};t.prototype.contains=function(t,e){if(this.radius<=0){return false}var r=this.radius*this.radius;var i=this.x-t;var n=this.y-e;i*=i;n*=n;return i+n<=r};t.prototype.getBounds=function(){return new qt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)};return t}();var $t=function(){function t(t,e,r,i){if(t===void 0){t=0}if(e===void 0){e=0}if(r===void 0){r=0}if(i===void 0){i=0}this.x=t;this.y=e;this.width=r;this.height=i;this.type=Vt.ELIP}t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)};t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0){return false}var r=(t-this.x)/this.width;var i=(e-this.y)/this.height;r*=r;i*=i;return r+i<=1};t.prototype.getBounds=function(){return new qt(this.x-this.width,this.y-this.height,this.width,this.height)};return t}();var Kt=function(){function t(){var t=arguments;var e=[];for(var r=0;r<arguments.length;r++){e[r]=t[r]}var i=Array.isArray(e[0])?e[0]:e;if(typeof i[0]!=="number"){var n=[];for(var o=0,a=i.length;o<a;o++){n.push(i[o].x,i[o].y)}i=n}this.points=i;this.type=Vt.POLY;this.closeStroke=true}t.prototype.clone=function(){var e=this.points.slice();var r=new t(e);r.closeStroke=this.closeStroke;return r};t.prototype.contains=function(t,e){var r=false;var i=this.points.length/2;for(var n=0,o=i-1;n<i;o=n++){var a=this.points[n*2];var s=this.points[n*2+1];var u=this.points[o*2];var h=this.points[o*2+1];var f=s>e!==h>e&&t<(u-a)*((e-s)/(h-s))+a;if(f){r=!r}}return r};return t}();var Jt=function(){function t(t,e,r,i,n){if(t===void 0){t=0}if(e===void 0){e=0}if(r===void 0){r=0}if(i===void 0){i=0}if(n===void 0){n=20}this.x=t;this.y=e;this.width=r;this.height=i;this.radius=n;this.type=Vt.RREC}t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)};t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0){return false}if(t>=this.x&&t<=this.x+this.width){if(e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius){return true}var r=t-(this.x+this.radius);var i=e-(this.y+this.radius);var n=this.radius*this.radius;if(r*r+i*i<=n){return true}r=t-(this.x+this.width-this.radius);if(r*r+i*i<=n){return true}i=e-(this.y+this.height-this.radius);if(r*r+i*i<=n){return true}r=t-(this.x+this.radius);if(r*r+i*i<=n){return true}}}return false};return t}();var Qt=function(){function t(t,e){if(t===void 0){t=0}if(e===void 0){e=0}this.x=t;this.y=e}t.prototype.clone=function(){return new t(this.x,this.y)};t.prototype.copyFrom=function(t){this.set(t.x,t.y);return this};t.prototype.copyTo=function(t){t.set(this.x,this.y);return t};t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y};t.prototype.set=function(t,e){if(t===void 0){t=0}if(e===void 0){e=t}this.x=t;this.y=e;return this};return t}();var te=function(){function t(t,e,r,i){if(r===void 0){r=0}if(i===void 0){i=0}this._x=r;this._y=i;this.cb=t;this.scope=e}t.prototype.clone=function(e,r){if(e===void 0){e=this.cb}if(r===void 0){r=this.scope}return new t(e,r,this._x,this._y)};t.prototype.set=function(t,e){if(t===void 0){t=0}if(e===void 0){e=t}if(this._x!==t||this._y!==e){this._x=t;this._y=e;this.cb.call(this.scope)}return this};t.prototype.copyFrom=function(t){if(this._x!==t.x||this._y!==t.y){this._x=t.x;this._y=t.y;this.cb.call(this.scope)}return this};t.prototype.copyTo=function(t){t.set(this._x,this._y);return t};t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y};Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){if(this._x!==t){this._x=t;this.cb.call(this.scope)}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){if(this._y!==t){this._y=t;this.cb.call(this.scope)}},enumerable:false,configurable:true});return t}();var ee=function(){function t(t,e,r,i,n,o){if(t===void 0){t=1}if(e===void 0){e=0}if(r===void 0){r=0}if(i===void 0){i=1}if(n===void 0){n=0}if(o===void 0){o=0}this.array=null;this.a=t;this.b=e;this.c=r;this.d=i;this.tx=n;this.ty=o}t.prototype.fromArray=function(t){this.a=t[0];this.b=t[1];this.c=t[3];this.d=t[4];this.tx=t[2];this.ty=t[5]};t.prototype.set=function(t,e,r,i,n,o){this.a=t;this.b=e;this.c=r;this.d=i;this.tx=n;this.ty=o;return this};t.prototype.toArray=function(t,e){if(!this.array){this.array=new Float32Array(9)}var r=e||this.array;if(t){r[0]=this.a;r[1]=this.b;r[2]=0;r[3]=this.c;r[4]=this.d;r[5]=0;r[6]=this.tx;r[7]=this.ty;r[8]=1}else{r[0]=this.a;r[1]=this.c;r[2]=this.tx;r[3]=this.b;r[4]=this.d;r[5]=this.ty;r[6]=0;r[7]=0;r[8]=1}return r};t.prototype.apply=function(t,e){e=e||new Qt;var r=t.x;var i=t.y;e.x=this.a*r+this.c*i+this.tx;e.y=this.b*r+this.d*i+this.ty;return e};t.prototype.applyInverse=function(t,e){e=e||new Qt;var r=1/(this.a*this.d+this.c*-this.b);var i=t.x;var n=t.y;e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r;e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r;return e};t.prototype.translate=function(t,e){this.tx+=t;this.ty+=e;return this};t.prototype.scale=function(t,e){this.a*=t;this.d*=e;this.c*=t;this.b*=e;this.tx*=t;this.ty*=e;return this};t.prototype.rotate=function(t){var e=Math.cos(t);var r=Math.sin(t);var i=this.a;var n=this.c;var o=this.tx;this.a=i*e-this.b*r;this.b=i*r+this.b*e;this.c=n*e-this.d*r;this.d=n*r+this.d*e;this.tx=o*e-this.ty*r;this.ty=o*r+this.ty*e;return this};t.prototype.append=function(t){var e=this.a;var r=this.b;var i=this.c;var n=this.d;this.a=t.a*e+t.b*i;this.b=t.a*r+t.b*n;this.c=t.c*e+t.d*i;this.d=t.c*r+t.d*n;this.tx=t.tx*e+t.ty*i+this.tx;this.ty=t.tx*r+t.ty*n+this.ty;return this};t.prototype.setTransform=function(t,e,r,i,n,o,a,s,u){this.a=Math.cos(a+u)*n;this.b=Math.sin(a+u)*n;this.c=-Math.sin(a-s)*o;this.d=Math.cos(a-s)*o;this.tx=t-(r*this.a+i*this.c);this.ty=e-(r*this.b+i*this.d);return this};t.prototype.prepend=function(t){var e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var r=this.a;var i=this.c;this.a=r*t.a+this.b*t.c;this.b=r*t.b+this.b*t.d;this.c=i*t.a+this.d*t.c;this.d=i*t.b+this.d*t.d}this.tx=e*t.a+this.ty*t.c+t.tx;this.ty=e*t.b+this.ty*t.d+t.ty;return this};t.prototype.decompose=function(t){var e=this.a;var r=this.b;var i=this.c;var n=this.d;var o=-Math.atan2(-i,n);var a=Math.atan2(r,e);var s=Math.abs(o+a);if(s<1e-5||Math.abs(Gt-s)<1e-5){t.rotation=a;t.skew.x=t.skew.y=0}else{t.rotation=0;t.skew.x=o;t.skew.y=a}t.scale.x=Math.sqrt(e*e+r*r);t.scale.y=Math.sqrt(i*i+n*n);t.position.x=this.tx;t.position.y=this.ty;return t};t.prototype.invert=function(){var t=this.a;var e=this.b;var r=this.c;var i=this.d;var n=this.tx;var o=t*i-e*r;this.a=i/o;this.b=-e/o;this.c=-r/o;this.d=t/o;this.tx=(r*this.ty-i*n)/o;this.ty=-(t*this.ty-e*n)/o;return this};t.prototype.identity=function(){this.a=1;this.b=0;this.c=0;this.d=1;this.tx=0;this.ty=0;return this};t.prototype.clone=function(){var e=new t;e.a=this.a;e.b=this.b;e.c=this.c;e.d=this.d;e.tx=this.tx;e.ty=this.ty;return e};t.prototype.copyTo=function(t){t.a=this.a;t.b=this.b;t.c=this.c;t.d=this.d;t.tx=this.tx;t.ty=this.ty;return t};t.prototype.copyFrom=function(t){this.a=t.a;this.b=t.b;this.c=t.c;this.d=t.d;this.tx=t.tx;this.ty=t.ty;return this};Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:false,configurable:true});Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:false,configurable:true});return t}();var re=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1];var ie=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1];var ne=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1];var oe=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1];var ae=[];var se=[];var ue=Math.sign;function he(){for(var t=0;t<16;t++){var e=[];ae.push(e);for(var r=0;r<16;r++){var i=ue(re[t]*re[r]+ne[t]*ie[r]);var n=ue(ie[t]*re[r]+oe[t]*ie[r]);var o=ue(re[t]*ne[r]+ne[t]*oe[r]);var a=ue(ie[t]*ne[r]+oe[t]*oe[r]);for(var s=0;s<16;s++){if(re[s]===i&&ie[s]===n&&ne[s]===o&&oe[s]===a){e.push(s);break}}}}for(var t=0;t<16;t++){var u=new ee;u.set(re[t],ie[t],ne[t],oe[t],0,0);se.push(u)}}he();var fe={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return re[t]},uY:function(t){return ie[t]},vX:function(t){return ne[t]},vY:function(t){return oe[t]},inv:function(t){if(t&8){return t&15}return-t&7},add:function(t,e){return ae[t][e]},sub:function(t,e){return ae[t][fe.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){if(Math.abs(t)*2<=Math.abs(e)){if(e>=0){return fe.S}return fe.N}else if(Math.abs(e)*2<=Math.abs(t)){if(t>0){return fe.E}return fe.W}else if(e>0){if(t>0){return fe.SE}return fe.SW}else if(t>0){return fe.NE}return fe.NW},matrixAppendRotationInv:function(t,e,r,i){if(r===void 0){r=0}if(i===void 0){i=0}var n=se[fe.inv(e)];n.tx=r;n.ty=i;t.append(n)}};var le=function(){function t(){this.worldTransform=new ee;this.localTransform=new ee;this.position=new te(this.onChange,this,0,0);this.scale=new te(this.onChange,this,1,1);this.pivot=new te(this.onChange,this,0,0);this.skew=new te(this.updateSkew,this,0,0);this._rotation=0;this._cx=1;this._sx=0;this._cy=0;this._sy=1;this._localID=0;this._currentLocalID=0;this._worldID=0;this._parentID=0}t.prototype.onChange=function(){this._localID++};t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y);this._sx=Math.sin(this._rotation+this.skew.y);this._cy=-Math.sin(this._rotation-this.skew.x);this._sy=Math.cos(this._rotation-this.skew.x);this._localID++};t.prototype.updateLocalTransform=function(){var t=this.localTransform;if(this._localID!==this._currentLocalID){t.a=this._cx*this.scale.x;t.b=this._sx*this.scale.x;t.c=this._cy*this.scale.y;t.d=this._sy*this.scale.y;t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c);t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d);this._currentLocalID=this._localID;this._parentID=-1}};t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID){e.a=this._cx*this.scale.x;e.b=this._sx*this.scale.x;e.c=this._cy*this.scale.y;e.d=this._sy*this.scale.y;e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c);e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);this._currentLocalID=this._localID;this._parentID=-1}if(this._parentID!==t._worldID){var r=t.worldTransform;var i=this.worldTransform;i.a=e.a*r.a+e.b*r.c;i.b=e.a*r.b+e.b*r.d;i.c=e.c*r.a+e.d*r.c;i.d=e.c*r.b+e.d*r.d;i.tx=e.tx*r.a+e.ty*r.c+r.tx;i.ty=e.tx*r.b+e.ty*r.d+r.ty;this._parentID=t._worldID;this._worldID++}};t.prototype.setFromMatrix=function(t){t.decompose(this);this._localID++};Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){if(this._rotation!==t){this._rotation=t;this.updateSkew()}},enumerable:false,configurable:true});t.IDENTITY=new t;return t}();k.SORTABLE_CHILDREN=false;var ce=function(){function t(){this.minX=Infinity;this.minY=Infinity;this.maxX=-Infinity;this.maxY=-Infinity;this.rect=null;this.updateID=-1}t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY};t.prototype.clear=function(){this.minX=Infinity;this.minY=Infinity;this.maxX=-Infinity;this.maxY=-Infinity};t.prototype.getRectangle=function(t){if(this.minX>this.maxX||this.minY>this.maxY){return qt.EMPTY}t=t||new qt(0,0,1,1);t.x=this.minX;t.y=this.minY;t.width=this.maxX-this.minX;t.height=this.maxY-this.minY;return t};t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x);this.maxX=Math.max(this.maxX,t.x);this.minY=Math.min(this.minY,t.y);this.maxY=Math.max(this.maxY,t.y)};t.prototype.addQuad=function(t){var e=this.minX;var r=this.minY;var i=this.maxX;var n=this.maxY;var o=t[0];var a=t[1];e=o<e?o:e;r=a<r?a:r;i=o>i?o:i;n=a>n?a:n;o=t[2];a=t[3];e=o<e?o:e;r=a<r?a:r;i=o>i?o:i;n=a>n?a:n;o=t[4];a=t[5];e=o<e?o:e;r=a<r?a:r;i=o>i?o:i;n=a>n?a:n;o=t[6];a=t[7];e=o<e?o:e;r=a<r?a:r;i=o>i?o:i;n=a>n?a:n;this.minX=e;this.minY=r;this.maxX=i;this.maxY=n};t.prototype.addFrame=function(t,e,r,i,n){this.addFrameMatrix(t.worldTransform,e,r,i,n)};t.prototype.addFrameMatrix=function(t,e,r,i,n){var o=t.a;var a=t.b;var s=t.c;var u=t.d;var h=t.tx;var f=t.ty;var l=this.minX;var c=this.minY;var d=this.maxX;var p=this.maxY;var v=o*e+s*r+h;var m=a*e+u*r+f;l=v<l?v:l;c=m<c?m:c;d=v>d?v:d;p=m>p?m:p;v=o*i+s*r+h;m=a*i+u*r+f;l=v<l?v:l;c=m<c?m:c;d=v>d?v:d;p=m>p?m:p;v=o*e+s*n+h;m=a*e+u*n+f;l=v<l?v:l;c=m<c?m:c;d=v>d?v:d;p=m>p?m:p;v=o*i+s*n+h;m=a*i+u*n+f;l=v<l?v:l;c=m<c?m:c;d=v>d?v:d;p=m>p?m:p;this.minX=l;this.minY=c;this.maxX=d;this.maxY=p};t.prototype.addVertexData=function(t,e,r){var i=this.minX;var n=this.minY;var o=this.maxX;var a=this.maxY;for(var s=e;s<r;s+=2){var u=t[s];var h=t[s+1];i=u<i?u:i;n=h<n?h:n;o=u>o?u:o;a=h>a?h:a}this.minX=i;this.minY=n;this.maxX=o;this.maxY=a};t.prototype.addVertices=function(t,e,r,i){this.addVerticesMatrix(t.worldTransform,e,r,i)};t.prototype.addVerticesMatrix=function(t,e,r,i,n,o){if(n===void 0){n=0}if(o===void 0){o=n}var a=t.a;var s=t.b;var u=t.c;var h=t.d;var f=t.tx;var l=t.ty;var c=this.minX;var d=this.minY;var p=this.maxX;var v=this.maxY;for(var m=r;m<i;m+=2){var g=e[m];var y=e[m+1];var _=a*g+u*y+f;var b=h*y+s*g+l;c=Math.min(c,_-n);p=Math.max(p,_+n);d=Math.min(d,b-o);v=Math.max(v,b+o)}this.minX=c;this.minY=d;this.maxX=p;this.maxY=v};t.prototype.addBounds=function(t){var e=this.minX;var r=this.minY;var i=this.maxX;var n=this.maxY;this.minX=t.minX<e?t.minX:e;this.minY=t.minY<r?t.minY:r;this.maxX=t.maxX>i?t.maxX:i;this.maxY=t.maxY>n?t.maxY:n};t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX;var i=t.minY>e.minY?t.minY:e.minY;var n=t.maxX<e.maxX?t.maxX:e.maxX;var o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=o){var a=this.minX;var s=this.minY;var u=this.maxX;var h=this.maxY;this.minX=r<a?r:a;this.minY=i<s?i:s;this.maxX=n>u?n:u;this.maxY=o>h?o:h}};t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)};t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x;var i=t.minY>e.y?t.minY:e.y;var n=t.maxX<e.x+e.width?t.maxX:e.x+e.width;var o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=o){var a=this.minX;var s=this.minY;var u=this.maxX;var h=this.maxY;this.minX=r<a?r:a;this.minY=i<s?i:s;this.maxX=n>u?n:u;this.maxY=o>h?o:h}};t.prototype.pad=function(t,e){if(t===void 0){t=0}if(e===void 0){e=t}if(!this.isEmpty()){this.minX-=t;this.maxX+=t;this.minY-=e;this.maxY+=e}};t.prototype.addFramePad=function(t,e,r,i,n,o){t-=n;e-=o;r+=n;i+=o;this.minX=this.minX<t?this.minX:t;this.maxX=this.maxX>r?this.maxX:r;this.minY=this.minY<e?this.minY:e;this.maxY=this.maxY>i?this.maxY:i};return t}();var de=function(t,e){de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return de(t,e)};function pe(t,e){de(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ve=function(t){pe(e,t);function e(){var e=t.call(this)||this;e.tempDisplayObjectParent=null;e.transform=new le;e.alpha=1;e.visible=true;e.renderable=true;e.parent=null;e.worldAlpha=1;e._lastSortedIndex=0;e._zIndex=0;e.filterArea=null;e.filters=null;e._enabledFilters=null;e._bounds=new ce;e._localBounds=null;e._boundsID=0;e._boundsRect=null;e._localBoundsRect=null;e._mask=null;e._destroyed=false;e.isSprite=false;e.isMask=false;return e}e.mixin=function(t){var r=Object.keys(t);for(var i=0;i<r.length;++i){var n=r[i];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}};e.prototype._recursivePostUpdateTransform=function(){if(this.parent){this.parent._recursivePostUpdateTransform();this.transform.updateTransform(this.parent.transform)}else{this.transform.updateTransform(this._tempDisplayObjectParent.transform)}};e.prototype.updateTransform=function(){this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha};e.prototype.getBounds=function(t,e){if(!t){if(!this.parent){this.parent=this._tempDisplayObjectParent;this.updateTransform();this.parent=null}else{this._recursivePostUpdateTransform();this.updateTransform()}}if(this._bounds.updateID!==this._boundsID){this.calculateBounds();this._bounds.updateID=this._boundsID}if(!e){if(!this._boundsRect){this._boundsRect=new qt}e=this._boundsRect}return this._bounds.getRectangle(e)};e.prototype.getLocalBounds=function(t){if(!t){if(!this._localBoundsRect){this._localBoundsRect=new qt}t=this._localBoundsRect}if(!this._localBounds){this._localBounds=new ce}var e=this.transform;var r=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds;var n=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(false,t);this.parent=r;this.transform=e;this._bounds=i;this._bounds.updateID+=this._boundsID-n;return o};e.prototype.toGlobal=function(t,e,r){if(r===void 0){r=false}if(!r){this._recursivePostUpdateTransform();if(!this.parent){this.parent=this._tempDisplayObjectParent;this.displayObjectUpdateTransform();this.parent=null}else{this.displayObjectUpdateTransform()}}return this.worldTransform.apply(t,e)};e.prototype.toLocal=function(t,e,r,i){if(e){t=e.toGlobal(t,r,i)}if(!i){this._recursivePostUpdateTransform();if(!this.parent){this.parent=this._tempDisplayObjectParent;this.displayObjectUpdateTransform();this.parent=null}else{this.displayObjectUpdateTransform()}}return this.worldTransform.applyInverse(t,r)};e.prototype.setParent=function(t){if(!t||!t.addChild){throw new Error("setParent: Argument must be a Container")}t.addChild(this);return t};e.prototype.setTransform=function(t,e,r,i,n,o,a,s,u){if(t===void 0){t=0}if(e===void 0){e=0}if(r===void 0){r=1}if(i===void 0){i=1}if(n===void 0){n=0}if(o===void 0){o=0}if(a===void 0){a=0}if(s===void 0){s=0}if(u===void 0){u=0}this.position.x=t;this.position.y=e;this.scale.x=!r?1:r;this.scale.y=!i?1:i;this.rotation=n;this.skew.x=o;this.skew.y=a;this.pivot.x=s;this.pivot.y=u;return this};e.prototype.destroy=function(t){if(this.parent){this.parent.removeChild(this)}this.removeAllListeners();this.transform=null;this.parent=null;this._bounds=null;this._mask=null;this.filters=null;this.filterArea=null;this.hitArea=null;this.interactive=false;this.interactiveChildren=false;this._destroyed=true};Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){if(this.tempDisplayObjectParent===null){this.tempDisplayObjectParent=new me}return this.tempDisplayObjectParent},enumerable:false,configurable:true});e.prototype.enableTempParent=function(){var t=this.parent;this.parent=this._tempDisplayObjectParent;return t};e.prototype.disableTempParent=function(t){this.parent=t};Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*Wt},set:function(t){this.transform.rotation=t*Yt},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t;if(this.parent){this.parent.sortDirty=true}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible){return false}t=t.parent}while(t);return true},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){if(this._mask){var e=this._mask.maskObject||this._mask;e.renderable=true;e.isMask=false}this._mask=t;if(this._mask){var e=this._mask.maskObject||this._mask;e.renderable=false;e.isMask=true}},enumerable:false,configurable:true});return e}(L());var me=function(t){pe(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.sortDirty=null;return e}return e}(ve);ve.prototype.displayObjectUpdateTransform=ve.prototype.updateTransform;function ge(t,e){if(t.zIndex===e.zIndex){return t._lastSortedIndex-e._lastSortedIndex}return t.zIndex-e.zIndex}var ye=function(t){pe(e,t);function e(){var e=t.call(this)||this;e.children=[];e.sortableChildren=k.SORTABLE_CHILDREN;e.sortDirty=false;return e}e.prototype.onChildrenChange=function(t){};e.prototype.addChild=function(){var t=arguments;var e=[];for(var r=0;r<arguments.length;r++){e[r]=t[r]}if(e.length>1){for(var i=0;i<e.length;i++){this.addChild(e[i])}}else{var n=e[0];if(n.parent){n.parent.removeChild(n)}n.parent=this;this.sortDirty=true;n.transform._parentID=-1;this.children.push(n);this._boundsID++;this.onChildrenChange(this.children.length-1);this.emit("childAdded",n,this,this.children.length-1);n.emit("added",this)}return e[0]};e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length){throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)}if(t.parent){t.parent.removeChild(t)}t.parent=this;this.sortDirty=true;t.transform._parentID=-1;this.children.splice(e,0,t);this._boundsID++;this.onChildrenChange(e);t.emit("added",this);this.emit("childAdded",t,this,e);return t};e.prototype.swapChildren=function(t,e){if(t===e){return}var r=this.getChildIndex(t);var i=this.getChildIndex(e);this.children[r]=e;this.children[i]=t;this.onChildrenChange(r<i?r:i)};e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(e===-1){throw new Error("The supplied DisplayObject must be a child of the caller")}return e};e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length){throw new Error("The index "+e+" supplied is out of bounds "+this.children.length)}var r=this.getChildIndex(t);It(this.children,r,1);this.children.splice(e,0,t);this.onChildrenChange(e)};e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length){throw new Error("getChildAt: Index ("+t+") does not exist.")}return this.children[t]};e.prototype.removeChild=function(){var t=arguments;var e=[];for(var r=0;r<arguments.length;r++){e[r]=t[r]}if(e.length>1){for(var i=0;i<e.length;i++){this.removeChild(e[i])}}else{var n=e[0];var o=this.children.indexOf(n);if(o===-1){return null}n.parent=null;n.transform._parentID=-1;It(this.children,o,1);this._boundsID++;this.onChildrenChange(o);n.emit("removed",this);this.emit("childRemoved",n,this,o)}return e[0]};e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);e.parent=null;e.transform._parentID=-1;It(this.children,t,1);this._boundsID++;this.onChildrenChange(t);e.emit("removed",this);this.emit("childRemoved",e,this,t);return e};e.prototype.removeChildren=function(t,e){if(t===void 0){t=0}if(e===void 0){e=this.children.length}var r=t;var i=e;var n=i-r;var o;if(n>0&&n<=i){o=this.children.splice(r,n);for(var a=0;a<o.length;++a){o[a].parent=null;if(o[a].transform){o[a].transform._parentID=-1}}this._boundsID++;this.onChildrenChange(t);for(var a=0;a<o.length;++a){o[a].emit("removed",this);this.emit("childRemoved",o[a],this,a)}return o}else if(n===0&&this.children.length===0){return[]}throw new RangeError("removeChildren: numeric values are outside the acceptable range.")};e.prototype.sortChildren=function(){var t=false;for(var e=0,r=this.children.length;e<r;++e){var i=this.children[e];i._lastSortedIndex=e;if(!t&&i.zIndex!==0){t=true}}if(t&&this.children.length>1){this.children.sort(ge)}this.sortDirty=false};e.prototype.updateTransform=function(){if(this.sortableChildren&&this.sortDirty){this.sortChildren()}this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];if(r.visible){r.updateTransform()}}};e.prototype.calculateBounds=function(){this._bounds.clear();this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(!e.visible||!e.renderable){continue}e.calculateBounds();if(e._mask){var r=e._mask.maskObject||e._mask;r.calculateBounds();this._bounds.addBoundsMask(e._bounds,r._bounds)}else if(e.filterArea){this._bounds.addBoundsArea(e._bounds,e.filterArea)}else{this._bounds.addBounds(e._bounds)}}this._bounds.updateID=this._boundsID};e.prototype.getLocalBounds=function(e,r){if(r===void 0){r=false}var i=t.prototype.getLocalBounds.call(this,e);if(!r){for(var n=0,o=this.children.length;n<o;++n){var a=this.children[n];if(a.visible){a.updateTransform()}}}return i};e.prototype._calculateBounds=function(){};e.prototype.render=function(t){if(!this.visible||this.worldAlpha<=0||!this.renderable){return}if(this._mask||this.filters&&this.filters.length){this.renderAdvanced(t)}else{this._render(t);for(var e=0,r=this.children.length;e<r;++e){this.children[e].render(t)}}};e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters;var r=this._mask;if(e){if(!this._enabledFilters){this._enabledFilters=[]}this._enabledFilters.length=0;for(var i=0;i<e.length;i++){if(e[i].enabled){this._enabledFilters.push(e[i])}}if(this._enabledFilters.length){t.filter.push(this,this._enabledFilters)}}if(r){t.mask.push(this,this._mask)}this._render(t);for(var i=0,n=this.children.length;i<n;i++){this.children[i].render(t)}t.batch.flush();if(r){t.mask.pop(this)}if(e&&this._enabledFilters&&this._enabledFilters.length){t.filter.pop()}};e.prototype._render=function(t){};e.prototype.destroy=function(e){t.prototype.destroy.call(this);this.sortDirty=false;var r=typeof e==="boolean"?e:e&&e.children;var i=this.removeChildren(0,this.children.length);if(r){for(var n=0;n<i.length;++n){i[n].destroy(e)}}};Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;if(e!==0){this.scale.x=t/e}else{this.scale.x=1}this._width=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;if(e!==0){this.scale.y=t/e}else{this.scale.y=1}this._height=t},enumerable:false,configurable:true});return e}(ve);ye.prototype.containerUpdateTransform=ye.prototype.updateTransform;var _e={accessible:false,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:false,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:true,renderId:-1};ve.mixin(_e);var be=9;var xe=100;var we=0;var Ee=0;var Te=2;var Se=1;var Ie=-1e3;var Ae=-1e3;var Pe=2;var Oe=function(){function t(t){this._hookDiv=null;if(R.tablet||R.phone){this.createTouchHook()}var e=document.createElement("div");e.style.width=xe+"px";e.style.height=xe+"px";e.style.position="absolute";e.style.top=we+"px";e.style.left=Ee+"px";e.style.zIndex=Te.toString();this.div=e;this.pool=[];this.renderId=0;this.debug=false;this.renderer=t;this.children=[];this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this._isActive=false;this._isMobileAccessibility=false;this.androidUpdateCount=0;this.androidUpdateFrequency=500;window.addEventListener("keydown",this._onKeyDown,false)}Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:false,configurable:true});t.prototype.createTouchHook=function(){var t=this;var e=document.createElement("button");e.style.width=Se+"px";e.style.height=Se+"px";e.style.position="absolute";e.style.top=Ie+"px";e.style.left=Ae+"px";e.style.zIndex=Pe.toString();e.style.backgroundColor="#FF0000";e.title="select to enable accessability for this content";e.addEventListener("focus",(function(){t._isMobileAccessibility=true;t.activate();t.destroyTouchHook()}));document.body.appendChild(e);this._hookDiv=e};t.prototype.destroyTouchHook=function(){if(!this._hookDiv){return}document.body.removeChild(this._hookDiv);this._hookDiv=null};t.prototype.activate=function(){if(this._isActive){return}this._isActive=true;window.document.addEventListener("mousemove",this._onMouseMove,true);window.removeEventListener("keydown",this._onKeyDown,false);this.renderer.on("postrender",this.update,this);if(this.renderer.view.parentNode){this.renderer.view.parentNode.appendChild(this.div)}};t.prototype.deactivate=function(){if(!this._isActive||this._isMobileAccessibility){return}this._isActive=false;window.document.removeEventListener("mousemove",this._onMouseMove,true);window.addEventListener("keydown",this._onKeyDown,false);this.renderer.off("postrender",this.update);if(this.div.parentNode){this.div.parentNode.removeChild(this.div)}};t.prototype.updateAccessibleObjects=function(t){if(!t.visible||!t.accessibleChildren){return}if(t.accessible&&t.interactive){if(!t._accessibleActive){this.addChild(t)}t.renderId=this.renderId}var e=t.children;for(var r=0;r<e.length;r++){this.updateAccessibleObjects(e[r])}};t.prototype.update=function(){var t=performance.now();if(R.android.device&&t<this.androidUpdateCount){return}this.androidUpdateCount=t+this.androidUpdateFrequency;if(!this.renderer.renderingToScreen){return}if(this.renderer._lastObjectRendered){this.updateAccessibleObjects(this.renderer._lastObjectRendered)}var e=this.renderer.view.getBoundingClientRect();var r=this.renderer.resolution;var i=e.width/this.renderer.width*r;var n=e.height/this.renderer.height*r;var o=this.div;o.style.left=e.left+"px";o.style.top=e.top+"px";o.style.width=this.renderer.width+"px";o.style.height=this.renderer.height+"px";for(var a=0;a<this.children.length;a++){var s=this.children[a];if(s.renderId!==this.renderId){s._accessibleActive=false;It(this.children,a,1);this.div.removeChild(s._accessibleDiv);this.pool.push(s._accessibleDiv);s._accessibleDiv=null;a--}else{o=s._accessibleDiv;var u=s.hitArea;var h=s.worldTransform;if(s.hitArea){o.style.left=(h.tx+u.x*h.a)*i+"px";o.style.top=(h.ty+u.y*h.d)*n+"px";o.style.width=u.width*h.a*i+"px";o.style.height=u.height*h.d*n+"px"}else{u=s.getBounds();this.capHitArea(u);o.style.left=u.x*i+"px";o.style.top=u.y*n+"px";o.style.width=u.width*i+"px";o.style.height=u.height*n+"px";if(o.title!==s.accessibleTitle&&s.accessibleTitle!==null){o.title=s.accessibleTitle}if(o.getAttribute("aria-label")!==s.accessibleHint&&s.accessibleHint!==null){o.setAttribute("aria-label",s.accessibleHint)}}if(s.accessibleTitle!==o.title||s.tabIndex!==o.tabIndex){o.title=s.accessibleTitle;o.tabIndex=s.tabIndex;if(this.debug){this.updateDebugHTML(o)}}}}this.renderId++};t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex};t.prototype.capHitArea=function(t){if(t.x<0){t.width+=t.x;t.x=0}if(t.y<0){t.height+=t.y;t.y=0}if(t.x+t.width>this.renderer.width){t.width=this.renderer.width-t.x}if(t.y+t.height>this.renderer.height){t.height=this.renderer.height-t.y}};t.prototype.addChild=function(t){var e=this.pool.pop();if(!e){e=document.createElement("button");e.style.width=xe+"px";e.style.height=xe+"px";e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent";e.style.position="absolute";e.style.zIndex=Te.toString();e.style.borderStyle="none";if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){e.setAttribute("aria-live","off")}else{e.setAttribute("aria-live","polite")}if(navigator.userAgent.match(/rv:.*Gecko\//)){e.setAttribute("aria-relevant","additions")}else{e.setAttribute("aria-relevant","text")}e.addEventListener("click",this._onClick.bind(this));e.addEventListener("focus",this._onFocus.bind(this));e.addEventListener("focusout",this._onFocusOut.bind(this))}e.style.pointerEvents=t.accessiblePointerEvents;e.type=t.accessibleType;if(t.accessibleTitle&&t.accessibleTitle!==null){e.title=t.accessibleTitle}else if(!t.accessibleHint||t.accessibleHint===null){e.title="displayObject "+t.tabIndex}if(t.accessibleHint&&t.accessibleHint!==null){e.setAttribute("aria-label",t.accessibleHint)}if(this.debug){this.updateDebugHTML(e)}t._accessibleActive=true;t._accessibleDiv=e;e.displayObject=t;this.children.push(t);this.div.appendChild(t._accessibleDiv);t._accessibleDiv.tabIndex=t.tabIndex};t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData);e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData);e.dispatchEvent(t.target.displayObject,"tap",e.eventData)};t.prototype._onFocus=function(t){if(!t.target.getAttribute("aria-live")){t.target.setAttribute("aria-live","assertive")}var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)};t.prototype._onFocusOut=function(t){if(!t.target.getAttribute("aria-live")){t.target.setAttribute("aria-live","polite")}var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)};t.prototype._onKeyDown=function(t){if(t.keyCode!==be){return}this.activate()};t.prototype._onMouseMove=function(t){if(t.movementX===0&&t.movementY===0){return}this.deactivate()};t.prototype.destroy=function(){this.destroyTouchHook();this.div=null;window.document.removeEventListener("mousemove",this._onMouseMove,true);window.removeEventListener("keydown",this._onKeyDown);this.pool=null;this.children=null;this.renderer=null};return t}();k.TARGET_FPMS=.06;var Ce;(function(t){t[t["INTERACTION"]=50]="INTERACTION";t[t["HIGH"]=25]="HIGH";t[t["NORMAL"]=0]="NORMAL";t[t["LOW"]=-25]="LOW";t[t["UTILITY"]=-50]="UTILITY"})(Ce||(Ce={}));var Re=function(){function t(t,e,r,i){if(e===void 0){e=null}if(r===void 0){r=0}if(i===void 0){i=false}this.fn=t;this.context=e;this.priority=r;this.once=i;this.next=null;this.previous=null;this._destroyed=false}t.prototype.match=function(t,e){if(e===void 0){e=null}return this.fn===t&&this.context===e};t.prototype.emit=function(t){if(this.fn){if(this.context){this.fn.call(this.context,t)}else{this.fn(t)}}var e=this.next;if(this.once){this.destroy(true)}if(this._destroyed){this.next=null}return e};t.prototype.connect=function(t){this.previous=t;if(t.next){t.next.previous=this}this.next=t.next;t.next=this};t.prototype.destroy=function(t){if(t===void 0){t=false}this._destroyed=true;this.fn=null;this.context=null;if(this.previous){this.previous.next=this.next}if(this.next){this.next.previous=this.previous}var e=this.next;this.next=t?null:e;this.previous=null;return e};return t}();var De=function(){function t(){var t=this;this._head=new Re(null,null,Infinity);this._requestId=null;this._maxElapsedMS=100;this._minElapsedMS=0;this.autoStart=false;this.deltaTime=1;this.deltaMS=1/k.TARGET_FPMS;this.elapsedMS=1/k.TARGET_FPMS;this.lastTime=-1;this.speed=1;this.started=false;this._protected=false;this._lastFrame=-1;this._tick=function(e){t._requestId=null;if(t.started){t.update(e);if(t.started&&t._requestId===null&&t._head.next){t._requestId=requestAnimationFrame(t._tick)}}}}t.prototype._requestIfNeeded=function(){if(this._requestId===null&&this._head.next){this.lastTime=performance.now();this._lastFrame=this.lastTime;this._requestId=requestAnimationFrame(this._tick)}};t.prototype._cancelIfNeeded=function(){if(this._requestId!==null){cancelAnimationFrame(this._requestId);this._requestId=null}};t.prototype._startIfPossible=function(){if(this.started){this._requestIfNeeded()}else if(this.autoStart){this.start()}};t.prototype.add=function(t,e,r){if(r===void 0){r=Ce.NORMAL}return this._addListener(new Re(t,e,r))};t.prototype.addOnce=function(t,e,r){if(r===void 0){r=Ce.NORMAL}return this._addListener(new Re(t,e,r,true))};t.prototype._addListener=function(t){var e=this._head.next;var r=this._head;if(!e){t.connect(r)}else{while(e){if(t.priority>e.priority){t.connect(r);break}r=e;e=e.next}if(!t.previous){t.connect(r)}}this._startIfPossible();return this};t.prototype.remove=function(t,e){var r=this._head.next;while(r){if(r.match(t,e)){r=r.destroy()}else{r=r.next}}if(!this._head.next){this._cancelIfNeeded()}return this};Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head){return 0}var t=0;var e=this._head;while(e=e.next){t++}return t},enumerable:false,configurable:true});t.prototype.start=function(){if(!this.started){this.started=true;this._requestIfNeeded()}};t.prototype.stop=function(){if(this.started){this.started=false;this._cancelIfNeeded()}};t.prototype.destroy=function(){if(!this._protected){this.stop();var t=this._head.next;while(t){t=t.destroy(true)}this._head.destroy();this._head=null}};t.prototype.update=function(t){if(t===void 0){t=performance.now()}var e;if(t>this.lastTime){e=this.elapsedMS=t-this.lastTime;if(e>this._maxElapsedMS){e=this._maxElapsedMS}e*=this.speed;if(this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS){return}this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e;this.deltaTime=this.deltaMS*k.TARGET_FPMS;var i=this._head;var n=i.next;while(n){n=n.emit(this.deltaTime)}if(!i.next){this._cancelIfNeeded()}}else{this.deltaTime=this.deltaMS=this.elapsedMS=0}this.lastTime=t};Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t);var r=Math.min(Math.max(0,e)/1e3,k.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"maxFPS",{get:function(){if(this._minElapsedMS){return Math.round(1e3/this._minElapsedMS)}return 0},set:function(t){if(t===0){this._minElapsedMS=0}else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:false,configurable:true});Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=true;e._protected=true}return t._shared},enumerable:false,configurable:true});Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=true;e._protected=true}return t._system},enumerable:false,configurable:true});return t}();var Me=function(){function t(){}t.init=function(t){var e=this;t=Object.assign({autoStart:true,sharedTicker:false},t);Object.defineProperty(this,"ticker",{set:function(t){if(this._ticker){this._ticker.remove(this.render,this)}this._ticker=t;if(t){t.add(this.render,this,Ce.LOW)}},get:function(){return this._ticker}});this.stop=function(){e._ticker.stop()};this.start=function(){e._ticker.start()};this._ticker=null;this.ticker=t.sharedTicker?De.shared:new De;if(t.autoStart){this.start()}};t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null;t.destroy()}};return t}();var ke=function(){function t(){this.pressure=0;this.rotationAngle=0;this.twist=0;this.tangentialPressure=0;this.global=new Qt;this.target=null;this.originalEvent=null;this.identifier=null;this.isPrimary=false;this.button=0;this.buttons=0;this.width=0;this.height=0;this.tiltX=0;this.tiltY=0;this.pointerType=null;this.pressure=0;this.rotationAngle=0;this.twist=0;this.tangentialPressure=0}Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:false,configurable:true});t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)};t.prototype.copyEvent=function(t){if("isPrimary"in t&&t.isPrimary){this.isPrimary=true}this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which;this.width="width"in t&&t.width;this.height="height"in t&&t.height;this.tiltX="tiltX"in t&&t.tiltX;this.tiltY="tiltY"in t&&t.tiltY;this.pointerType="pointerType"in t&&t.pointerType;this.pressure="pressure"in t&&t.pressure;this.rotationAngle="rotationAngle"in t&&t.rotationAngle;this.twist="twist"in t&&t.twist||0;this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0};t.prototype.reset=function(){this.isPrimary=false};return t}();var Ne=function(t,e){Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return Ne(t,e)};function Le(t,e){Ne(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Be=function(){function t(){this.stopped=false;this.stopsPropagatingAt=null;this.stopPropagationHint=false;this.target=null;this.currentTarget=null;this.type=null;this.data=null}t.prototype.stopPropagation=function(){this.stopped=true;this.stopPropagationHint=true;this.stopsPropagatingAt=this.currentTarget};t.prototype.reset=function(){this.stopped=false;this.stopsPropagatingAt=null;this.stopPropagationHint=false;this.currentTarget=null;this.target=null};return t}();var Fe=function(){function t(e){this._pointerId=e;this._flags=t.FLAGS.NONE}t.prototype._doSet=function(t,e){if(e){this._flags=this._flags|t}else{this._flags=this._flags&~t}};Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:false,configurable:true});t.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2});return t}();var Ue=function(){function t(){this._tempPoint=new Qt}t.prototype.recursiveFindHit=function(t,e,r,i,n){if(!e||!e.visible){return false}var o=t.data.global;n=e.interactive||n;var a=false;var s=n;var u=true;if(e.hitArea){if(i){e.worldTransform.applyInverse(o,this._tempPoint);if(!e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)){i=false;u=false}else{a=true}}s=false}else if(e._mask){if(i){if(!(e._mask.containsPoint&&e._mask.containsPoint(o))){i=false}}}if(u&&e.interactiveChildren&&e.children){var h=e.children;for(var f=h.length-1;f>=0;f--){var l=h[f];var c=this.recursiveFindHit(t,l,r,i,s);if(c){if(!l.parent){continue}s=false;if(c){if(t.target){i=false}a=true}}}}if(n){if(i&&!t.target){if(!e.hitArea&&e.containsPoint){if(e.containsPoint(o)){a=true}}}if(e.interactive){if(a&&!t.target){t.target=e}if(r){r(t,e,!!a)}}}return a};t.prototype.findHit=function(t,e,r,i){this.recursiveFindHit(t,e,r,i,false)};return t}();var je={interactive:false,interactiveChildren:true,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){if(t){this.cursor="pointer"}else if(this.cursor==="pointer"){this.cursor=null}},cursor:null,get trackedPointers(){if(this._trackedPointers===undefined){this._trackedPointers={}}return this._trackedPointers},_trackedPointers:undefined};ve.mixin(je);var ze=1;var Xe={target:null,data:{global:null}};var He=function(t){Le(e,t);function e(e,r){var i=t.call(this)||this;r=r||{};i.renderer=e;i.autoPreventDefault=r.autoPreventDefault!==undefined?r.autoPreventDefault:true;i.interactionFrequency=r.interactionFrequency||10;i.mouse=new ke;i.mouse.identifier=ze;i.mouse.global.set(-999999);i.activeInteractionData={};i.activeInteractionData[ze]=i.mouse;i.interactionDataPool=[];i.eventData=new Be;i.interactionDOMElement=null;i.moveWhenInside=false;i.eventsAdded=false;i.tickerAdded=false;i.mouseOverRenderer=false;i.supportsTouchEvents="ontouchstart"in window;i.supportsPointerEvents=!!window.PointerEvent;i.onPointerUp=i.onPointerUp.bind(i);i.processPointerUp=i.processPointerUp.bind(i);i.onPointerCancel=i.onPointerCancel.bind(i);i.processPointerCancel=i.processPointerCancel.bind(i);i.onPointerDown=i.onPointerDown.bind(i);i.processPointerDown=i.processPointerDown.bind(i);i.onPointerMove=i.onPointerMove.bind(i);i.processPointerMove=i.processPointerMove.bind(i);i.onPointerOut=i.onPointerOut.bind(i);i.processPointerOverOut=i.processPointerOverOut.bind(i);i.onPointerOver=i.onPointerOver.bind(i);i.cursorStyles={default:"inherit",pointer:"pointer"};i.currentCursorMode=null;i.cursor=null;i.resolution=1;i.delayedEvents=[];i.search=new Ue;i._tempDisplayObject=new me;i._useSystemTicker=r.useSystemTicker!==undefined?r.useSystemTicker:true;i.setTargetElement(i.renderer.view,i.renderer.resolution);return i}Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t;if(t){this.addTickerListener()}else{this.removeTickerListener()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:false,configurable:true});e.prototype.hitTest=function(t,e){Xe.target=null;Xe.data.global=t;if(!e){e=this.lastObjectRendered}this.processInteractive(Xe,e,null,true);return Xe.target};e.prototype.setTargetElement=function(t,e){if(e===void 0){e=1}this.removeTickerListener();this.removeEvents();this.interactionDOMElement=t;this.resolution=e;this.addEvents();this.addTickerListener()};e.prototype.addTickerListener=function(){if(this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker){return}De.system.add(this.tickerUpdate,this,Ce.INTERACTION);this.tickerAdded=true};e.prototype.removeTickerListener=function(){if(!this.tickerAdded){return}De.system.remove(this.tickerUpdate,this);this.tickerAdded=false};e.prototype.addEvents=function(){if(this.eventsAdded||!this.interactionDOMElement){return}var t=this.interactionDOMElement.style;if(window.navigator.msPointerEnabled){t.msContentZooming="none";t.msTouchAction="none"}else if(this.supportsPointerEvents){t.touchAction="none"}if(this.supportsPointerEvents){window.document.addEventListener("pointermove",this.onPointerMove,true);this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,true);this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,true);this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,true);window.addEventListener("pointercancel",this.onPointerCancel,true);window.addEventListener("pointerup",this.onPointerUp,true)}else{window.document.addEventListener("mousemove",this.onPointerMove,true);this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,true);this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,true);this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,true);window.addEventListener("mouseup",this.onPointerUp,true)}if(this.supportsTouchEvents){this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,true);this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,true);this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,true);this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,true)}this.eventsAdded=true};e.prototype.removeEvents=function(){if(!this.eventsAdded||!this.interactionDOMElement){return}var t=this.interactionDOMElement.style;if(window.navigator.msPointerEnabled){t.msContentZooming="";t.msTouchAction=""}else if(this.supportsPointerEvents){t.touchAction=""}if(this.supportsPointerEvents){window.document.removeEventListener("pointermove",this.onPointerMove,true);this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,true);this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,true);this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,true);window.removeEventListener("pointercancel",this.onPointerCancel,true);window.removeEventListener("pointerup",this.onPointerUp,true)}else{window.document.removeEventListener("mousemove",this.onPointerMove,true);this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,true);this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,true);this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,true);window.removeEventListener("mouseup",this.onPointerUp,true)}if(this.supportsTouchEvents){this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,true);this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,true);this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,true);this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,true)}this.interactionDOMElement=null;this.eventsAdded=false};e.prototype.tickerUpdate=function(t){this._deltaTime+=t;if(this._deltaTime<this.interactionFrequency){return}this._deltaTime=0;this.update()};e.prototype.update=function(){if(!this.interactionDOMElement){return}if(this._didMove){this._didMove=false;return}this.cursor=null;for(var t in this.activeInteractionData){if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&e.pointerType!=="touch"){var r=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,true)}}}this.setCursorMode(this.cursor)};e.prototype.setCursorMode=function(t){t=t||"default";if(this.currentCursorMode===t){return}this.currentCursorMode=t;var e=this.cursorStyles[t];if(e){switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e);break}}else if(typeof t==="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)){this.interactionDOMElement.style.cursor=t}};e.prototype.dispatchEvent=function(t,e,r){if(!r.stopPropagationHint||t===r.stopsPropagatingAt){r.currentTarget=t;r.type=e;t.emit(e,r);if(t[e]){t[e](r)}}};e.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})};e.prototype.mapPositionToPoint=function(t,e,r){var i;if(!this.interactionDOMElement.parentElement){i={x:0,y:0,width:0,height:0}}else{i=this.interactionDOMElement.getBoundingClientRect()}var n=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n;t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n};e.prototype.processInteractive=function(t,e,r,i){var n=this.search.findHit(t,e,r,i);var o=this.delayedEvents;if(!o.length){return n}t.stopPropagationHint=false;var a=o.length;this.delayedEvents=[];for(var s=0;s<a;s++){var u=o[s],h=u.displayObject,f=u.eventString,l=u.eventData;if(l.stopsPropagatingAt===h){l.stopPropagationHint=true}this.dispatchEvent(h,f,l)}return n};e.prototype.onPointerDown=function(t){if(this.supportsTouchEvents&&t.pointerType==="touch"){return}var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized){var r=t.cancelable||!("cancelable"in t);if(r){t.preventDefault()}}var i=e.length;for(var n=0;n<i;n++){var o=e[n];var a=this.getInteractionDataForPointerId(o);var s=this.configureInteractionEventForDOMEvent(this.eventData,o,a);s.data.originalEvent=t;this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,true);this.emit("pointerdown",s);if(o.pointerType==="touch"){this.emit("touchstart",s)}else if(o.pointerType==="mouse"||o.pointerType==="pen"){var u=o.button===2;this.emit(u?"rightdown":"mousedown",this.eventData)}}};e.prototype.processPointerDown=function(t,e,r){var i=t.data;var n=t.data.identifier;if(r){if(!e.trackedPointers[n]){e.trackedPointers[n]=new Fe(n)}this.dispatchEvent(e,"pointerdown",t);if(i.pointerType==="touch"){this.dispatchEvent(e,"touchstart",t)}else if(i.pointerType==="mouse"||i.pointerType==="pen"){var o=i.button===2;if(o){e.trackedPointers[n].rightDown=true}else{e.trackedPointers[n].leftDown=true}this.dispatchEvent(e,o?"rightdown":"mousedown",t)}}};e.prototype.onPointerComplete=function(t,e,r){var i=this.normalizeToPointerData(t);var n=i.length;var o=t.target!==this.interactionDOMElement?"outside":"";for(var a=0;a<n;a++){var s=i[a];var u=this.getInteractionDataForPointerId(s);var h=this.configureInteractionEventForDOMEvent(this.eventData,s,u);h.data.originalEvent=t;this.processInteractive(h,this.lastObjectRendered,r,e||!o);this.emit(e?"pointercancel":"pointerup"+o,h);if(s.pointerType==="mouse"||s.pointerType==="pen"){var f=s.button===2;this.emit(f?"rightup"+o:"mouseup"+o,h)}else if(s.pointerType==="touch"){this.emit(e?"touchcancel":"touchend"+o,h);this.releaseInteractionDataForPointerId(s.pointerId)}}};e.prototype.onPointerCancel=function(t){if(this.supportsTouchEvents&&t.pointerType==="touch"){return}this.onPointerComplete(t,true,this.processPointerCancel)};e.prototype.processPointerCancel=function(t,e){var r=t.data;var i=t.data.identifier;if(e.trackedPointers[i]!==undefined){delete e.trackedPointers[i];this.dispatchEvent(e,"pointercancel",t);if(r.pointerType==="touch"){this.dispatchEvent(e,"touchcancel",t)}}};e.prototype.onPointerUp=function(t){if(this.supportsTouchEvents&&t.pointerType==="touch"){return}this.onPointerComplete(t,false,this.processPointerUp)};e.prototype.processPointerUp=function(t,e,r){var i=t.data;var n=t.data.identifier;var o=e.trackedPointers[n];var a=i.pointerType==="touch";var s=i.pointerType==="mouse"||i.pointerType==="pen";var u=false;if(s){var h=i.button===2;var f=Fe.FLAGS;var l=h?f.RIGHT_DOWN:f.LEFT_DOWN;var c=o!==undefined&&o.flags&l;if(r){this.dispatchEvent(e,h?"rightup":"mouseup",t);if(c){this.dispatchEvent(e,h?"rightclick":"click",t);u=true}}else if(c){this.dispatchEvent(e,h?"rightupoutside":"mouseupoutside",t)}if(o){if(h){o.rightDown=false}else{o.leftDown=false}}}if(r){this.dispatchEvent(e,"pointerup",t);if(a){this.dispatchEvent(e,"touchend",t)}if(o){if(!s||u){this.dispatchEvent(e,"pointertap",t)}if(a){this.dispatchEvent(e,"tap",t);o.over=false}}}else if(o){this.dispatchEvent(e,"pointerupoutside",t);if(a){this.dispatchEvent(e,"touchendoutside",t)}}if(o&&o.none){delete e.trackedPointers[n]}};e.prototype.onPointerMove=function(t){if(this.supportsTouchEvents&&t.pointerType==="touch"){return}var e=this.normalizeToPointerData(t);if(e[0].pointerType==="mouse"||e[0].pointerType==="pen"){this._didMove=true;this.cursor=null}var r=e.length;for(var i=0;i<r;i++){var n=e[i];var o=this.getInteractionDataForPointerId(n);var a=this.configureInteractionEventForDOMEvent(this.eventData,n,o);a.data.originalEvent=t;this.processInteractive(a,this.lastObjectRendered,this.processPointerMove,true);this.emit("pointermove",a);if(n.pointerType==="touch"){this.emit("touchmove",a)}if(n.pointerType==="mouse"||n.pointerType==="pen"){this.emit("mousemove",a)}}if(e[0].pointerType==="mouse"){this.setCursorMode(this.cursor)}};e.prototype.processPointerMove=function(t,e,r){var i=t.data;var n=i.pointerType==="touch";var o=i.pointerType==="mouse"||i.pointerType==="pen";if(o){this.processPointerOverOut(t,e,r)}if(!this.moveWhenInside||r){this.dispatchEvent(e,"pointermove",t);if(n){this.dispatchEvent(e,"touchmove",t)}if(o){this.dispatchEvent(e,"mousemove",t)}}};e.prototype.onPointerOut=function(t){if(this.supportsTouchEvents&&t.pointerType==="touch"){return}var e=this.normalizeToPointerData(t);var r=e[0];if(r.pointerType==="mouse"){this.mouseOverRenderer=false;this.setCursorMode(null)}var i=this.getInteractionDataForPointerId(r);var n=this.configureInteractionEventForDOMEvent(this.eventData,r,i);n.data.originalEvent=r;this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,false);this.emit("pointerout",n);if(r.pointerType==="mouse"||r.pointerType==="pen"){this.emit("mouseout",n)}else{this.releaseInteractionDataForPointerId(i.identifier)}};e.prototype.processPointerOverOut=function(t,e,r){var i=t.data;var n=t.data.identifier;var o=i.pointerType==="mouse"||i.pointerType==="pen";var a=e.trackedPointers[n];if(r&&!a){a=e.trackedPointers[n]=new Fe(n)}if(a===undefined){return}if(r&&this.mouseOverRenderer){if(!a.over){a.over=true;this.delayDispatchEvent(e,"pointerover",t);if(o){this.delayDispatchEvent(e,"mouseover",t)}}if(o&&this.cursor===null){this.cursor=e.cursor}}else if(a.over){a.over=false;this.dispatchEvent(e,"pointerout",this.eventData);if(o){this.dispatchEvent(e,"mouseout",t)}if(a.none){delete e.trackedPointers[n]}}};e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t);var r=e[0];var i=this.getInteractionDataForPointerId(r);var n=this.configureInteractionEventForDOMEvent(this.eventData,r,i);n.data.originalEvent=r;if(r.pointerType==="mouse"){this.mouseOverRenderer=true}this.emit("pointerover",n);if(r.pointerType==="mouse"||r.pointerType==="pen"){this.emit("mouseover",n)}};e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId;var r;if(e===ze||t.pointerType==="mouse"){r=this.mouse}else if(this.activeInteractionData[e]){r=this.activeInteractionData[e]}else{r=this.interactionDataPool.pop()||new ke;r.identifier=e;this.activeInteractionData[e]=r}r.copyEvent(t);return r};e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];if(e){delete this.activeInteractionData[t];e.reset();this.interactionDataPool.push(e)}};e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){t.data=r;this.mapPositionToPoint(r.global,e.clientX,e.clientY);if(e.pointerType==="touch"){e.globalX=r.global.x;e.globalY=r.global.y}r.originalEvent=e;t.reset();return t};e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent){for(var r=0,i=t.changedTouches.length;r<i;r++){var n=t.changedTouches[r];if(typeof n.button==="undefined"){n.button=t.touches.length?1:0}if(typeof n.buttons==="undefined"){n.buttons=t.touches.length?1:0}if(typeof n.isPrimary==="undefined"){n.isPrimary=t.touches.length===1&&t.type==="touchstart"}if(typeof n.width==="undefined"){n.width=n.radiusX||1}if(typeof n.height==="undefined"){n.height=n.radiusY||1}if(typeof n.tiltX==="undefined"){n.tiltX=0}if(typeof n.tiltY==="undefined"){n.tiltY=0}if(typeof n.pointerType==="undefined"){n.pointerType="touch"}if(typeof n.pointerId==="undefined"){n.pointerId=n.identifier||0}if(typeof n.pressure==="undefined"){n.pressure=n.force||.5}if(typeof n.twist==="undefined"){n.twist=0}if(typeof n.tangentialPressure==="undefined"){n.tangentialPressure=0}if(typeof n.layerX==="undefined"){n.layerX=n.offsetX=n.clientX}if(typeof n.layerY==="undefined"){n.layerY=n.offsetY=n.clientY}n.isNormalized=true;e.push(n)}}else if(t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof window.PointerEvent))){var o=t;if(typeof o.isPrimary==="undefined"){o.isPrimary=true}if(typeof o.width==="undefined"){o.width=1}if(typeof o.height==="undefined"){o.height=1}if(typeof o.tiltX==="undefined"){o.tiltX=0}if(typeof o.tiltY==="undefined"){o.tiltY=0}if(typeof o.pointerType==="undefined"){o.pointerType="mouse"}if(typeof o.pointerId==="undefined"){o.pointerId=ze}if(typeof o.pressure==="undefined"){o.pressure=.5}if(typeof o.twist==="undefined"){o.twist=0}if(typeof o.tangentialPressure==="undefined"){o.tangentialPressure=0}o.isNormalized=true;e.push(o)}else{e.push(t)}return e};e.prototype.destroy=function(){this.removeEvents();this.removeTickerListener();this.removeAllListeners();this.renderer=null;this.mouse=null;this.eventData=null;this.interactionDOMElement=null;this.onPointerDown=null;this.processPointerDown=null;this.onPointerUp=null;this.processPointerUp=null;this.onPointerCancel=null;this.processPointerCancel=null;this.onPointerMove=null;this.processPointerMove=null;this.onPointerOut=null;this.processPointerOverOut=null;this.onPointerOver=null;this.search=null};return e}(L());var Ge=function(){function t(t){this.items=[];this._name=t;this._aliasCount=0}t.prototype.emit=function(t,e,r,i,n,o,a,s){if(arguments.length>8){throw new Error("max arguments reached")}var u=this,h=u.name,f=u.items;this._aliasCount++;for(var l=0,c=f.length;l<c;l++){f[l][h](t,e,r,i,n,o,a,s)}if(f===this.items){this._aliasCount--}return this};t.prototype.ensureNonAliasedItems=function(){if(this._aliasCount>0&&this.items.length>1){this._aliasCount=0;this.items=this.items.slice(0)}};t.prototype.add=function(t){if(t[this._name]){this.ensureNonAliasedItems();this.remove(t);this.items.push(t)}return this};t.prototype.remove=function(t){var e=this.items.indexOf(t);if(e!==-1){this.ensureNonAliasedItems();this.items.splice(e,1)}return this};t.prototype.contains=function(t){return this.items.indexOf(t)!==-1};t.prototype.removeAll=function(){this.ensureNonAliasedItems();this.items.length=0;return this};t.prototype.destroy=function(){this.removeAll();this.items=null;this._name=null};Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:false,configurable:true});return t}();Object.defineProperties(Ge.prototype,{dispatch:{value:Ge.prototype.emit},run:{value:Ge.prototype.emit}});k.PREFER_ENV=R.any?j.WEBGL:j.WEBGL2;k.STRICT_TEXTURE_CACHE=false;var We=[];function Ye(t,e){if(!t){return null}var r="";if(typeof t==="string"){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);if(i){r=i[1].toLowerCase()}}for(var n=We.length-1;n>=0;--n){var o=We[n];if(o.test&&o.test(t,r)){return new o(t,e)}}throw new Error("Unrecognized source type to auto-detect Resource")}var Ve=function(t,e){Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return Ve(t,e)};function qe(t,e){Ve(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ze=function(){function t(t,e){if(t===void 0){t=0}if(e===void 0){e=0}this._width=t;this._height=e;this.destroyed=false;this.internal=false;this.onResize=new Ge("setRealSize");this.onUpdate=new Ge("update");this.onError=new Ge("onError")}t.prototype.bind=function(t){this.onResize.add(t);this.onUpdate.add(t);this.onError.add(t);if(this._width||this._height){this.onResize.emit(this._width,this._height)}};t.prototype.unbind=function(t){this.onResize.remove(t);this.onUpdate.remove(t);this.onError.remove(t)};t.prototype.resize=function(t,e){if(t!==this._width||e!==this._height){this._width=t;this._height=e;this.onResize.emit(t,e)}};Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:false,configurable:true});t.prototype.update=function(){if(!this.destroyed){this.onUpdate.emit()}};t.prototype.load=function(){return Promise.resolve(this)};Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:false,configurable:true});t.prototype.style=function(t,e,r){return false};t.prototype.dispose=function(){};t.prototype.destroy=function(){if(!this.destroyed){this.destroyed=true;this.dispose();this.onError.removeAll();this.onError=null;this.onResize.removeAll();this.onResize=null;this.onUpdate.removeAll();this.onUpdate=null}};t.test=function(t,e){return false};return t}();var $e=function(t){qe(e,t);function e(e,r){var i=this;var n=r||{},o=n.width,a=n.height;if(!o||!a){throw new Error("BufferResource width or height invalid")}i=t.call(this,o,a)||this;i.data=e;return i}e.prototype.upload=function(t,e,r){var i=t.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===K.UNPACK);if(r.width===e.width&&r.height===e.height){i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data)}else{r.width=e.width;r.height=e.height;i.texImage2D(e.target,0,r.internalFormat,e.width,e.height,0,e.format,r.type,this.data)}return true};e.prototype.dispose=function(){this.data=null};e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array};return e}(Ze);var Ke={scaleMode:q.NEAREST,format:W.RGBA,alphaMode:K.NPM};var Je=function(t){qe(e,t);function e(e,r){if(e===void 0){e=null}if(r===void 0){r=null}var i=t.call(this)||this;r=r||{};var n=r.alphaMode,o=r.mipmap,a=r.anisotropicLevel,s=r.scaleMode,u=r.width,h=r.height,f=r.wrapMode,l=r.format,c=r.type,d=r.target,p=r.resolution,v=r.resourceOptions;if(e&&!(e instanceof Ze)){e=Ye(e,v);e.internal=true}i.width=u||0;i.height=h||0;i.resolution=p||k.RESOLUTION;i.mipmap=o!==undefined?o:k.MIPMAP_TEXTURES;i.anisotropicLevel=a!==undefined?a:k.ANISOTROPIC_LEVEL;i.wrapMode=f||k.WRAP_MODE;i.scaleMode=s!==undefined?s:k.SCALE_MODE;i.format=l||W.RGBA;i.type=c||V.UNSIGNED_BYTE;i.target=d||Y.TEXTURE_2D;i.alphaMode=n!==undefined?n:K.UNPACK;if(r.premultiplyAlpha!==undefined){i.premultiplyAlpha=r.premultiplyAlpha}i.uid=Ot();i.touched=0;i.isPowerOfTwo=false;i._refreshPOT();i._glTextures={};i.dirtyId=0;i.dirtyStyleId=0;i.cacheId=null;i.valid=u>0&&h>0;i.textureCacheIds=[];i.destroyed=false;i.resource=null;i._batchEnabled=0;i._batchLocation=0;i.parentTextureArray=null;i.setResource(e);return i}Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:false,configurable:true});e.prototype.setStyle=function(t,e){var r;if(t!==undefined&&t!==this.scaleMode){this.scaleMode=t;r=true}if(e!==undefined&&e!==this.mipmap){this.mipmap=e;r=true}if(r){this.dirtyStyleId++}return this};e.prototype.setSize=function(t,e,r){this.resolution=r||this.resolution;this.width=t;this.height=e;this._refreshPOT();this.update();return this};e.prototype.setRealSize=function(t,e,r){this.resolution=r||this.resolution;this.width=t/this.resolution;this.height=e/this.resolution;this._refreshPOT();this.update();return this};e.prototype._refreshPOT=function(){this.isPowerOfTwo=Tt(this.realWidth)&&Tt(this.realHeight)};e.prototype.setResolution=function(t){var e=this.resolution;if(e===t){return this}this.resolution=t;if(this.valid){this.width=this.width*e/t;this.height=this.height*e/t;this.emit("update",this)}this._refreshPOT();return this};e.prototype.setResource=function(t){if(this.resource===t){return this}if(this.resource){throw new Error("Resource can be set only once")}t.bind(this);this.resource=t;return this};e.prototype.update=function(){if(!this.valid){if(this.width>0&&this.height>0){this.valid=true;this.emit("loaded",this);this.emit("update",this)}}else{this.dirtyId++;this.dirtyStyleId++;this.emit("update",this)}};e.prototype.onError=function(t){this.emit("error",this,t)};e.prototype.destroy=function(){if(this.resource){this.resource.unbind(this);if(this.resource.internal){this.resource.destroy()}this.resource=null}if(this.cacheId){delete kt[this.cacheId];delete Mt[this.cacheId];this.cacheId=null}this.dispose();e.removeFromCache(this);this.textureCacheIds=null;this.destroyed=true};e.prototype.dispose=function(){this.emit("dispose",this)};e.prototype.castToBaseTexture=function(){return this};e.from=function(t,r,i){if(i===void 0){i=k.STRICT_TEXTURE_CACHE}var n=typeof t==="string";var o=null;if(n){o=t}else{if(!t._pixiId){t._pixiId="pixiid_"+Ot()}o=t._pixiId}var a=kt[o];if(n&&i&&!a){throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.')}if(!a){a=new e(t,r);a.cacheId=o;e.addToCache(a,o)}return a};e.fromBuffer=function(t,r,i,n){t=t||new Float32Array(r*i*4);var o=new $e(t,{width:r,height:i});var a=t instanceof Float32Array?V.FLOAT:V.UNSIGNED_BYTE;return new e(o,Object.assign(Ke,n||{width:r,height:i,type:a}))};e.addToCache=function(t,e){if(e){if(t.textureCacheIds.indexOf(e)===-1){t.textureCacheIds.push(e)}if(kt[e]){console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry")}kt[e]=t}};e.removeFromCache=function(t){if(typeof t==="string"){var e=kt[t];if(e){var r=e.textureCacheIds.indexOf(t);if(r>-1){e.textureCacheIds.splice(r,1)}delete kt[t];return e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i){delete kt[t.textureCacheIds[i]]}t.textureCacheIds.length=0;return t}return null};e._globalBatch=0;return e}(L());var Qe=function(t){qe(e,t);function e(e,r){var i=this;var n=r||{},o=n.width,a=n.height;i=t.call(this,o,a)||this;i.items=[];i.itemDirtyIds=[];for(var s=0;s<e;s++){var u=new Je;i.items.push(u);i.itemDirtyIds.push(-2)}i.length=e;i._load=null;i.baseTexture=null;return i}e.prototype.initFromArray=function(t,e){for(var r=0;r<this.length;r++){if(!t[r]){continue}if(t[r].castToBaseTexture){this.addBaseTextureAt(t[r].castToBaseTexture(),r)}else if(t[r]instanceof Ze){this.addResourceAt(t[r],r)}else{this.addResourceAt(Ye(t[r],e),r)}}};e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++){this.items[t].destroy()}this.items=null;this.itemDirtyIds=null;this._load=null};e.prototype.addResourceAt=function(t,e){if(!this.items[e]){throw new Error("Index "+e+" is out of bounds")}if(t.valid&&!this.valid){this.resize(t.width,t.height)}this.items[e].setResource(t);return this};e.prototype.bind=function(e){if(this.baseTexture!==null){throw new Error("Only one base texture per TextureArray is allowed")}t.prototype.bind.call(this,e);for(var r=0;r<this.length;r++){this.items[r].parentTextureArray=e;this.items[r].on("update",e.update,e)}};e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++){this.items[r].parentTextureArray=null;this.items[r].off("update",e.update,e)}};e.prototype.load=function(){var t=this;if(this._load){return this._load}var e=this.items.map((function(t){return t.resource})).filter((function(t){return t}));var r=e.map((function(t){return t.load()}));this._load=Promise.all(r).then((function(){var e=t.items[0],r=e.realWidth,i=e.realHeight;t.resize(r,i);return Promise.resolve(t)}));return this._load};return e}(Ze);var tr=function(t){qe(e,t);function e(e,r){var i=this;var n=r||{},o=n.width,a=n.height;var s;var u;if(Array.isArray(e)){s=e;u=e.length}else{u=e}i=t.call(this,u,{width:o,height:a})||this;if(s){i.initFromArray(s,r)}return i}e.prototype.addBaseTextureAt=function(t,e){if(t.resource){this.addResourceAt(t.resource,e)}else{throw new Error("ArrayResource does not support RenderTexture")}return this};e.prototype.bind=function(e){t.prototype.bind.call(this,e);e.target=Y.TEXTURE_2D_ARRAY};e.prototype.upload=function(t,e,r){var i=this,n=i.length,o=i.itemDirtyIds,a=i.items;var s=t.gl;if(r.dirtyId<0){s.texImage3D(s.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,n,0,e.format,e.type,null)}for(var u=0;u<n;u++){var h=a[u];if(o[u]<h.dirtyId){o[u]=h.dirtyId;if(h.valid){s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,u,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source)}}}return true};return e}(Qe);var er=function(t){qe(e,t);function e(e){var r=this;var i=e;var n=i.naturalWidth||i.videoWidth||i.width;var o=i.naturalHeight||i.videoHeight||i.height;r=t.call(this,n,o)||this;r.source=e;r.noSubImage=false;return r}e.crossOrigin=function(t,e,r){if(r===undefined&&e.indexOf("data:")!==0){t.crossOrigin=Xt(e)}else if(r!==false){t.crossOrigin=typeof r==="string"?r:"anonymous"}};e.prototype.upload=function(t,e,r,i){var n=t.gl;var o=e.realWidth;var a=e.realHeight;i=i||this.source;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===K.UNPACK);if(!this.noSubImage&&e.target===n.TEXTURE_2D&&r.width===o&&r.height===a){n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,i)}else{r.width=o;r.height=a;n.texImage2D(e.target,0,e.format,e.format,e.type,i)}return true};e.prototype.update=function(){if(this.destroyed){return}var e=this.source;var r=e.naturalWidth||e.videoWidth||e.width;var i=e.naturalHeight||e.videoHeight||e.height;this.resize(r,i);t.prototype.update.call(this)};e.prototype.dispose=function(){this.source=null};return e}(Ze);var rr=function(t){qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.test=function(t){var e=window.OffscreenCanvas;if(e&&t instanceof e){return true}return t instanceof HTMLCanvasElement};return e}(er);var ir=function(t){qe(e,t);function e(r,i){var n=this;var o=i||{},a=o.width,s=o.height,u=o.autoLoad,h=o.linkBaseTexture;if(r&&r.length!==e.SIDES){throw new Error("Invalid length. Got "+r.length+", expected 6")}n=t.call(this,6,{width:a,height:s})||this;for(var f=0;f<e.SIDES;f++){n.items[f].target=Y.TEXTURE_CUBE_MAP_POSITIVE_X+f}n.linkBaseTexture=h!==false;if(r){n.initFromArray(r,i)}if(u!==false){n.load()}return n}e.prototype.bind=function(e){t.prototype.bind.call(this,e);e.target=Y.TEXTURE_CUBE_MAP};e.prototype.addBaseTextureAt=function(t,e,r){if(r===undefined){r=this.linkBaseTexture}if(!this.items[e]){throw new Error("Index "+e+" is out of bounds")}if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(t.resource){this.addResourceAt(t.resource,e)}else{throw new Error("CubeResource does not support copying of renderTexture.")}}else{t.target=Y.TEXTURE_CUBE_MAP_POSITIVE_X+e;t.parentTextureArray=this.baseTexture;this.items[e]=t}if(t.valid&&!this.valid){this.resize(t.realWidth,t.realHeight)}this.items[e]=t;return this};e.prototype.upload=function(t,r,i){var n=this.itemDirtyIds;for(var o=0;o<e.SIDES;o++){var a=this.items[o];if(n[o]<a.dirtyId){if(a.valid&&a.resource){a.resource.upload(t,a,i);n[o]=a.dirtyId}else if(n[o]<-1){t.gl.texImage2D(a.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null);n[o]=-1}}}return true};e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES};e.SIDES=6;return e}(Qe);var nr=function(t){qe(e,t);function e(e,r){var i=this;r=r||{};if(!(e instanceof HTMLImageElement)){var n=new Image;er.crossOrigin(n,e,r.crossorigin);n.src=e;e=n}i=t.call(this,e)||this;if(!e.complete&&!!i._width&&!!i._height){i._width=0;i._height=0}i.url=e.src;i._process=null;i.preserveBitmap=false;i.createBitmap=(r.createBitmap!==undefined?r.createBitmap:k.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap;i.alphaMode=typeof r.alphaMode==="number"?r.alphaMode:null;if(r.premultiplyAlpha!==undefined){i.premultiplyAlpha=r.premultiplyAlpha}i.bitmap=null;i._load=null;if(r.autoLoad!==false){i.load()}return i}e.prototype.load=function(t){var e=this;if(this._load){return this._load}if(t!==undefined){this.createBitmap=t}this._load=new Promise((function(t,r){var i=e.source;e.url=i.src;var n=function(){if(e.destroyed){return}i.onload=null;i.onerror=null;e.resize(i.width,i.height);e._load=null;if(e.createBitmap){t(e.process())}else{t(e)}};if(i.complete&&i.src){n()}else{i.onload=n;i.onerror=function(t){r(t);e.onError.emit(t)}}}));return this._load};e.prototype.process=function(){var t=this;var e=this.source;if(this._process!==null){return this._process}if(this.bitmap!==null||!window.createImageBitmap){return Promise.resolve(this)}this._process=window.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===K.UNPACK?"premultiply":"none"}).then((function(e){if(t.destroyed){return Promise.reject()}t.bitmap=e;t.update();t._process=null;return Promise.resolve(t)}));return this._process};e.prototype.upload=function(e,r,i){if(typeof this.alphaMode==="number"){r.alphaMode=this.alphaMode}if(!this.createBitmap){return t.prototype.upload.call(this,e,r,i)}if(!this.bitmap){this.process();if(!this.bitmap){return false}}t.prototype.upload.call(this,e,r,i,this.bitmap);if(!this.preserveBitmap){var n=true;var o=r._glTextures;for(var a in o){var s=o[a];if(s!==i&&s.dirtyId!==r.dirtyId){n=false;break}}if(n){if(this.bitmap.close){this.bitmap.close()}this.bitmap=null}}return true};e.prototype.dispose=function(){this.source.onload=null;this.source.onerror=null;t.prototype.dispose.call(this);if(this.bitmap){this.bitmap.close();this.bitmap=null}this._process=null;this._load=null};e.test=function(t){return typeof t==="string"||t instanceof HTMLImageElement};return e}(er);var or=function(t){qe(e,t);function e(e,r){var i=this;r=r||{};i=t.call(this,document.createElement("canvas"))||this;i._width=0;i._height=0;i.svg=e;i.scale=r.scale||1;i._overrideWidth=r.width;i._overrideHeight=r.height;i._resolve=null;i._crossorigin=r.crossorigin;i._load=null;if(r.autoLoad!==false){i.load()}return i}e.prototype.load=function(){var t=this;if(this._load){return this._load}this._load=new Promise((function(e){t._resolve=function(){t.resize(t.source.width,t.source.height);e(t)};if(/^\<svg/.test(t.svg.trim())){if(!btoa){throw new Error("Your browser doesn't support base64 conversions.")}t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}));return this._load};e.prototype._loadSvg=function(){var t=this;var e=new Image;er.crossOrigin(e,this.svg,this._crossorigin);e.src=this.svg;e.onerror=function(r){if(!t._resolve){return}e.onerror=null;t.onError.emit(r)};e.onload=function(){if(!t._resolve){return}var r=e.width;var i=e.height;if(!r||!i){throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.")}var n=r*t.scale;var o=i*t.scale;if(t._overrideWidth||t._overrideHeight){n=t._overrideWidth||t._overrideHeight/i*r;o=t._overrideHeight||t._overrideWidth/r*i}n=Math.round(n);o=Math.round(o);var a=t.source;a.width=n;a.height=o;a._pixiId="canvas_"+Ot();a.getContext("2d").drawImage(e,0,0,r,i,0,0,n,o);t._resolve();t._resolve=null}};e.getSize=function(t){var r=e.SVG_SIZE.exec(t);var i={};if(r){i[r[1]]=Math.round(parseFloat(r[3]));i[r[5]]=Math.round(parseFloat(r[7]))}return i};e.prototype.dispose=function(){t.prototype.dispose.call(this);this._resolve=null;this._crossorigin=null};e.test=function(t,e){return e==="svg"||typeof t==="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||typeof t==="string"&&t.indexOf("<svg")===0};e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;return e}(er);var ar=function(t){qe(e,t);function e(r,i){var n=this;i=i||{};if(!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto");o.setAttribute("webkit-playsinline","");o.setAttribute("playsinline","");if(typeof r==="string"){r=[r]}var a=r[0].src||r[0];er.crossOrigin(o,a,i.crossorigin);for(var s=0;s<r.length;++s){var u=document.createElement("source");var h=r[s],f=h.src,l=h.mime;f=f||r[s];var c=f.split("?").shift().toLowerCase();var d=c.substr(c.lastIndexOf(".")+1);l=l||e.MIME_TYPES[d]||"video/"+d;u.src=f;u.type=l;o.appendChild(u)}r=o}n=t.call(this,r)||this;n.noSubImage=true;n._autoUpdate=true;n._isConnectedToTicker=false;n._updateFPS=i.updateFPS||0;n._msToNextUpdate=0;n.autoPlay=i.autoPlay!==false;n._load=null;n._resolve=null;n._onCanPlay=n._onCanPlay.bind(n);n._onError=n._onError.bind(n);if(i.autoLoad!==false){n.load()}return n}e.prototype.update=function(e){if(e===void 0){e=0}if(!this.destroyed){var r=De.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r);if(!this._updateFPS||this._msToNextUpdate<=0){t.prototype.update.call(this);this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0}}};e.prototype.load=function(){var t=this;if(this._load){return this._load}var e=this.source;if((e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height){e.complete=true}e.addEventListener("play",this._onPlayStart.bind(this));e.addEventListener("pause",this._onPlayStop.bind(this));if(!this._isSourceReady()){e.addEventListener("canplay",this._onCanPlay);e.addEventListener("canplaythrough",this._onCanPlay);e.addEventListener("error",this._onError,true)}else{this._onCanPlay()}this._load=new Promise((function(r){if(t.valid){r(t)}else{t._resolve=r;e.load()}}));return this._load};e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,true);this.onError.emit(t)};e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&t.paused===false&&t.ended===false&&t.readyState>2};e.prototype._isSourceReady=function(){var t=this.source;return t.readyState===3||t.readyState===4};e.prototype._onPlayStart=function(){if(!this.valid){this._onCanPlay()}if(this.autoUpdate&&!this._isConnectedToTicker){De.shared.add(this.update,this);this._isConnectedToTicker=true}};e.prototype._onPlayStop=function(){if(this._isConnectedToTicker){De.shared.remove(this.update,this);this._isConnectedToTicker=false}};e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay);t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight);if(!e&&this._resolve){this._resolve(this);this._resolve=null}if(this._isSourcePlaying()){this._onPlayStart()}else if(this.autoPlay){t.play()}};e.prototype.dispose=function(){if(this._isConnectedToTicker){De.shared.remove(this.update,this)}var e=this.source;if(e){e.removeEventListener("error",this._onError,true);e.pause();e.src="";e.load()}t.prototype.dispose.call(this)};Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){if(t!==this._autoUpdate){this._autoUpdate=t;if(!this._autoUpdate&&this._isConnectedToTicker){De.shared.remove(this.update,this);this._isConnectedToTicker=false}else if(this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()){De.shared.add(this.update,this);this._isConnectedToTicker=true}}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){if(t!==this._updateFPS){this._updateFPS=t}},enumerable:false,configurable:true});e.test=function(t,r){return t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1};e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};return e}(er);var sr=function(t){qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap};return e}(er);We.push(nr,sr,rr,ar,or,$e,ir,tr);var ur={Resource:Ze,BaseImageResource:er,INSTALLED:We,autoDetectResource:Ye,AbstractMultiResource:Qe,ArrayResource:tr,BufferResource:$e,CanvasResource:rr,CubeResource:ir,ImageResource:nr,SVGResource:or,VideoResource:ar,ImageBitmapResource:sr};var hr=function(){function t(t){this.renderer=t}t.prototype.destroy=function(){this.renderer=null};return t}();var fr=function(t){qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.upload=function(t,e,r){var i=t.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===K.UNPACK);if(r.width===e.width&&r.height===e.height){i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data)}else{r.width=e.width;r.height=e.height;i.texImage2D(e.target,0,t.context.webGLVersion===1?i.DEPTH_COMPONENT:i.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)}return true};return e}($e);var lr=function(){function t(t,e){this.width=Math.ceil(t||100);this.height=Math.ceil(e||100);this.stencil=false;this.depth=false;this.dirtyId=0;this.dirtyFormat=0;this.dirtySize=0;this.depthTexture=null;this.colorTextures=[];this.glFramebuffers={};this.disposeRunner=new Ge("disposeFramebuffer");this.multisample=rt.NONE}Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:false,configurable:true});t.prototype.addColorTexture=function(t,e){if(t===void 0){t=0}this.colorTextures[t]=e||new Je(null,{scaleMode:q.NEAREST,resolution:1,mipmap:$.OFF,width:this.width,height:this.height});this.dirtyId++;this.dirtyFormat++;return this};t.prototype.addDepthTexture=function(t){this.depthTexture=t||new Je(new fr(null,{width:this.width,height:this.height}),{scaleMode:q.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:$.OFF,format:W.DEPTH_COMPONENT,type:V.UNSIGNED_SHORT});this.dirtyId++;this.dirtyFormat++;return this};t.prototype.enableDepth=function(){this.depth=true;this.dirtyId++;this.dirtyFormat++;return this};t.prototype.enableStencil=function(){this.stencil=true;this.dirtyId++;this.dirtyFormat++;return this};t.prototype.resize=function(t,e){t=Math.ceil(t);e=Math.ceil(e);if(t===this.width&&e===this.height){return}this.width=t;this.height=e;this.dirtyId++;this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r];var n=i.resolution;i.setSize(t/n,e/n)}if(this.depthTexture){var n=this.depthTexture.resolution;this.depthTexture.setSize(t/n,e/n)}};t.prototype.dispose=function(){this.disposeRunner.emit(this,false)};t.prototype.destroyDepthTexture=function(){if(this.depthTexture){this.depthTexture.destroy();this.depthTexture=null;++this.dirtyId;++this.dirtyFormat}};return t}();var cr=function(t){qe(e,t);function e(e){var r=this;if(typeof e==="number"){var i=arguments[0];var n=arguments[1];var o=arguments[2];var a=arguments[3];e={width:i,height:n,scaleMode:o,resolution:a}}r=t.call(this,null,e)||this;var s=e||{},u=s.width,h=s.height;r.mipmap=0;r.width=Math.ceil(u)||100;r.height=Math.ceil(h)||100;r.valid=true;r.clearColor=[0,0,0,0];r.framebuffer=new lr(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r);r.maskStack=[];r.filterStack=[{}];return r}e.prototype.resize=function(t,e){t=Math.ceil(t);e=Math.ceil(e);this.framebuffer.resize(t*this.resolution,e*this.resolution)};e.prototype.dispose=function(){this.framebuffer.dispose();t.prototype.dispose.call(this)};e.prototype.destroy=function(){t.prototype.destroy.call(this);this.framebuffer.destroyDepthTexture();this.framebuffer=null};return e}(Je);var dr=function(){function t(){this.x0=0;this.y0=0;this.x1=1;this.y1=0;this.x2=1;this.y2=1;this.x3=0;this.y3=1;this.uvsFloat32=new Float32Array(8)}t.prototype.set=function(t,e,r){var i=e.width;var n=e.height;if(r){var o=t.width/2/i;var a=t.height/2/n;var s=t.x/i+o;var u=t.y/n+a;r=fe.add(r,fe.NW);this.x0=s+o*fe.uX(r);this.y0=u+a*fe.uY(r);r=fe.add(r,2);this.x1=s+o*fe.uX(r);this.y1=u+a*fe.uY(r);r=fe.add(r,2);this.x2=s+o*fe.uX(r);this.y2=u+a*fe.uY(r);r=fe.add(r,2);this.x3=s+o*fe.uX(r);this.y3=u+a*fe.uY(r)}else{this.x0=t.x/i;this.y0=t.y/n;this.x1=(t.x+t.width)/i;this.y1=t.y/n;this.x2=(t.x+t.width)/i;this.y2=(t.y+t.height)/n;this.x3=t.x/i;this.y3=(t.y+t.height)/n}this.uvsFloat32[0]=this.x0;this.uvsFloat32[1]=this.y0;this.uvsFloat32[2]=this.x1;this.uvsFloat32[3]=this.y1;this.uvsFloat32[4]=this.x2;this.uvsFloat32[5]=this.y2;this.uvsFloat32[6]=this.x3;this.uvsFloat32[7]=this.y3};return t}();var pr=new dr;var vr=function(t){qe(e,t);function e(r,i,n,o,a,s){var u=t.call(this)||this;u.noFrame=false;if(!i){u.noFrame=true;i=new qt(0,0,1,1)}if(r instanceof e){r=r.baseTexture}u.baseTexture=r;u._frame=i;u.trim=o;u.valid=false;u._uvs=pr;u.uvMatrix=null;u.orig=n||i;u._rotate=Number(a||0);if(a===true){u._rotate=2}else if(u._rotate%2!==0){throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually")}u.defaultAnchor=s?new Qt(s.x,s.y):new Qt(0,0);u._updateID=0;u.textureCacheIds=[];if(!r.valid){r.once("loaded",u.onBaseTextureUpdated,u)}else if(u.noFrame){if(r.valid){u.onBaseTextureUpdated(r)}}else{u.frame=i}if(u.noFrame){r.on("update",u.onBaseTextureUpdated,u)}return u}e.prototype.update=function(){if(this.baseTexture.resource){this.baseTexture.resource.update()}};e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid){return}this._frame.width=t.width;this._frame.height=t.height;this.valid=true;this.updateUvs()}else{this.frame=this._frame}this.emit("update",this)};e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture;if(r&&r.url&&Mt[r.url]){e.removeFromCache(r.url)}this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this);this.baseTexture.off("update",this.onBaseTextureUpdated,this);this.baseTexture=null}this._frame=null;this._uvs=null;this.trim=null;this.orig=null;this.valid=false;e.removeFromCache(this);this.textureCacheIds=null};e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)};e.prototype.updateUvs=function(){if(this._uvs===pr){this._uvs=new dr}this._uvs.set(this._frame,this.baseTexture,this.rotate);this._updateID++};e.from=function(t,r,i){if(r===void 0){r={}}if(i===void 0){i=k.STRICT_TEXTURE_CACHE}var n=typeof t==="string";var o=null;if(n){o=t}else{if(!t._pixiId){t._pixiId="pixiid_"+Ot()}o=t._pixiId}var a=Mt[o];if(n&&i&&!a){throw new Error('The cacheId "'+o+'" does not exist in TextureCache.')}if(!a){if(!r.resolution){r.resolution=Ht(t)}a=new e(new Je(t,r));a.baseTexture.cacheId=o;Je.addToCache(a.baseTexture,o);e.addToCache(a,o)}return a};e.fromURL=function(t,r){var i=Object.assign({autoLoad:false},r===null||r===void 0?void 0:r.resourceOptions);var n=e.from(t,Object.assign({resourceOptions:i},r),false);var o=n.baseTexture.resource;if(n.baseTexture.valid){return Promise.resolve(n)}return o.load().then((function(){return Promise.resolve(n)}))};e.fromBuffer=function(t,r,i,n){return new e(Je.fromBuffer(t,r,i,n))};e.fromLoader=function(t,r,i){var n=new nr(t);n.url=r;var o=new Je(n,{scaleMode:k.SCALE_MODE,resolution:Ht(r)});var a=new e(o);if(!i){i=r}Je.addToCache(a.baseTexture,i);e.addToCache(a,i);if(i!==r){Je.addToCache(a.baseTexture,r);e.addToCache(a,r)}return a};e.addToCache=function(t,e){if(e){if(t.textureCacheIds.indexOf(e)===-1){t.textureCacheIds.push(e)}if(Mt[e]){console.warn("Texture added to the cache with an id ["+e+"] that already had an entry")}Mt[e]=t}};e.removeFromCache=function(t){if(typeof t==="string"){var e=Mt[t];if(e){var r=e.textureCacheIds.indexOf(t);if(r>-1){e.textureCacheIds.splice(r,1)}delete Mt[t];return e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i){if(Mt[t.textureCacheIds[i]]===t){delete Mt[t.textureCacheIds[i]]}}t.textureCacheIds.length=0;return t}return null};Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t;this.noFrame=false;var e=t.x,r=t.y,i=t.width,n=t.height;var o=e+i>this.baseTexture.width;var a=r+n>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or";var u="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width;var h="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(u+" "+s+" "+h))}this.valid=i&&n&&this.baseTexture.valid;if(!this.trim&&!this.rotate){this.orig=t}if(this.valid){this.updateUvs()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t;if(this.valid){this.updateUvs()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:false,configurable:true});e.prototype.castToBaseTexture=function(){return this.baseTexture};return e}(L());function mr(){var t=document.createElement("canvas");t.width=16;t.height=16;var e=t.getContext("2d");e.fillStyle="white";e.fillRect(0,0,16,16);return new vr(new Je(new rr(t)))}function gr(t){t.destroy=function t(){};t.on=function t(){};t.once=function t(){};t.emit=function t(){}}vr.EMPTY=new vr(new Je);gr(vr.EMPTY);gr(vr.EMPTY.baseTexture);vr.WHITE=mr();gr(vr.WHITE);gr(vr.WHITE.baseTexture);var yr=function(t){qe(e,t);function e(e,r){var i=this;var n=null;if(!(e instanceof cr)){var o=arguments[1];var a=arguments[2];var s=arguments[3];var u=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+a+") instead of the ctor directly.");n=arguments[0];r=null;e=new cr({width:o,height:a,scaleMode:s,resolution:u})}i=t.call(this,e,r)||this;i.legacyRenderer=n;i.valid=true;i.filterFrame=null;i.filterPoolKey=null;i.updateUvs();return i}Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:false,configurable:true});e.prototype.resize=function(t,e,r){if(r===void 0){r=true}t=Math.ceil(t);e=Math.ceil(e);this.valid=t>0&&e>0;this._frame.width=this.orig.width=t;this._frame.height=this.orig.height=e;if(r){this.baseTexture.resize(t,e)}this.updateUvs()};e.prototype.setResolution=function(t){var e=this.baseTexture;if(e.resolution===t){return}e.setResolution(t);this.resize(e.width,e.height,false)};e.create=function(t){if(typeof t==="number"){t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}}return new e(new cr(t))};return e}(vr);var _r=function(){function t(t){this.texturePool={};this.textureOptions=t||{};this.enableFullScreen=false;this._pixelsWidth=0;this._pixelsHeight=0}t.prototype.createTexture=function(t,e){var r=new cr(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new yr(r)};t.prototype.getOptimalTexture=function(e,r,i){if(i===void 0){i=1}var n=t.SCREEN_KEY;e*=i;r*=i;if(!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight){e=Et(e);r=Et(r);n=(e&65535)<<16|r&65535}if(!this.texturePool[n]){this.texturePool[n]=[]}var o=this.texturePool[n].pop();if(!o){o=this.createTexture(e,r)}o.filterPoolKey=n;o.setResolution(i);return o};t.prototype.getFilterTexture=function(t,e){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution);r.filterFrame=t.filterFrame;return r};t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null;this.texturePool[e].push(t)};t.prototype.returnFilterTexture=function(t){this.returnTexture(t)};t.prototype.clear=function(t){t=t!==false;if(t){for(var e in this.texturePool){var r=this.texturePool[e];if(r){for(var i=0;i<r.length;i++){r[i].destroy(true)}}}}this.texturePool={}};t.prototype.setScreenSize=function(e){if(e.width===this._pixelsWidth&&e.height===this._pixelsHeight){return}var r=t.SCREEN_KEY;var i=this.texturePool[r];this.enableFullScreen=e.width>0&&e.height>0;if(i){for(var n=0;n<i.length;n++){i[n].destroy(true)}}this.texturePool[r]=[];this._pixelsWidth=e.width;this._pixelsHeight=e.height};t.SCREEN_KEY="screen";return t}();var br=function(){function t(t,e,r,i,n,o,a){if(e===void 0){e=0}if(r===void 0){r=false}if(i===void 0){i=5126}this.buffer=t;this.size=e;this.normalized=r;this.type=i;this.stride=n;this.start=o;this.instance=a}t.prototype.destroy=function(){this.buffer=null};t.from=function(e,r,i,n,o){return new t(e,r,i,n,o)};return t}();var xr=0;var wr=function(){function t(t,e,r){if(e===void 0){e=true}if(r===void 0){r=false}this.data=t||new Float32Array(1);this._glBuffers={};this._updateID=0;this.index=r;this.static=e;this.id=xr++;this.disposeRunner=new Ge("disposeBuffer")}t.prototype.update=function(t){this.data=t||this.data;this._updateID++};t.prototype.dispose=function(){this.disposeRunner.emit(this,false)};t.prototype.destroy=function(){this.dispose();this.data=null};t.from=function(e){if(e instanceof Array){e=new Float32Array(e)}return new t(e)};return t}();function Er(t){if(t.BYTES_PER_ELEMENT===4){if(t instanceof Float32Array){return"Float32Array"}else if(t instanceof Uint32Array){return"Uint32Array"}return"Int32Array"}else if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array){return"Uint16Array"}}else if(t.BYTES_PER_ELEMENT===1){if(t instanceof Uint8Array){return"Uint8Array"}}return null}var Tr={Float32Array,Uint32Array,Int32Array,Uint8Array};function Sr(t,e){var r=0;var i=0;var n={};for(var o=0;o<t.length;o++){i+=e[o];r+=t[o].length}var a=new ArrayBuffer(r*4);var s=null;var u=0;for(var o=0;o<t.length;o++){var h=e[o];var f=t[o];var l=Er(f);if(!n[l]){n[l]=new Tr[l](a)}s=n[l];for(var c=0;c<f.length;c++){var d=(c/h|0)*i+u;var p=c%h;s[d+p]=f[c]}u+=h}return new Float32Array(a)}var Ir={5126:4,5123:2,5121:1};var Ar=0;var Pr={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};var Or=function(){function t(t,e){if(t===void 0){t=[]}if(e===void 0){e={}}this.buffers=t;this.indexBuffer=null;this.attributes=e;this.glVertexArrayObjects={};this.id=Ar++;this.instanced=false;this.instanceCount=1;this.disposeRunner=new Ge("disposeGeometry");this.refCount=0}t.prototype.addAttribute=function(t,e,r,i,n,o,a,s){if(r===void 0){r=0}if(i===void 0){i=false}if(s===void 0){s=false}if(!e){throw new Error("You must pass a buffer when creating an attribute")}if(!(e instanceof wr)){if(e instanceof Array){e=new Float32Array(e)}e=new wr(e)}var u=t.split("|");if(u.length>1){for(var h=0;h<u.length;h++){this.addAttribute(u[h],e,r,i,n)}return this}var f=this.buffers.indexOf(e);if(f===-1){this.buffers.push(e);f=this.buffers.length-1}this.attributes[t]=new br(f,r,i,n,o,a,s);this.instanced=this.instanced||s;return this};t.prototype.getAttribute=function(t){return this.attributes[t]};t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]};t.prototype.addIndex=function(t){if(!(t instanceof wr)){if(t instanceof Array){t=new Uint16Array(t)}t=new wr(t)}t.index=true;this.indexBuffer=t;if(this.buffers.indexOf(t)===-1){this.buffers.push(t)}return this};t.prototype.getIndex=function(){return this.indexBuffer};t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer){return this}var t=[];var e=[];var r=new wr;var i;for(i in this.attributes){var n=this.attributes[i];var o=this.buffers[n.buffer];t.push(o.data);e.push(n.size*Ir[n.type]/4);n.buffer=0}r.data=Sr(t,e);for(i=0;i<this.buffers.length;i++){if(this.buffers[i]!==this.indexBuffer){this.buffers[i].destroy()}}this.buffers=[r];if(this.indexBuffer){this.buffers.push(this.indexBuffer)}return this};t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];var r=this.buffers[e.buffer];return r.data.length/(e.stride/4||e.size)}return 0};t.prototype.dispose=function(){this.disposeRunner.emit(this,false)};t.prototype.destroy=function(){this.dispose();this.buffers=null;this.indexBuffer=null;this.attributes=null};t.prototype.clone=function(){var e=new t;for(var r=0;r<this.buffers.length;r++){e.buffers[r]=new wr(this.buffers[r].data.slice(0))}for(var r in this.attributes){var i=this.attributes[r];e.attributes[r]=new br(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}if(this.indexBuffer){e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)];e.indexBuffer.index=true}return e};t.merge=function(e){var r=new t;var i=[];var n=[];var o=[];var a;for(var s=0;s<e.length;s++){a=e[s];for(var u=0;u<a.buffers.length;u++){n[u]=n[u]||0;n[u]+=a.buffers[u].data.length;o[u]=0}}for(var s=0;s<a.buffers.length;s++){i[s]=new(Pr[Er(a.buffers[s].data)])(n[s]);r.buffers[s]=new wr(i[s])}for(var s=0;s<e.length;s++){a=e[s];for(var u=0;u<a.buffers.length;u++){i[u].set(a.buffers[u].data,o[u]);o[u]+=a.buffers[u].data.length}}r.attributes=a.attributes;if(a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)];r.indexBuffer.index=true;var h=0;var f=0;var l=0;var c=0;for(var s=0;s<a.buffers.length;s++){if(a.buffers[s]!==a.indexBuffer){c=s;break}}for(var s in a.attributes){var d=a.attributes[s];if((d.buffer|0)===c){f+=d.size*Ir[d.type]/4}}for(var s=0;s<e.length;s++){var p=e[s].indexBuffer.data;for(var u=0;u<p.length;u++){r.indexBuffer.data[u+l]+=h}h+=a.buffers[c].data.length/f;l+=p.length}}return r};return t}();var Cr=function(t){qe(e,t);function e(){var e=t.call(this)||this;e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]);return e}return e}(Or);var Rr=function(t){qe(e,t);function e(){var e=t.call(this)||this;e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);e.uvs=new Float32Array([0,0,1,0,1,1,0,1]);e.vertexBuffer=new wr(e.vertices);e.uvBuffer=new wr(e.uvs);e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]);return e}e.prototype.map=function(t,e){var r=0;var i=0;this.uvs[0]=r;this.uvs[1]=i;this.uvs[2]=r+e.width/t.width;this.uvs[3]=i;this.uvs[4]=r+e.width/t.width;this.uvs[5]=i+e.height/t.height;this.uvs[6]=r;this.uvs[7]=i+e.height/t.height;r=e.x;i=e.y;this.vertices[0]=r;this.vertices[1]=i;this.vertices[2]=r+e.width;this.vertices[3]=i;this.vertices[4]=r+e.width;this.vertices[5]=i+e.height;this.vertices[6]=r;this.vertices[7]=i+e.height;this.invalidate();return this};e.prototype.invalidate=function(){this.vertexBuffer._updateID++;this.uvBuffer._updateID++;return this};return e}(Or);var Dr=0;var Mr=function(){function t(t,e){this.uniforms=t;this.group=true;this.syncUniforms={};this.dirtyId=0;this.id=Dr++;this.static=!!e}t.prototype.update=function(){this.dirtyId++};t.prototype.add=function(e,r,i){this.uniforms[e]=new t(r,i)};t.from=function(e,r){return new t(e,r)};return t}();var kr=function(){function t(){this.renderTexture=null;this.target=null;this.legacy=false;this.resolution=1;this.sourceFrame=new qt;this.destinationFrame=new qt;this.filters=[]}t.prototype.clear=function(){this.target=null;this.filters=null;this.renderTexture=null};return t}();var Nr=function(t){qe(e,t);function e(e){var r=t.call(this,e)||this;r.defaultFilterStack=[{}];r.texturePool=new _r;r.texturePool.setScreenSize(e.view);r.statePool=[];r.quad=new Cr;r.quadUv=new Rr;r.tempRect=new qt;r.activeState={};r.globalUniforms=new Mr({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},true);r.forceClear=false;r.useMaxPadding=false;return r}e.prototype.push=function(t,e){var r=this.renderer;var i=this.defaultFilterStack;var n=this.statePool.pop()||new kr;var o=e[0].resolution;var a=e[0].padding;var s=e[0].autoFit;var u=e[0].legacy;for(var h=1;h<e.length;h++){var f=e[h];o=Math.min(o,f.resolution);a=this.useMaxPadding?Math.max(a,f.padding):a+f.padding;s=s&&f.autoFit;u=u||f.legacy}if(i.length===1){this.defaultFilterStack[0].renderTexture=r.renderTexture.current}i.push(n);n.resolution=o;n.legacy=u;n.target=t;n.sourceFrame.copyFrom(t.filterArea||t.getBounds(true));n.sourceFrame.pad(a);if(s){n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame)}n.sourceFrame.ceil(o);n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o);n.filters=e;n.destinationFrame.width=n.renderTexture.width;n.destinationFrame.height=n.renderTexture.height;var l=this.tempRect;l.width=n.sourceFrame.width;l.height=n.sourceFrame.height;n.renderTexture.filterFrame=n.sourceFrame;r.renderTexture.bind(n.renderTexture,n.sourceFrame,l);r.renderTexture.clear()};e.prototype.pop=function(){var t=this.defaultFilterStack;var e=t.pop();var r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame;i.resolution=e.resolution;var n=i.inputSize;var o=i.inputPixel;var a=i.inputClamp;n[0]=e.destinationFrame.width;n[1]=e.destinationFrame.height;n[2]=1/n[0];n[3]=1/n[1];o[0]=n[0]*e.resolution;o[1]=n[1]*e.resolution;o[2]=1/o[0];o[3]=1/o[1];a[0]=.5*o[2];a[1]=.5*o[3];a[2]=e.sourceFrame.width*n[2]-.5*o[2];a[3]=e.sourceFrame.height*n[3]-.5*o[3];if(e.legacy){var s=i.filterArea;s[0]=e.destinationFrame.width;s[1]=e.destinationFrame.height;s[2]=e.sourceFrame.x;s[3]=e.sourceFrame.y;i.filterClamp=i.inputClamp}this.globalUniforms.update();var u=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1){this.renderer.framebuffer.blit()}if(r.length===1){r[0].apply(this,e.renderTexture,u.renderTexture,J.BLEND,e);this.returnFilterTexture(e.renderTexture)}else{var h=e.renderTexture;var f=this.getOptimalFilterTexture(h.width,h.height,e.resolution);f.filterFrame=h.filterFrame;var l=0;for(l=0;l<r.length-1;++l){r[l].apply(this,h,f,J.CLEAR,e);var c=h;h=f;f=c}r[l].apply(this,h,u.renderTexture,J.BLEND,e);this.returnFilterTexture(h);this.returnFilterTexture(f)}e.clear();this.statePool.push(e)};e.prototype.bindAndClear=function(t,e){if(e===void 0){e=J.CLEAR}if(t&&t.filterFrame){var r=this.tempRect;r.width=t.filterFrame.width;r.height=t.filterFrame.height;this.renderer.renderTexture.bind(t,t.filterFrame,r)}else{this.renderer.renderTexture.bind(t)}if(typeof e==="boolean"){e=e?J.CLEAR:J.BLEND;Rt("5.2.1","Use CLEAR_MODES when using clear applyFilter option")}if(e===J.CLEAR||e===J.BLIT&&this.forceClear){this.renderer.renderTexture.clear()}};e.prototype.applyFilter=function(t,e,r,i){var n=this.renderer;this.bindAndClear(r,i);t.uniforms.uSampler=e;t.uniforms.filterGlobals=this.globalUniforms;n.state.set(t.state);n.shader.bind(t);if(t.legacy){this.quadUv.map(e._frame,e.filterFrame);n.geometry.bind(this.quadUv);n.geometry.draw(G.TRIANGLES)}else{n.geometry.bind(this.quad);n.geometry.draw(G.TRIANGLE_STRIP)}};e.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame;var o=e._texture.orig;var a=t.set(n.width,0,0,n.height,i.x,i.y);var s=e.worldTransform.copyTo(ee.TEMP_MATRIX);s.invert();a.prepend(s);a.scale(1/o.width,1/o.height);a.translate(e.anchor.x,e.anchor.y);return a};e.prototype.destroy=function(){this.texturePool.clear(false)};e.prototype.getOptimalFilterTexture=function(t,e,r){if(r===void 0){r=1}return this.texturePool.getOptimalTexture(t,e,r)};e.prototype.getFilterTexture=function(t,e){if(typeof t==="number"){var r=t;t=e;e=r}t=t||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);i.filterFrame=t.filterFrame;return i};e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)};e.prototype.emptyPool=function(){this.texturePool.clear(true)};e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)};return e}(hr);var Lr=function(){function t(t){this.renderer=t}t.prototype.flush=function(){};t.prototype.destroy=function(){this.renderer=null};t.prototype.start=function(){};t.prototype.stop=function(){this.flush()};t.prototype.render=function(t){};return t}();var Br=function(t){qe(e,t);function e(e){var r=t.call(this,e)||this;r.emptyRenderer=new Lr(e);r.currentRenderer=r.emptyRenderer;return r}e.prototype.setObjectRenderer=function(t){if(this.currentRenderer===t){return}this.currentRenderer.stop();this.currentRenderer=t;this.currentRenderer.start()};e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)};e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)};e.prototype.copyBoundTextures=function(t,e){var r=this.renderer.texture.boundTextures;for(var i=e-1;i>=0;--i){t[i]=r[i]||null;if(t[i]){t[i]._batchLocation=i}}};e.prototype.boundArray=function(t,e,r,i){var n=t.elements,o=t.ids,a=t.count;var s=0;for(var u=0;u<a;u++){var h=n[u];var f=h._batchLocation;if(f>=0&&f<i&&e[f]===h){o[u]=f;continue}while(s<i){var l=e[s];if(l&&l._batchEnabled===r&&l._batchLocation===s){s++;continue}o[u]=s;h._batchLocation=s;e[s]=h;break}}};return e}(hr);var Fr=0;var Ur=function(t){qe(e,t);function e(e){var r=t.call(this,e)||this;r.webGLVersion=1;r.extensions={};r.supports={uint32Indices:false};r.handleContextLost=r.handleContextLost.bind(r);r.handleContextRestored=r.handleContextRestored.bind(r);e.view.addEventListener("webglcontextlost",r.handleContextLost,false);e.view.addEventListener("webglcontextrestored",r.handleContextRestored,false);return r}Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:false,configurable:true});e.prototype.contextChange=function(t){this.gl=t;this.renderer.gl=t;this.renderer.CONTEXT_UID=Fr++;if(t.isContextLost()&&t.getExtension("WEBGL_lose_context")){t.getExtension("WEBGL_lose_context").restoreContext()}};e.prototype.initFromContext=function(t){this.gl=t;this.validateContext(t);this.renderer.gl=t;this.renderer.CONTEXT_UID=Fr++;this.renderer.runners.contextChange.emit(t)};e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)};e.prototype.createContext=function(t,e){var r;if(k.PREFER_ENV>=j.WEBGL2){r=t.getContext("webgl2",e)}if(r){this.webGLVersion=2}else{this.webGLVersion=1;r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r){throw new Error("This browser does not support WebGL. Try using the canvas renderer")}}this.gl=r;this.getExtensions();return this.gl};e.prototype.getExtensions=function(){var t=this.gl;if(this.webGLVersion===1){Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")})}else if(this.webGLVersion===2){Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})}};e.prototype.handleContextLost=function(t){t.preventDefault()};e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)};e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost);t.removeEventListener("webglcontextrestored",this.handleContextRestored);this.gl.useProgram(null);if(this.extensions.loseContext){this.extensions.loseContext.loseContext()}};e.prototype.postrender=function(){if(this.renderer.renderingToScreen){this.gl.flush()}};e.prototype.validateContext=function(t){var e=t.getContextAttributes();var r="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext;if(r){this.webGLVersion=2}if(!e.stencil){console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}var i=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i;if(!i){console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}};return e}(hr);var jr=function(){function t(t){this.framebuffer=t;this.stencil=null;this.dirtyId=0;this.dirtyFormat=0;this.dirtySize=0;this.multisample=rt.NONE;this.msaaBuffer=null;this.blitFramebuffer=null}return t}();var zr=new qt;var Xr=function(t){qe(e,t);function e(e){var r=t.call(this,e)||this;r.managedFramebuffers=[];r.unknownFramebuffer=new lr(10,10);r.msaaSamples=null;return r}e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.current=this.unknownFramebuffer;this.viewport=new qt;this.hasMRT=true;this.writeDepthTexture=true;this.disposeAll(true);if(this.renderer.context.webGLVersion===1){var e=this.renderer.context.extensions.drawBuffers;var r=this.renderer.context.extensions.depthTexture;if(k.PREFER_ENV===j.WEBGL_LEGACY){e=null;r=null}if(e){t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}}else{this.hasMRT=false;t.drawBuffers=function(){}}if(!r){this.writeDepthTexture=false}}else{this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}};e.prototype.bind=function(t,e){var r=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);if(this.current!==t){this.current=t;r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)}if(i.dirtyId!==t.dirtyId){i.dirtyId=t.dirtyId;if(i.dirtyFormat!==t.dirtyFormat){i.dirtyFormat=t.dirtyFormat;this.updateFramebuffer(t)}else if(i.dirtySize!==t.dirtySize){i.dirtySize=t.dirtySize;this.resizeFramebuffer(t)}}for(var n=0;n<t.colorTextures.length;n++){var o=t.colorTextures[n];this.renderer.texture.unbind(o.parentTextureArray||o)}if(t.depthTexture){this.renderer.texture.unbind(t.depthTexture)}if(e){this.setViewport(e.x,e.y,e.width,e.height)}else{this.setViewport(0,0,t.width,t.height)}}else{if(this.current){this.current=null;r.bindFramebuffer(r.FRAMEBUFFER,null)}if(e){this.setViewport(e.x,e.y,e.width,e.height)}else{this.setViewport(0,0,this.renderer.width,this.renderer.height)}}};e.prototype.setViewport=function(t,e,r,i){var n=this.viewport;if(n.width!==r||n.height!==i||n.x!==t||n.y!==e){n.x=t;n.y=e;n.width=r;n.height=i;this.gl.viewport(t,e,r,i)}};Object.defineProperty(e.prototype,"size",{get:function(){if(this.current){return{x:0,y:0,width:this.current.width,height:this.current.height}}return{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:false,configurable:true});e.prototype.clear=function(t,e,r,i,n){if(n===void 0){n=X.COLOR|X.DEPTH}var o=this.gl;o.clearColor(t,e,r,i);o.clear(n)};e.prototype.initFramebuffer=function(t){var e=this.gl;var r=new jr(e.createFramebuffer());r.multisample=this.detectSamples(t.multisample);t.glFramebuffers[this.CONTEXT_UID]=r;this.managedFramebuffers.push(t);t.disposeRunner.add(this);return r};e.prototype.resizeFramebuffer=function(t){var e=this.gl;var r=t.glFramebuffers[this.CONTEXT_UID];if(r.stencil){e.bindRenderbuffer(e.RENDERBUFFER,r.stencil);e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height)}var i=t.colorTextures;for(var n=0;n<i.length;n++){this.renderer.texture.bind(i[n],0)}if(t.depthTexture){this.renderer.texture.bind(t.depthTexture,0)}};e.prototype.updateFramebuffer=function(t){var e=this.gl;var r=t.glFramebuffers[this.CONTEXT_UID];var i=t.colorTextures;var n=i.length;if(!e.drawBuffers){n=Math.min(n,1)}if(r.multisample>1){r.msaaBuffer=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer);e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,r.msaaBuffer)}var o=[];for(var a=0;a<n;a++){if(a===0&&r.multisample>1){continue}var s=t.colorTextures[a];var u=s.parentTextureArray||s;this.renderer.texture.bind(u,0);e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+a,s.target,u._glTextures[this.CONTEXT_UID].texture,0);o.push(e.COLOR_ATTACHMENT0+a)}if(o.length>1){e.drawBuffers(o)}if(t.depthTexture){var h=this.writeDepthTexture;if(h){var f=t.depthTexture;this.renderer.texture.bind(f,0);e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,0)}}if(!r.stencil&&(t.stencil||t.depth)){r.stencil=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,r.stencil);e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height);if(!t.depthTexture){e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil)}}};e.prototype.detectSamples=function(t){var e=this.msaaSamples;var r=rt.NONE;if(t<=1||e===null){return r}for(var i=0;i<e.length;i++){if(e[i]<=t){r=e[i];break}}if(r===1){r=rt.NONE}return r};e.prototype.blit=function(t,e,r){var i=this,n=i.current,o=i.renderer,a=i.gl,s=i.CONTEXT_UID;if(o.context.webGLVersion!==2){return}if(!n){return}var u=n.glFramebuffers[s];if(!u){return}if(!t){if(u.multisample<=1){return}if(!u.blitFramebuffer){u.blitFramebuffer=new lr(n.width,n.height);u.blitFramebuffer.addColorTexture(0,n.colorTextures[0])}t=u.blitFramebuffer;t.width=n.width;t.height=n.height}if(!e){e=zr;e.width=n.width;e.height=n.height}if(!r){r=e}var h=e.width===r.width&&e.height===r.height;this.bind(t);a.bindFramebuffer(a.READ_FRAMEBUFFER,u.framebuffer);a.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,a.COLOR_BUFFER_BIT,h?a.NEAREST:a.LINEAR)};e.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID];var i=this.gl;if(!r){return}delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);if(n>=0){this.managedFramebuffers.splice(n,1)}t.disposeRunner.remove(this);if(!e){i.deleteFramebuffer(r.framebuffer);if(r.stencil){i.deleteRenderbuffer(r.stencil)}}};e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++){this.disposeFramebuffer(e[r],t)}};e.prototype.forceStencil=function(){var t=this.current;if(!t){return}var e=t.glFramebuffers[this.CONTEXT_UID];if(!e||e.stencil){return}t.enableStencil();var r=t.width;var i=t.height;var n=this.gl;var o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o);n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i);e.stencil=o;n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)};e.prototype.reset=function(){this.current=this.unknownFramebuffer;this.viewport=new qt};return e}(hr);var Hr=function(){function t(t){this.buffer=t||null;this.updateID=-1;this.byteLength=-1;this.refCount=0}return t}();var Gr={5126:4,5123:2,5121:1};var Wr=function(t){qe(e,t);function e(e){var r=t.call(this,e)||this;r._activeGeometry=null;r._activeVao=null;r.hasVao=true;r.hasInstance=true;r.canUseUInt32ElementIndex=false;r.managedGeometries={};r.managedBuffers={};return r}e.prototype.contextChange=function(){this.disposeAll(true);var t=this.gl=this.renderer.gl;var e=this.renderer.context;this.CONTEXT_UID=this.renderer.CONTEXT_UID;if(e.webGLVersion!==2){var r=this.renderer.context.extensions.vertexArrayObject;if(k.PREFER_ENV===j.WEBGL_LEGACY){r=null}if(r){t.createVertexArray=function(){return r.createVertexArrayOES()};t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)};t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}}else{this.hasVao=false;t.createVertexArray=function(){return null};t.bindVertexArray=function(){return null};t.deleteVertexArray=function(){return null}}}if(e.webGLVersion!==2){var i=t.getExtension("ANGLE_instanced_arrays");if(i){t.vertexAttribDivisor=function(t,e){return i.vertexAttribDivisorANGLE(t,e)};t.drawElementsInstanced=function(t,e,r,n,o){return i.drawElementsInstancedANGLE(t,e,r,n,o)};t.drawArraysInstanced=function(t,e,r,n){return i.drawArraysInstancedANGLE(t,e,r,n)}}else{this.hasInstance=false}}this.canUseUInt32ElementIndex=e.webGLVersion===2||!!e.extensions.uint32ElementIndex};e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl;var i=t.glVertexArrayObjects[this.CONTEXT_UID];var n=false;if(!i){this.managedGeometries[t.id]=t;t.disposeRunner.add(this);t.glVertexArrayObjects[this.CONTEXT_UID]=i={};n=true}var o=i[e.program.id]||this.initGeometryVao(t,e.program,n);this._activeGeometry=t;if(this._activeVao!==o){this._activeVao=o;if(this.hasVao){r.bindVertexArray(o)}else{this.activateVao(t,e.program)}}this.updateBuffers()};e.prototype.reset=function(){this.unbind()};e.prototype.updateBuffers=function(){var t=this._activeGeometry;var e=this.gl;for(var r=0;r<t.buffers.length;r++){var i=t.buffers[r];var n=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==n.updateID){n.updateID=i._updateID;var o=i.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;e.bindBuffer(o,n.buffer);this._boundBuffer=n;if(n.byteLength>=i.data.byteLength){e.bufferSubData(o,0,i.data)}else{var a=i.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=i.data.byteLength;e.bufferData(o,i.data,a)}}}};e.prototype.checkCompatibility=function(t,e){var r=t.attributes;var i=e.attributeData;for(var n in i){if(!r[n]){throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')}}};e.prototype.getSignature=function(t,e){var r=t.attributes;var i=e.attributeData;var n=["g",t.id];for(var o in r){if(i[o]){n.push(o)}}return n.join("-")};e.prototype.initGeometryVao=function(t,e,r){if(r===void 0){r=true}this.checkCompatibility(t,e);var i=this.gl;var n=this.CONTEXT_UID;var o=this.getSignature(t,e);var a=t.glVertexArrayObjects[this.CONTEXT_UID];var s=a[o];if(s){a[e.id]=s;return s}var u=t.buffers;var h=t.attributes;var f={};var l={};for(var c in u){f[c]=0;l[c]=0}for(var c in h){if(!h[c].size&&e.attributeData[c]){h[c].size=e.attributeData[c].size}else if(!h[c].size){console.warn("PIXI Geometry attribute '"+c+"' size cannot be determined (likely the bound shader does not have the attribute)")}f[h[c].buffer]+=h[c].size*Gr[h[c].type]}for(var c in h){var d=h[c];var p=d.size;if(d.stride===undefined){if(f[d.buffer]===p*Gr[d.type]){d.stride=0}else{d.stride=f[d.buffer]}}if(d.start===undefined){d.start=l[d.buffer];l[d.buffer]+=p*Gr[d.type]}}s=i.createVertexArray();i.bindVertexArray(s);for(var v=0;v<u.length;v++){var m=u[v];if(!m._glBuffers[n]){m._glBuffers[n]=new Hr(i.createBuffer());this.managedBuffers[m.id]=m;m.disposeRunner.add(this)}if(r){m._glBuffers[n].refCount++}}this.activateVao(t,e);this._activeVao=s;a[e.id]=s;a[o]=s;return s};e.prototype.disposeBuffer=function(t,e){if(!this.managedBuffers[t.id]){return}delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID];var i=this.gl;t.disposeRunner.remove(this);if(!r){return}if(!e){i.deleteBuffer(r.buffer)}delete t._glBuffers[this.CONTEXT_UID]};e.prototype.disposeGeometry=function(t,e){if(!this.managedGeometries[t.id]){return}delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID];var i=this.gl;var n=t.buffers;t.disposeRunner.remove(this);if(!r){return}for(var o=0;o<n.length;o++){var a=n[o]._glBuffers[this.CONTEXT_UID];a.refCount--;if(a.refCount===0&&!e){this.disposeBuffer(n[o],e)}}if(!e){for(var s in r){if(s[0]==="g"){var u=r[s];if(this._activeVao===u){this.unbind()}i.deleteVertexArray(u)}}}delete t.glVertexArrayObjects[this.CONTEXT_UID]};e.prototype.disposeAll=function(t){var e=Object.keys(this.managedGeometries);for(var r=0;r<e.length;r++){this.disposeGeometry(this.managedGeometries[e[r]],t)}e=Object.keys(this.managedBuffers);for(var r=0;r<e.length;r++){this.disposeBuffer(this.managedBuffers[e[r]],t)}};e.prototype.activateVao=function(t,e){var r=this.gl;var i=this.CONTEXT_UID;var n=t.buffers;var o=t.attributes;if(t.indexBuffer){r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[i].buffer)}var a=null;for(var s in o){var u=o[s];var h=n[u.buffer];var f=h._glBuffers[i];if(e.attributeData[s]){if(a!==f){r.bindBuffer(r.ARRAY_BUFFER,f.buffer);a=f}var l=e.attributeData[s].location;r.enableVertexAttribArray(l);r.vertexAttribPointer(l,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start);if(u.instance){if(this.hasInstance){r.vertexAttribDivisor(l,1)}else{throw new Error("geometry error, GPU Instancing is not supported on this device")}}}}};e.prototype.draw=function(t,e,r,i){var n=this.gl;var o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT;var s=a===2?n.UNSIGNED_SHORT:n.UNSIGNED_INT;if(a===2||a===4&&this.canUseUInt32ElementIndex){if(o.instanced){n.drawElementsInstanced(t,e||o.indexBuffer.data.length,s,(r||0)*a,i||1)}else{n.drawElements(t,e||o.indexBuffer.data.length,s,(r||0)*a)}}else{console.warn("unsupported index buffer type: uint32")}}else if(o.instanced){n.drawArraysInstanced(t,r,e||o.getSize(),i||1)}else{n.drawArrays(t,r,e||o.getSize())}return this};e.prototype.unbind=function(){this.gl.bindVertexArray(null);this._activeVao=null;this._activeGeometry=null};return e}(hr);var Yr=function(){function t(t){if(t===void 0){t=null}this.type=et.NONE;this.autoDetect=true;this.maskObject=t||null;this.pooled=false;this.isMaskData=true;this._stencilCounter=0;this._scissorCounter=0;this._scissorRect=null;this._target=null}t.prototype.reset=function(){if(this.pooled){this.maskObject=null;this.type=et.NONE;this.autoDetect=true}this._target=null};t.prototype.copyCountersOrReset=function(t){if(t){this._stencilCounter=t._stencilCounter;this._scissorCounter=t._scissorCounter;this._scissorRect=t._scissorRect}else{this._stencilCounter=0;this._scissorCounter=0;this._scissorRect=null}};return t}();function Vr(t,e,r){var i=t.createShader(e);t.shaderSource(i,r);t.compileShader(i);return i}function qr(t,e,r,i){var n=Vr(t,t.VERTEX_SHADER,e);var o=Vr(t,t.FRAGMENT_SHADER,r);var a=t.createProgram();t.attachShader(a,n);t.attachShader(a,o);if(i){for(var s in i){t.bindAttribLocation(a,i[s],s)}}t.linkProgram(a);if(!t.getProgramParameter(a,t.LINK_STATUS)){if(!t.getShaderParameter(n,t.COMPILE_STATUS)){console.warn(e);console.error(t.getShaderInfoLog(n))}if(!t.getShaderParameter(o,t.COMPILE_STATUS)){console.warn(r);console.error(t.getShaderInfoLog(o))}console.error("Pixi.js Error: Could not initialize shader.");console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS));console.error("gl.getError()",t.getError());if(t.getProgramInfoLog(a)!==""){console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a))}t.deleteProgram(a);a=null}t.deleteShader(n);t.deleteShader(o);return a}function Zr(t){var e=new Array(t);for(var r=0;r<e.length;r++){e[r]=false}return e}function $r(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return false;case"bvec2":return Zr(2*e);case"bvec3":return Zr(3*e);case"bvec4":return Zr(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Kr={};var Jr=Kr;function Qr(){if(Jr===Kr||Jr&&Jr.isContextLost()){var t=document.createElement("canvas");var e=void 0;if(k.PREFER_ENV>=j.WEBGL2){e=t.getContext("webgl2",{})}if(!e){e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{});if(!e){e=null}else{e.getExtension("WEBGL_draw_buffers")}}Jr=e}return Jr}var ti;function ei(){if(!ti){ti=tt.MEDIUM;var t=Qr();if(t){if(t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);ti=e.precision?tt.HIGH:tt.MEDIUM}}}return ti}function ri(t,e,r){if(t.substring(0,9)!=="precision"){var i=e;if(e===tt.HIGH&&r!==tt.HIGH){i=tt.MEDIUM}return"precision "+i+" float;\n"+t}else if(r!==tt.HIGH&&t.substring(0,15)==="precision highp"){return t.replace("precision highp","precision mediump")}return t}var ii={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function ni(t){return ii[t]}var oi=null;var ai={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function si(t,e){if(!oi){var r=Object.keys(ai);oi={};for(var i=0;i<r.length;++i){var n=r[i];oi[t[n]]=ai[n]}}return oi[e]}var ui=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&e.a!==undefined},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&e.x!==undefined},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&e.width!==undefined},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}];var hi={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"};var fi={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function li(t,e){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var i in t.uniforms){var n=e[i];if(!n){if(t.uniforms[i].group){r.push('\n                    renderer.shader.syncUniformGroup(uv["'+i+'"], syncData);\n                ')}continue}var o=t.uniforms[i];var a=false;for(var s=0;s<ui.length;s++){if(ui[s].test(n,o)){r.push(ui[s].code(i,o));a=true;break}}if(!a){var u=n.size===1?hi:fi;var h=u[n.type].replace("location",'ud["'+i+'"].location');r.push('\n            cv = ud["'+i+'"].value;\n            v = uv["'+i+'"];\n            '+h+";")}}return new Function("ud","uv","renderer","syncData",r.join("\n"))}var ci=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function di(t){var e="";for(var r=0;r<t;++r){if(r>0){e+="\nelse "}if(r<t-1){e+="if(test == "+r+".0){}"}}return e}function pi(t,e){if(t===0){throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`")}var r=e.createShader(e.FRAGMENT_SHADER);while(true){var i=ci.replace(/%forloop%/gi,di(t));e.shaderSource(r,i);e.compileShader(r);if(!e.getShaderParameter(r,e.COMPILE_STATUS)){t=t/2|0}else{break}}return t}var vi;function mi(){if(typeof vi==="boolean"){return vi}try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");vi=t({a:"b"},"a","b")===true}catch(t){vi=false}return vi}var gi="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}";var yi="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n";var _i=0;var bi={};var xi=function(){function t(e,r,i){if(i===void 0){i="pixi-shader"}this.id=_i++;this.vertexSrc=e||t.defaultVertexSrc;this.fragmentSrc=r||t.defaultFragmentSrc;this.vertexSrc=this.vertexSrc.trim();this.fragmentSrc=this.fragmentSrc.trim();if(this.vertexSrc.substring(0,8)!=="#version"){i=i.replace(/\s+/g,"-");if(bi[i]){bi[i]++;i+="-"+bi[i]}else{bi[i]=1}this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc;this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc;this.vertexSrc=ri(this.vertexSrc,k.PRECISION_VERTEX,tt.HIGH);this.fragmentSrc=ri(this.fragmentSrc,k.PRECISION_FRAGMENT,ei())}this.extractData(this.vertexSrc,this.fragmentSrc);this.glPrograms={};this.syncUniforms=null}t.prototype.extractData=function(t,e){var r=Qr();if(r){var i=qr(r,t,e);this.attributeData=this.getAttributeData(i,r);this.uniformData=this.getUniformData(i,r);r.deleteProgram(i)}else{this.uniformData={};this.attributeData={}}};t.prototype.getAttributeData=function(t,e){var r={};var i=[];var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(var o=0;o<n;o++){var a=e.getActiveAttrib(t,o);var s=si(e,a.type);var u={type:s,name:a.name,size:ni(s),location:0};r[a.name]=u;i.push(u)}i.sort((function(t,e){return t.name>e.name?1:-1}));for(var o=0;o<i.length;o++){i[o].location=o}return r};t.prototype.getUniformData=function(t,e){var r={};var i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(var n=0;n<i;n++){var o=e.getActiveUniform(t,n);var a=o.name.replace(/\[.*?\]$/,"");var s=o.name.match(/\[.*?\]$/);var u=si(e,o.type);r[a]={type:u,size:o.size,isArray:s,value:$r(u,o.size)}}return r};Object.defineProperty(t,"defaultVertexSrc",{get:function(){return yi},enumerable:false,configurable:true});Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return gi},enumerable:false,configurable:true});t.from=function(e,r,i){var n=e+r;var o=Dt[n];if(!o){Dt[n]=o=new t(e,r,i)}return o};return t}();var wi=function(){function t(t,e){this.program=t;if(e){if(e instanceof Mr){this.uniformGroup=e}else{this.uniformGroup=new Mr(e)}}else{this.uniformGroup=new Mr({})}for(var r in t.uniformData){if(this.uniformGroup.uniforms[r]instanceof Array){this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r])}}}t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t]){return true}for(var r in e.uniforms){var i=e.uniforms[r];if(i.group){if(this.checkUniformExists(t,i)){return true}}}return false};t.prototype.destroy=function(){this.uniformGroup=null};Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:false,configurable:true});t.from=function(e,r,i){var n=xi.from(e,r);return new t(n,i)};return t}();var Ei=0;var Ti=1;var Si=2;var Ii=3;var Ai=4;var Pi=function(){function t(){this.data=0;this.blendMode=H.NORMAL;this.polygonOffset=0;this.blend=true}Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<Ei)},set:function(t){if(!!(this.data&1<<Ei)!==t){this.data^=1<<Ei}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<Ti)},set:function(t){if(!!(this.data&1<<Ti)!==t){this.data^=1<<Ti}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<Si)},set:function(t){if(!!(this.data&1<<Si)!==t){this.data^=1<<Si}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<Ii)},set:function(t){if(!!(this.data&1<<Ii)!==t){this.data^=1<<Ii}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<Ai)},set:function(t){if(!!(this.data&1<<Ai)!==t){this.data^=1<<Ai}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==H.NONE;this._blendMode=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t;this._polygonOffset=t},enumerable:false,configurable:true});t.for2d=function(){var e=new t;e.depthTest=false;e.blend=true;return e};return t}();var Oi="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";var Ci="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n";var Ri=function(t){qe(e,t);function e(r,i,n){var o=this;var a=xi.from(r||e.defaultVertexSrc,i||e.defaultFragmentSrc);o=t.call(this,a,n)||this;o.padding=0;o.resolution=k.FILTER_RESOLUTION;o.enabled=true;o.autoFit=true;o.legacy=!!o.program.attributeData.aTextureCoord;o.state=new Pi;return o}e.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i)};Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:false,configurable:true});Object.defineProperty(e,"defaultVertexSrc",{get:function(){return Oi},enumerable:false,configurable:true});Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return Ci},enumerable:false,configurable:true});return e}(wi);var Di="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n";var Mi="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n";var ki=new ee;var Ni=function(){function t(t,e){this._texture=t;this.mapCoord=new ee;this.uClampFrame=new Float32Array(4);this.uClampOffset=new Float32Array(2);this._textureID=-1;this._updateID=0;this.clampOffset=0;this.clampMargin=typeof e==="undefined"?.5:e;this.isSimple=false}Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t;this._textureID=-1},enumerable:false,configurable:true});t.prototype.multiplyUvs=function(t,e){if(e===undefined){e=t}var r=this.mapCoord;for(var i=0;i<t.length;i+=2){var n=t[i];var o=t[i+1];e[i]=n*r.a+o*r.c+r.tx;e[i+1]=n*r.b+o*r.d+r.ty}return e};t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid){return false}if(!t&&this._textureID===e._updateID){return false}this._textureID=e._updateID;this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig;var n=e.trim;if(n){ki.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height);this.mapCoord.append(ki)}var o=e.baseTexture;var a=this.uClampFrame;var s=this.clampMargin/o.resolution;var u=this.clampOffset;a[0]=(e._frame.x+s+u)/o.width;a[1]=(e._frame.y+s+u)/o.height;a[2]=(e._frame.x+e._frame.width-s+u)/o.width;a[3]=(e._frame.y+e._frame.height-s+u)/o.height;this.uClampOffset[0]=u/o.realWidth;this.uClampOffset[1]=u/o.realHeight;this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&e.rotate===0;return true};return t}();var Li=function(t){qe(e,t);function e(e){var r=this;var i=new ee;r=t.call(this,Di,Mi)||this;e.renderable=false;r.maskSprite=e;r.maskMatrix=i;return r}e.prototype.apply=function(t,e,r,i){var n=this.maskSprite;var o=n._texture;if(!o.valid){return}if(!o.uvMatrix){o.uvMatrix=new Ni(o,0)}o.uvMatrix.update();this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1;this.uniforms.mask=o;this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord);this.uniforms.alpha=n.worldAlpha;this.uniforms.maskClamp=o.uvMatrix.uClampFrame;t.applyFilter(this,e,r,i)};return e}(Ri);var Bi=function(t){qe(e,t);function e(e){var r=t.call(this,e)||this;r.enableScissor=false;r.alphaMaskPool=[];r.maskDataPool=[];r.maskStack=[];r.alphaMaskIndex=0;return r}e.prototype.setMaskStack=function(t){this.maskStack=t;this.renderer.scissor.setMaskStack(t);this.renderer.stencil.setMaskStack(t)};e.prototype.push=function(t,e){var r=e;if(!r.isMaskData){var i=this.maskDataPool.pop()||new Yr;i.pooled=true;i.maskObject=e;r=i}if(r.autoDetect){this.detect(r)}r.copyCountersOrReset(this.maskStack[this.maskStack.length-1]);r._target=t;switch(r.type){case et.SCISSOR:this.maskStack.push(r);this.renderer.scissor.push(r);break;case et.STENCIL:this.maskStack.push(r);this.renderer.stencil.push(r);break;case et.SPRITE:r.copyCountersOrReset(null);this.pushSpriteMask(r);this.maskStack.push(r);break;default:break}};e.prototype.pop=function(t){var e=this.maskStack.pop();if(!e||e._target!==t){return}switch(e.type){case et.SCISSOR:this.renderer.scissor.pop();break;case et.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case et.SPRITE:this.popSpriteMask();break;default:break}e.reset();if(e.pooled){this.maskDataPool.push(e)}};e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite){t.type=et.SPRITE;return}t.type=et.STENCIL;if(this.enableScissor&&e.isFastRect&&e.isFastRect()){var r=e.worldTransform;var i=Math.atan2(r.b,r.a);var n=Math.atan2(r.d,r.c);i=Math.round(i*(180/Math.PI)*100);n=Math.round(n*(180/Math.PI)*100)-i;i=(i%9e3+9e3)%9e3;n=(n%18e3+18e3)%18e3;if(i===0&&n===9e3){t.type=et.SCISSOR}}};e.prototype.pushSpriteMask=function(t){var e=t.maskObject;var r=t._target;var i=this.alphaMaskPool[this.alphaMaskIndex];if(!i){i=this.alphaMaskPool[this.alphaMaskIndex]=[new Li(e)]}i[0].resolution=this.renderer.resolution;i[0].maskSprite=e;var n=r.filterArea;r.filterArea=e.getBounds(true);this.renderer.filter.push(r,i);r.filterArea=n;this.alphaMaskIndex++};e.prototype.popSpriteMask=function(){this.renderer.filter.pop();this.alphaMaskIndex--};return e}(hr);var Fi=function(t){qe(e,t);function e(e){var r=t.call(this,e)||this;r.maskStack=[];r.glConst=0;return r}e.prototype.getStackLength=function(){return this.maskStack.length};e.prototype.setMaskStack=function(t){var e=this.renderer.gl;var r=this.getStackLength();this.maskStack=t;var i=this.getStackLength();if(i!==r){if(i===0){e.disable(this.glConst)}else{e.enable(this.glConst);this._useCurrent()}}};e.prototype._useCurrent=function(){};e.prototype.destroy=function(){t.prototype.destroy.call(this);this.maskStack=null};return e}(hr);var Ui=function(t){qe(e,t);function e(e){var r=t.call(this,e)||this;r.glConst=WebGLRenderingContext.SCISSOR_TEST;return r}e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];if(t){return t._scissorCounter}return 0};e.prototype.push=function(t){var e=t.maskObject;e.renderable=true;var r=t._scissorRect;var i=e.getBounds(true);var n=this.renderer.gl;e.renderable=false;if(r){i.fit(r)}else{n.enable(n.SCISSOR_TEST)}t._scissorCounter++;t._scissorRect=i;this._useCurrent()};e.prototype.pop=function(){var t=this.renderer.gl;if(this.getStackLength()>0){this._useCurrent()}else{t.disable(t.SCISSOR_TEST)}};e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect;var e=this.renderer.renderTexture.current;var r=this.renderer.projection,i=r.transform,n=r.sourceFrame,o=r.destinationFrame;var a=e?e.resolution:this.renderer.resolution;var s=(t.x-n.x)*a+o.x;var u=(t.y-n.y)*a+o.y;var h=t.width*a;var f=t.height*a;if(i){s+=i.tx*a;u+=i.ty*a}if(!e){u=this.renderer.height-f-u}this.renderer.gl.scissor(s,u,h,f)};return e}(Fi);var ji=function(t){qe(e,t);function e(e){var r=t.call(this,e)||this;r.glConst=WebGLRenderingContext.STENCIL_TEST;return r}e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];if(t){return t._stencilCounter}return 0};e.prototype.push=function(t){var e=t.maskObject;var r=this.renderer.gl;var i=t._stencilCounter;if(i===0){this.renderer.framebuffer.forceStencil();r.enable(r.STENCIL_TEST)}t._stencilCounter++;r.colorMask(false,false,false,false);r.stencilFunc(r.EQUAL,i,this._getBitwiseMask());r.stencilOp(r.KEEP,r.KEEP,r.INCR);e.renderable=true;e.render(this.renderer);this.renderer.batch.flush();e.renderable=false;this._useCurrent()};e.prototype.pop=function(t){var e=this.renderer.gl;if(this.getStackLength()===0){e.disable(e.STENCIL_TEST);e.clear(e.STENCIL_BUFFER_BIT);e.clearStencil(0)}else{e.colorMask(false,false,false,false);e.stencilOp(e.KEEP,e.KEEP,e.DECR);t.renderable=true;t.render(this.renderer);this.renderer.batch.flush();t.renderable=false;this._useCurrent()}};e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(true,true,true,true);t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask());t.stencilOp(t.KEEP,t.KEEP,t.KEEP)};e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1};return e}(Fi);var zi=function(t){qe(e,t);function e(e){var r=t.call(this,e)||this;r.destinationFrame=null;r.sourceFrame=null;r.defaultFrame=null;r.projectionMatrix=new ee;r.transform=null;return r}e.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame;this.sourceFrame=e||this.sourceFrame||t;this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i);if(this.transform){this.projectionMatrix.append(this.transform)}var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix;n.globalUniforms.update();if(n.shader.shader){n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)}};e.prototype.calculateProjection=function(t,e,r,i){var n=this.projectionMatrix;var o=!i?1:-1;n.identity();n.a=1/e.width*2;n.d=o*(1/e.height*2);n.tx=-1-e.x*n.a;n.ty=-o-e.y*n.d};e.prototype.setTransform=function(t){};return e}(hr);var Xi=new qt;var Hi=new qt;var Gi=new qt;var Wi=function(t){qe(e,t);function e(e){var r=t.call(this,e)||this;r.clearColor=e._backgroundColorRgba;r.defaultMaskStack=[];r.current=null;r.sourceFrame=new qt;r.destinationFrame=new qt;return r}e.prototype.bind=function(t,e,r){if(t===void 0){t=null}var i=this.renderer;this.current=t;var n;var o;var a;if(t){n=t.baseTexture;a=n.resolution;if(!e){Xi.width=t.frame.width;Xi.height=t.frame.height;e=Xi}if(!r){Hi.x=t.frame.x;Hi.y=t.frame.y;Hi.width=e.width;Hi.height=e.height;r=Hi}o=n.framebuffer}else{a=i.resolution;if(!e){Xi.width=i.screen.width;Xi.height=i.screen.height;e=Xi}if(!r){r=Xi;r.width=e.width;r.height=e.height}}Gi.x=r.x*a;Gi.y=r.y*a;Gi.width=r.width*a;Gi.height=r.height*a;this.renderer.framebuffer.bind(o,Gi);this.renderer.projection.update(r,e,a,!o);if(t){this.renderer.mask.setMaskStack(n.maskStack)}else{this.renderer.mask.setMaskStack(this.defaultMaskStack)}this.sourceFrame.copyFrom(e);this.destinationFrame.copyFrom(r)};e.prototype.clear=function(t,e){if(this.current){t=t||this.current.baseTexture.clearColor}else{t=t||this.clearColor}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)};e.prototype.resize=function(){this.bind(null)};e.prototype.reset=function(){this.bind(null)};return e}(hr);var Yi=function(){function t(){}return t}();var Vi=function(){function t(t,e){this.program=t;this.uniformData=e;this.uniformGroups={}}t.prototype.destroy=function(){this.uniformData=null;this.uniformGroups=null;this.program=null};return t}();var qi=0;var Zi={textureCount:0};var $i=function(t){qe(e,t);function e(e){var r=t.call(this,e)||this;r.destroyed=false;r.systemCheck();r.gl=null;r.shader=null;r.program=null;r.cache={};r.id=qi++;return r}e.prototype.systemCheck=function(){if(!mi()){throw new Error("Current environment does not allow unsafe-eval, "+"please use @pixi/unsafe-eval module to enable support.")}};e.prototype.contextChange=function(t){this.gl=t;this.reset()};e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program;var i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);this.shader=t;if(this.program!==r){this.program=r;this.gl.useProgram(i.program)}if(!e){Zi.textureCount=0;this.syncUniformGroup(t.uniformGroup,Zi)}return i};e.prototype.setUniforms=function(t){var e=this.shader.program;var r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)};e.prototype.syncUniformGroup=function(t,e){var r=this.getglProgram();if(!t.static||t.dirtyId!==r.uniformGroups[t.id]){r.uniformGroups[t.id]=t.dirtyId;this.syncUniforms(t,r,e)}};e.prototype.syncUniforms=function(t,e,r){var i=t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t);i(e.uniformData,t.uniforms,this.renderer,r)};e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);if(!this.cache[e]){this.cache[e]=li(t,this.shader.program.uniformData)}t.syncUniforms[this.shader.program.id]=this.cache[e];return t.syncUniforms[this.shader.program.id]};e.prototype.getSignature=function(t,e){var r=t.uniforms;var i=[];for(var n in r){i.push(n);if(e[n]){i.push(e[n].type)}}return i.join("-")};e.prototype.getglProgram=function(){if(this.shader){return this.shader.program.glPrograms[this.renderer.CONTEXT_UID]}return null};e.prototype.generateShader=function(t){var e=this.gl;var r=t.program;var i={};for(var n in r.attributeData){i[n]=r.attributeData[n].location}var o=qr(e,r.vertexSrc,r.fragmentSrc,i);var a={};for(var n in r.uniformData){var s=r.uniformData[n];a[n]={location:e.getUniformLocation(o,n),value:$r(s.type,s.size)}}var u=new Vi(o,a);r.glPrograms[this.renderer.CONTEXT_UID]=u;return u};e.prototype.reset=function(){this.program=null;this.shader=null};e.prototype.destroy=function(){this.destroyed=true};return e}(hr);function Ki(t,e){if(e===void 0){e=[]}e[H.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.ADD]=[t.ONE,t.ONE];e[H.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.NONE]=[0,0];e[H.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE];e[H.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA];e[H.SRC_IN]=[t.DST_ALPHA,t.ZERO];e[H.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO];e[H.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA];e[H.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE];e[H.DST_IN]=[t.ZERO,t.SRC_ALPHA];e[H.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA];e[H.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA];e[H.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA];e[H.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD];return e}var Ji=0;var Qi=1;var tn=2;var en=3;var rn=4;var nn=function(t){qe(e,t);function e(e){var r=t.call(this,e)||this;r.gl=null;r.stateId=0;r.polygonOffset=0;r.blendMode=H.NONE;r._blendEq=false;r.map=[];r.map[Ji]=r.setBlend;r.map[Qi]=r.setOffset;r.map[tn]=r.setCullFace;r.map[en]=r.setDepthTest;r.map[rn]=r.setFrontFace;r.checks=[];r.defaultState=new Pi;r.defaultState.blend=true;return r}e.prototype.contextChange=function(t){this.gl=t;this.blendModes=Ki(t);this.set(this.defaultState);this.reset()};e.prototype.set=function(t){t=t||this.defaultState;if(this.stateId!==t.data){var e=this.stateId^t.data;var r=0;while(e){if(e&1){this.map[r].call(this,!!(t.data&1<<r))}e=e>>1;r++}this.stateId=t.data}for(var r=0;r<this.checks.length;r++){this.checks[r](this,t)}};e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++){this.map[e].call(this,!!(t.data&1<<e))}for(var e=0;e<this.checks.length;e++){this.checks[e](this,t)}this.stateId=t.data};e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t);this.gl[t?"enable":"disable"](this.gl.BLEND)};e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t);this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)};e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)};e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)};e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])};e.prototype.setBlendMode=function(t){if(t===this.blendMode){return}this.blendMode=t;var e=this.blendModes[t];var r=this.gl;if(e.length===2){r.blendFunc(e[0],e[1])}else{r.blendFuncSeparate(e[0],e[1],e[2],e[3])}if(e.length===6){this._blendEq=true;r.blendEquationSeparate(e[4],e[5])}else if(this._blendEq){this._blendEq=false;r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD)}};e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)};e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,false);this.forceState(this.defaultState);this._blendEq=true;this.blendMode=-1;this.setBlendMode(0)};e.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);if(e&&r===-1){this.checks.push(t)}else if(!e&&r!==-1){this.checks.splice(r,1)}};e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)};e.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)};return e}(hr);var on=function(t){qe(e,t);function e(e){var r=t.call(this,e)||this;r.count=0;r.checkCount=0;r.maxIdle=k.GC_MAX_IDLE;r.checkCountMax=k.GC_MAX_CHECK_COUNT;r.mode=k.GC_MODE;return r}e.prototype.postrender=function(){if(!this.renderer.renderingToScreen){return}this.count++;if(this.mode===Q.MANUAL){return}this.checkCount++;if(this.checkCount>this.checkCountMax){this.checkCount=0;this.run()}};e.prototype.run=function(){var t=this.renderer.texture;var e=t.managedTextures;var r=false;for(var i=0;i<e.length;i++){var n=e[i];if(!n.framebuffer&&this.count-n.touched>this.maxIdle){t.destroyTexture(n,true);e[i]=null;r=true}}if(r){var o=0;for(var i=0;i<e.length;i++){if(e[i]!==null){e[o++]=e[i]}}e.length=o}};e.prototype.unload=function(t){var e=this.renderer.texture;var r=t._texture;if(r&&!r.framebuffer){e.destroyTexture(r)}for(var i=t.children.length-1;i>=0;i--){this.unload(t.children[i])}};return e}(hr);var an=function(){function t(t){this.texture=t;this.width=-1;this.height=-1;this.dirtyId=-1;this.dirtyStyleId=-1;this.mipmap=false;this.wrapMode=33071;this.type=6408;this.internalFormat=5121}return t}();var sn=function(t){qe(e,t);function e(e){var r=t.call(this,e)||this;r.boundTextures=[];r.currentLocation=-1;r.managedTextures=[];r._unknownBoundTextures=false;r.unknownTexture=new Je;return r}e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++){this.boundTextures[r]=null}this.emptyTextures={};var i=new an(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture);t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4));this.emptyTextures[t.TEXTURE_2D]=i;this.emptyTextures[t.TEXTURE_CUBE_MAP]=new an(t.createTexture());t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var r=0;r<6;r++){t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null)}t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var r=0;r<this.boundTextures.length;r++){this.bind(null,r)}};e.prototype.bind=function(t,e){if(e===void 0){e=0}var r=this.gl;if(t){t=t.castToBaseTexture();if(t.parentTextureArray){return}if(t.valid){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);if(this.boundTextures[e]!==t){if(this.currentLocation!==e){this.currentLocation=e;r.activeTexture(r.TEXTURE0+e)}r.bindTexture(t.target,i.texture)}if(i.dirtyId!==t.dirtyId){if(this.currentLocation!==e){this.currentLocation=e;r.activeTexture(r.TEXTURE0+e)}this.updateTexture(t)}this.boundTextures[e]=t}}else{if(this.currentLocation!==e){this.currentLocation=e;r.activeTexture(r.TEXTURE0+e)}r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture);this.boundTextures[e]=null}};e.prototype.reset=function(){this._unknownBoundTextures=true;this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++){this.boundTextures[t]=this.unknownTexture}};e.prototype.unbind=function(t){var e=this,r=e.gl,i=e.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=false;for(var n=0;n<i.length;n++){if(i[n]===this.unknownTexture){this.bind(null,n)}}}for(var n=0;n<i.length;n++){if(i[n]===t){if(this.currentLocation!==n){r.activeTexture(r.TEXTURE0+n);this.currentLocation=n}r.bindTexture(t.target,this.emptyTextures[t.target].texture);i[n]=null}}};e.prototype.initTexture=function(t){var e=new an(this.gl.createTexture());e.dirtyId=-1;t._glTextures[this.CONTEXT_UID]=e;this.managedTextures.push(t);t.on("dispose",this.destroyTexture,this);return e};e.prototype.initTextureType=function(t,e){e.internalFormat=t.format;e.type=t.type;if(this.webGLVersion!==2){return}var r=this.renderer.gl;if(t.type===r.FLOAT&&t.format===r.RGBA){e.internalFormat=r.RGBA32F}if(t.type===V.HALF_FLOAT){e.type=r.HALF_FLOAT}if(e.type===r.HALF_FLOAT&&t.format===r.RGBA){e.internalFormat=r.RGBA16F}};e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(!e){return}var r=this.renderer;this.initTextureType(t,e);if(t.resource&&t.resource.upload(r,t,e));else{var i=t.realWidth;var n=t.realHeight;var o=r.gl;if(e.width!==i||e.height!==n||e.dirtyId<0){e.width=i;e.height=n;o.texImage2D(t.target,0,e.internalFormat,i,n,0,t.format,e.type,null)}}if(t.dirtyStyleId!==e.dirtyStyleId){this.updateTextureStyle(t)}e.dirtyId=t.dirtyId};e.prototype.destroyTexture=function(t,e){var r=this.gl;t=t.castToBaseTexture();if(t._glTextures[this.CONTEXT_UID]){this.unbind(t);r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture);t.off("dispose",this.destroyTexture,this);delete t._glTextures[this.CONTEXT_UID];if(!e){var i=this.managedTextures.indexOf(t);if(i!==-1){It(this.managedTextures,i,1)}}}};e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];if(!e){return}if((t.mipmap===$.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo){e.mipmap=false}else{e.mipmap=t.mipmap>=1}if(this.webGLVersion!==2&&!t.isPowerOfTwo){e.wrapMode=Z.CLAMP}else{e.wrapMode=t.wrapMode}if(t.resource&&t.resource.style(this.renderer,t,e));else{this.setStyle(t,e)}e.dirtyStyleId=t.dirtyStyleId};e.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap){r.generateMipmap(t.target)}r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode);r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode);if(e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===q.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===q.LINEAR){var n=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else{r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===q.LINEAR?r.LINEAR:r.NEAREST)}r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===q.LINEAR?r.LINEAR:r.NEAREST)};return e}(hr);var un={FilterSystem:Nr,BatchSystem:Br,ContextSystem:Ur,FramebufferSystem:Xr,GeometrySystem:Wr,MaskSystem:Bi,ScissorSystem:Ui,StencilSystem:ji,ProjectionSystem:zi,RenderTextureSystem:Wi,ShaderSystem:$i,StateSystem:nn,TextureGCSystem:on,TextureSystem:sn};var hn=new ee;var fn=function(t){qe(e,t);function e(e,r){if(e===void 0){e=z.UNKNOWN}var i=t.call(this)||this;r=Object.assign({},k.RENDER_OPTIONS,r);if(r.roundPixels){k.ROUND_PIXELS=r.roundPixels;Rt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)}i.options=r;i.type=e;i.screen=new qt(0,0,r.width,r.height);i.view=r.view||document.createElement("canvas");i.resolution=r.resolution||k.RESOLUTION;i.transparent=r.transparent;i.autoDensity=r.autoDensity||r.autoResize||false;i.preserveDrawingBuffer=r.preserveDrawingBuffer;i.clearBeforeRender=r.clearBeforeRender;i._backgroundColor=0;i._backgroundColorRgba=[0,0,0,0];i._backgroundColorString="#000000";i.backgroundColor=r.backgroundColor||i._backgroundColor;i._lastObjectRendered=null;i.plugins={};return i}e.prototype.initPlugins=function(t){for(var e in t){this.plugins[e]=new t[e](this)}};Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:false,configurable:true});e.prototype.resize=function(t,e){this.screen.width=t;this.screen.height=e;this.view.width=t*this.resolution;this.view.height=e*this.resolution;if(this.autoDensity){this.view.style.width=t+"px";this.view.style.height=e+"px"}this.emit("resize",t,e)};e.prototype.generateTexture=function(t,e,r,i){i=i||t.getLocalBounds(null,true);if(i.width===0){i.width=1}if(i.height===0){i.height=1}var n=yr.create({width:i.width|0,height:i.height|0,scaleMode:e,resolution:r});hn.tx=-i.x;hn.ty=-i.y;this.render(t,n,false,hn,!!t.parent);return n};e.prototype.destroy=function(t){for(var e in this.plugins){this.plugins[e].destroy();this.plugins[e]=null}if(t&&this.view.parentNode){this.view.parentNode.removeChild(this.view)}var r=this;r.plugins=null;r.type=z.UNKNOWN;r.view=null;r.screen=null;r._tempDisplayObjectParent=null;r.options=null;this._backgroundColorRgba=null;this._backgroundColorString=null;this._lastObjectRendered=null};Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t;this._backgroundColorString=ft(t);ht(t,this._backgroundColorRgba)},enumerable:false,configurable:true});return e}(L());var ln=function(t){qe(e,t);function e(r){var i=t.call(this,z.WEBGL,r)||this;r=i.options;i.gl=null;i.CONTEXT_UID=0;i.runners={destroy:new Ge("destroy"),contextChange:new Ge("contextChange"),reset:new Ge("reset"),update:new Ge("update"),postrender:new Ge("postrender"),prerender:new Ge("prerender"),resize:new Ge("resize")};i.globalUniforms=new Mr({projectionMatrix:new ee},true);i.addSystem(Bi,"mask").addSystem(Ur,"context").addSystem(nn,"state").addSystem($i,"shader").addSystem(sn,"texture").addSystem(Wr,"geometry").addSystem(Xr,"framebuffer").addSystem(Ui,"scissor").addSystem(ji,"stencil").addSystem(zi,"projection").addSystem(on,"textureGC").addSystem(Nr,"filter").addSystem(Wi,"renderTexture").addSystem(Br,"batch");i.initPlugins(e.__plugins);if(r.context){i.context.initFromContext(r.context)}else{i.context.initFromOptions({alpha:!!i.transparent,antialias:r.antialias,premultipliedAlpha:i.transparent&&i.transparent!=="notMultiplied",stencil:true,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:i.options.powerPreference})}i.renderingToScreen=true;at(i.context.webGLVersion===2?"WebGL 2":"WebGL 1");i.resize(i.options.width,i.options.height);return i}e.create=function(t){if(ut()){return new e(t)}throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')};e.prototype.addSystem=function(t,e){if(!e){e=t.name}var r=new t(this);if(this[e]){throw new Error('Whoops! The name "'+e+'" is already in use')}this[e]=r;for(var i in this.runners){this.runners[i].add(r)}return this};e.prototype.render=function(t,e,r,i,n){this.renderingToScreen=!e;this.runners.prerender.emit();this.emit("prerender");this.projection.transform=i;if(this.context.isLost){return}if(!e){this._lastObjectRendered=t}if(!n){var o=t.enableTempParent();t.updateTransform();t.disableTempParent(o)}this.renderTexture.bind(e);this.batch.currentRenderer.start();if(r!==undefined?r:this.clearBeforeRender){this.renderTexture.clear()}t.render(this);this.batch.currentRenderer.flush();if(e){e.baseTexture.update()}this.runners.postrender.emit();this.projection.transform=null;this.emit("postrender")};e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r);this.runners.resize.emit(e,r)};e.prototype.reset=function(){this.runners.reset.emit();return this};e.prototype.clear=function(){this.renderTexture.bind();this.renderTexture.clear()};e.prototype.destroy=function(e){this.runners.destroy.emit();for(var r in this.runners){this.runners[r].destroy()}t.prototype.destroy.call(this,e);this.gl=null};e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{};e.__plugins[t]=r};return e}(fn);function cn(t){return ln.create(t)}var dn="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}";var pn="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";var vn=function(){function t(){this.texArray=null;this.blend=0;this.type=G.TRIANGLES;this.start=0;this.size=0;this.data=null}return t}();var mn=function(){function t(){this.elements=[];this.ids=[];this.count=0}t.prototype.clear=function(){for(var t=0;t<this.count;t++){this.elements[t]=null}this.count=0};return t}();var gn=function(){function t(t){this.rawBinaryData=new ArrayBuffer(t);this.uint32View=new Uint32Array(this.rawBinaryData);this.float32View=new Float32Array(this.rawBinaryData)}Object.defineProperty(t.prototype,"int8View",{get:function(){if(!this._int8View){this._int8View=new Int8Array(this.rawBinaryData)}return this._int8View},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"uint8View",{get:function(){if(!this._uint8View){this._uint8View=new Uint8Array(this.rawBinaryData)}return this._uint8View},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"int16View",{get:function(){if(!this._int16View){this._int16View=new Int16Array(this.rawBinaryData)}return this._int16View},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"uint16View",{get:function(){if(!this._uint16View){this._uint16View=new Uint16Array(this.rawBinaryData)}return this._uint16View},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"int32View",{get:function(){if(!this._int32View){this._int32View=new Int32Array(this.rawBinaryData)}return this._int32View},enumerable:false,configurable:true});t.prototype.view=function(t){return this[t+"View"]};t.prototype.destroy=function(){this.rawBinaryData=null;this._int8View=null;this._uint8View=null;this._int16View=null;this._uint16View=null;this._int32View=null;this.uint32View=null;this.float32View=null};t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}};return t}();var yn=function(t){qe(e,t);function e(e){var r=t.call(this,e)||this;r.shaderGenerator=null;r.geometryClass=null;r.vertexSize=null;r.state=Pi.for2d();r.size=k.SPRITE_BATCH_SIZE*4;r._vertexCount=0;r._indexCount=0;r._bufferedElements=[];r._bufferedTextures=[];r._bufferSize=0;r._shader=null;r._packedGeometries=[];r._packedGeometryPoolSize=2;r._flushId=0;r._aBuffers={};r._iBuffers={};r.MAX_TEXTURES=1;r.renderer.on("prerender",r.onPrerender,r);e.runners.contextChange.add(r);r._dcIndex=0;r._aIndex=0;r._iIndex=0;r._attributeBuffer=null;r._indexBuffer=null;r._tempBoundTextures=[];return r}e.prototype.contextChange=function(){var t=this.renderer.gl;if(k.PREFER_ENV===j.WEBGL_LEGACY){this.MAX_TEXTURES=1}else{this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),k.SPRITE_MAX_TEXTURES);this.MAX_TEXTURES=pi(this.MAX_TEXTURES,t)}this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++){this._packedGeometries[e]=new this.geometryClass}this.initFlushBuffers()};e.prototype.initFlushBuffers=function(){var t=e._drawCallPool,r=e._textureArrayPool;var i=this.size/4;var n=Math.floor(i/this.MAX_TEXTURES)+1;while(t.length<i){t.push(new vn)}while(r.length<n){r.push(new mn)}for(var o=0;o<this.MAX_TEXTURES;o++){this._tempBoundTextures[o]=null}};e.prototype.onPrerender=function(){this._flushId=0};e.prototype.render=function(t){if(!t._texture.valid){return}if(this._vertexCount+t.vertexData.length/2>this.size){this.flush()}this._vertexCount+=t.vertexData.length/2;this._indexCount+=t.indices.length;this._bufferedTextures[this._bufferSize]=t._texture.baseTexture;this._bufferedElements[this._bufferSize++]=t};e.prototype.buildTexturesAndDrawCalls=function(){var t=this,r=t._bufferedTextures,i=t.MAX_TEXTURES;var n=e._textureArrayPool;var o=this.renderer.batch;var a=this._tempBoundTextures;var s=this.renderer.textureGC.count;var u=++Je._globalBatch;var h=0;var f=n[0];var l=0;o.copyBoundTextures(a,i);for(var c=0;c<this._bufferSize;++c){var d=r[c];r[c]=null;if(d._batchEnabled===u){continue}if(f.count>=i){o.boundArray(f,a,u,i);this.buildDrawCalls(f,l,c);l=c;f=n[++h];++u}d._batchEnabled=u;d.touched=s;f.elements[f.count++]=d}if(f.count>0){o.boundArray(f,a,u,i);this.buildDrawCalls(f,l,this._bufferSize);++h;++u}for(var c=0;c<a.length;c++){a[c]=null}Je._globalBatch=u};e.prototype.buildDrawCalls=function(t,r,i){var n=this,o=n._bufferedElements,a=n._attributeBuffer,s=n._indexBuffer,u=n.vertexSize;var h=e._drawCallPool;var f=this._dcIndex;var l=this._aIndex;var c=this._iIndex;var d=h[f];d.start=this._iIndex;d.texArray=t;for(var p=r;p<i;++p){var v=o[p];var m=v._texture.baseTexture;var g=pt[m.alphaMode?1:0][v.blendMode];o[p]=null;if(r<p&&d.blend!==g){d.size=c-d.start;r=p;d=h[++f];d.texArray=t;d.start=c}this.packInterleavedGeometry(v,a,s,l,c);l+=v.vertexData.length/2*u;c+=v.indices.length;d.blend=g}if(r<i){d.size=c-d.start;++f}this._dcIndex=f;this._aIndex=l;this._iIndex=c};e.prototype.bindAndClearTexArray=function(t){var e=this.renderer.texture;for(var r=0;r<t.count;r++){e.bind(t.elements[r],t.ids[r]);t.elements[r]=null}t.count=0};e.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,r=t._attributeBuffer,i=t._indexBuffer;if(!k.CAN_UPLOAD_SAME_BUFFER){if(this._packedGeometryPoolSize<=this._flushId){this._packedGeometryPoolSize++;e[this._flushId]=new this.geometryClass}e[this._flushId]._buffer.update(r.rawBinaryData);e[this._flushId]._indexBuffer.update(i);this.renderer.geometry.bind(e[this._flushId]);this.renderer.geometry.updateBuffers();this._flushId++}else{e[this._flushId]._buffer.update(r.rawBinaryData);e[this._flushId]._indexBuffer.update(i);this.renderer.geometry.updateBuffers()}};e.prototype.drawBatches=function(){var t=this._dcIndex;var r=this.renderer,i=r.gl,n=r.state;var o=e._drawCallPool;var a=null;for(var s=0;s<t;s++){var u=o[s],h=u.texArray,f=u.type,l=u.size,c=u.start,d=u.blend;if(a!==h){a=h;this.bindAndClearTexArray(h)}this.state.blendMode=d;n.set(this.state);i.drawElements(f,l,i.UNSIGNED_SHORT,c*2)}};e.prototype.flush=function(){if(this._vertexCount===0){return}this._attributeBuffer=this.getAttributeBuffer(this._vertexCount);this._indexBuffer=this.getIndexBuffer(this._indexCount);this._aIndex=0;this._iIndex=0;this._dcIndex=0;this.buildTexturesAndDrawCalls();this.updateGeometry();this.drawBatches();this._bufferSize=0;this._vertexCount=0;this._indexCount=0};e.prototype.start=function(){this.renderer.state.set(this.state);this.renderer.shader.bind(this._shader);if(k.CAN_UPLOAD_SAME_BUFFER){this.renderer.geometry.bind(this._packedGeometries[this._flushId])}};e.prototype.stop=function(){this.flush()};e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++){if(this._packedGeometries[e]){this._packedGeometries[e].destroy()}}this.renderer.off("prerender",this.onPrerender,this);this._aBuffers=null;this._iBuffers=null;this._packedGeometries=null;this._attributeBuffer=null;this._indexBuffer=null;if(this._shader){this._shader.destroy();this._shader=null}t.prototype.destroy.call(this)};e.prototype.getAttributeBuffer=function(t){var e=Et(Math.ceil(t/8));var r=St(e);var i=e*8;if(this._aBuffers.length<=r){this._iBuffers.length=r+1}var n=this._aBuffers[i];if(!n){this._aBuffers[i]=n=new gn(i*this.vertexSize*4)}return n};e.prototype.getIndexBuffer=function(t){var e=Et(Math.ceil(t/12));var r=St(e);var i=e*12;if(this._iBuffers.length<=r){this._iBuffers.length=r+1}var n=this._iBuffers[r];if(!n){this._iBuffers[r]=n=new Uint16Array(i)}return n};e.prototype.packInterleavedGeometry=function(t,e,r,i,n){var o=e.uint32View,a=e.float32View;var s=i/this.vertexSize;var u=t.uvs;var h=t.indices;var f=t.vertexData;var l=t._texture.baseTexture._batchLocation;var c=Math.min(t.worldAlpha,1);var d=c<1&&t._texture.baseTexture.alphaMode?gt(t._tintRGB,c):t._tintRGB+(c*255<<24);for(var p=0;p<f.length;p+=2){a[i++]=f[p];a[i++]=f[p+1];a[i++]=u[p];a[i++]=u[p+1];o[i++]=d;a[i++]=l}for(var p=0;p<h.length;p++){r[n++]=s+h[p]}};e._drawCallPool=[];e._textureArrayPool=[];return e}(Lr);var _n=function(){function t(t,e){this.vertexSrc=t;this.fragTemplate=e;this.programCache={};this.defaultGroupCache={};if(e.indexOf("%count%")<0){throw new Error('Fragment template must contain "%count%".')}if(e.indexOf("%forloop%")<0){throw new Error('Fragment template must contain "%forloop%".')}}t.prototype.generateShader=function(t){if(!this.programCache[t]){var e=new Int32Array(t);for(var r=0;r<t;r++){e[r]=r}this.defaultGroupCache[t]=Mr.from({uSamplers:e},true);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+t);i=i.replace(/%forloop%/gi,this.generateSampleSrc(t));this.programCache[t]=new xi(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new ee,default:this.defaultGroupCache[t]};return new wi(this.programCache[t],n)};t.prototype.generateSampleSrc=function(t){var e="";e+="\n";e+="\n";for(var r=0;r<t;r++){if(r>0){e+="\nelse "}if(r<t-1){e+="if(vTextureId < "+r+".5)"}e+="\n{";e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);";e+="\n}"}e+="\n";e+="\n";return e};return t}();var bn=function(t){qe(e,t);function e(e){if(e===void 0){e=false}var r=t.call(this)||this;r._buffer=new wr(null,e,false);r._indexBuffer=new wr(null,e,true);r.addAttribute("aVertexPosition",r._buffer,2,false,V.FLOAT).addAttribute("aTextureCoord",r._buffer,2,false,V.FLOAT).addAttribute("aColor",r._buffer,4,true,V.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,true,V.FLOAT).addIndex(r._indexBuffer);return r}return e}(Or);var xn="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n";var wn="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n";var En=function(){function t(){}t.create=function(t){var e=Object.assign({vertex:xn,fragment:wn,geometryClass:bn,vertexSize:6},t),r=e.vertex,i=e.fragment,n=e.vertexSize,o=e.geometryClass;return function(t){qe(e,t);function e(e){var a=t.call(this,e)||this;a.shaderGenerator=new _n(r,i);a.geometryClass=o;a.vertexSize=n;return a}return e}(yn)};Object.defineProperty(t,"defaultVertexSrc",{get:function(){return xn},enumerable:false,configurable:true});Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return wn},enumerable:false,configurable:true});return t}();var Tn=En.create();var Sn=function(){function t(e){var r=this;e=Object.assign({forceCanvas:false},e);this.renderer=cn(e);this.stage=new ye;t._plugins.forEach((function(t){t.init.call(r,e)}))}t.registerPlugin=function(e){t._plugins.push(e)};t.prototype.render=function(){this.renderer.render(this.stage)};Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:false,configurable:true});t.prototype.destroy=function(e,r){var i=this;var n=t._plugins.slice(0);n.reverse();n.forEach((function(t){t.destroy.call(i)}));this.stage.destroy(r);this.stage=null;this.renderer.destroy(e);this.renderer=null};return t}();Sn._plugins=[];var In=function(){function t(){}t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize);this._resizeTo=t;if(t){window.addEventListener("resize",this.queueResize);this.resize()}},get:function(){return this._resizeTo}});this.queueResize=function(){if(!e._resizeTo){return}e.cancelResize();e._resizeId=requestAnimationFrame((function(){return e.resize()}))};this.cancelResize=function(){if(e._resizeId){cancelAnimationFrame(e._resizeId);e._resizeId=null}};this.resize=function(){if(!e._resizeTo){return}e.cancelResize();var t;var r;if(e._resizeTo===window){t=window.innerWidth;r=window.innerHeight}else{var i=e._resizeTo,n=i.clientWidth,o=i.clientHeight;t=n;r=o}e.renderer.resize(t,r)};this._resizeId=null;this._resizeTo=null;this.resizeTo=t.resizeTo||null};t.destroy=function(){window.removeEventListener("resize",this.queueResize);this.cancelResize();this.cancelResize=null;this.queueResize=null;this.resizeTo=null;this.resize=null};return t}();Sn.registerPlugin(In);var An=new qt;var Pn=4;var On=function(){function t(t){this.renderer=t;t.extract=this}t.prototype.image=function(t,e,r){var i=new Image;i.src=this.base64(t,e,r);return i};t.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)};t.prototype.canvas=function(e){var r=this.renderer;var i;var n;var o=false;var a;var s=false;if(e){if(e instanceof yr){a=e}else{a=this.renderer.generateTexture(e);s=true}}if(a){i=a.baseTexture.resolution;n=a.frame;o=false;r.renderTexture.bind(a)}else{i=this.renderer.resolution;o=true;n=An;n.width=this.renderer.width;n.height=this.renderer.height;r.renderTexture.bind(null)}var u=Math.floor(n.width*i+1e-4);var h=Math.floor(n.height*i+1e-4);var f=new Bt(u,h,1);var l=new Uint8Array(Pn*u*h);var c=r.gl;c.readPixels(n.x*i,n.y*i,u,h,c.RGBA,c.UNSIGNED_BYTE,l);var d=f.context.getImageData(0,0,u,h);t.arrayPostDivide(l,d.data);f.context.putImageData(d,0,0);if(o){var p=new Bt(f.width,f.height,1);p.context.scale(1,-1);p.context.drawImage(f.canvas,0,-h);f.destroy();f=p}if(s){a.destroy(true)}return f.canvas};t.prototype.pixels=function(e){var r=this.renderer;var i;var n;var o;var a=false;if(e){if(e instanceof yr){o=e}else{o=this.renderer.generateTexture(e);a=true}}if(o){i=o.baseTexture.resolution;n=o.frame;r.renderTexture.bind(o)}else{i=r.resolution;n=An;n.width=r.width;n.height=r.height;r.renderTexture.bind(null)}var s=n.width*i;var u=n.height*i;var h=new Uint8Array(Pn*s*u);var f=r.gl;f.readPixels(n.x*i,n.y*i,s,u,f.RGBA,f.UNSIGNED_BYTE,h);if(a){o.destroy(true)}t.arrayPostDivide(h,h);return h};t.prototype.destroy=function(){this.renderer.extract=null;this.renderer=null};t.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var i=e[r+3]=t[r+3];if(i!==0){e[r]=Math.round(Math.min(t[r]*255/i,255));e[r+1]=Math.round(Math.min(t[r+1]*255/i,255));e[r+2]=Math.round(Math.min(t[r+2]*255/i,255))}else{e[r]=t[r];e[r+1]=t[r+1];e[r+2]=t[r+2]}}};return t}();var Cn=r(784);var Rn=r.n(Cn);var Dn=r(940);var Mn=r.n(Dn);function kn(){}function Nn(t,e,r,i){var n=0;var o=t.length;(function a(s){if(s||n===o){if(r){r(s)}return}if(i){setTimeout((function(){e(t[n++],a)}),1)}else{e(t[n++],a)}})()}function Ln(t){return function e(){if(t===null){throw new Error("Callback was already called.")}var r=t;t=null;r.apply(this,arguments)}}function Bn(t,e){if(e==null){e=1}else if(e===0){throw new Error("Concurrency must not be zero")}var r=0;var i={_tasks:[],concurrency:e,saturated:kn,unsaturated:kn,buffer:e/4,empty:kn,drain:kn,error:kn,started:false,paused:false,push:function t(e,r){n(e,false,r)},kill:function t(){r=0;i.drain=kn;i.started=false;i._tasks=[]},unshift:function t(e,r){n(e,true,r)},process:function e(){while(!i.paused&&r<i.concurrency&&i._tasks.length){var n=i._tasks.shift();if(i._tasks.length===0){i.empty()}r+=1;if(r===i.concurrency){i.saturated()}t(n.data,Ln(o(n)))}},length:function t(){return i._tasks.length},running:function t(){return r},idle:function t(){return i._tasks.length+r===0},pause:function t(){if(i.paused===true){return}i.paused=true},resume:function t(){if(i.paused===false){return}i.paused=false;for(var e=1;e<=i.concurrency;e++){i.process()}}};function n(t,e,r){if(r!=null&&typeof r!=="function"){throw new Error("task callback must be a function")}i.started=true;if(t==null&&i.idle()){setTimeout((function(){return i.drain()}),1);return}var n={data:t,callback:typeof r==="function"?r:kn};if(e){i._tasks.unshift(n)}else{i._tasks.push(n)}setTimeout((function(){return i.process()}),1)}function o(t){return function e(){r-=1;t.callback.apply(t,arguments);if(arguments[0]!=null){i.error(arguments[0],t.data)}if(r<=i.concurrency-i.buffer){i.unsaturated()}if(i.idle()){i.drain()}i.process()}}return i}var Fn={eachSeries:Nn,queue:Bn};var Un={};function jn(t,e){var r=this;if(Un[t.url]){t.data=Un[t.url];t.complete()}else{t.onComplete.once((function(){return Un[r.url]=r.data}))}e()}function zn(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}function Xn(t,e,r){if(e)zn(t.prototype,e);if(r)zn(t,r);return t}var Hn=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest));var Gn=null;var Wn=0;var Yn=200;var Vn=204;var qn=1223;var Zn=2;function $n(){}var Kn=function(){t.setExtensionLoadType=function e(r,i){Jn(t._loadTypeMap,r,i)};t.setExtensionXhrType=function e(r,i){Jn(t._xhrTypeMap,r,i)};function t(e,r,i){if(typeof e!=="string"||typeof r!=="string"){throw new Error("Both name and url are required for constructing a resource.")}i=i||{};this._flags=0;this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0);this.name=e;this.url=r;this.extension=this._getExtension();this.data=null;this.crossOrigin=i.crossOrigin===true?"anonymous":i.crossOrigin;this.timeout=i.timeout||0;this.loadType=i.loadType||this._determineLoadType();this.xhrType=i.xhrType;this.metadata=i.metadata||{};this.error=null;this.xhr=null;this.children=[];this.type=t.TYPE.UNKNOWN;this.progressChunk=0;this._dequeue=$n;this._onLoadBinding=null;this._elementTimer=0;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundOnTimeout=this._onTimeout.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this.onStart=new(Mn());this.onProgress=new(Mn());this.onComplete=new(Mn());this.onAfterMiddleware=new(Mn())}var e=t.prototype;e.complete=function t(){this._clearEvents();this._finish()};e.abort=function e(r){if(this.error){return}this.error=new Error(r);this._clearEvents();if(this.xhr){this.xhr.abort()}else if(this.xdr){this.xdr.abort()}else if(this.data){if(this.data.src){this.data.src=t.EMPTY_GIF}else{while(this.data.firstChild){this.data.removeChild(this.data.firstChild)}}}this._finish()};e.load=function e(r){var i=this;if(this.isLoading){return}if(this.isComplete){if(r){setTimeout((function(){return r(i)}),1)}return}else if(r){this.onComplete.once(r)}this._setFlag(t.STATUS_FLAGS.LOADING,true);this.onStart.dispatch(this);if(this.crossOrigin===false||typeof this.crossOrigin!=="string"){this.crossOrigin=this._determineCrossOrigin(this.url)}switch(this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE;this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO;this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO;this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:if(Hn&&this.crossOrigin){this._loadXdr()}else{this._loadXhr()}break}};e._hasFlag=function t(e){return(this._flags&e)!==0};e._setFlag=function t(e,r){this._flags=r?this._flags|e:this._flags&~e};e._clearEvents=function t(){clearTimeout(this._elementTimer);if(this.data&&this.data.removeEventListener){this.data.removeEventListener("error",this._boundOnError,false);this.data.removeEventListener("load",this._boundComplete,false);this.data.removeEventListener("progress",this._boundOnProgress,false);this.data.removeEventListener("canplaythrough",this._boundComplete,false)}if(this.xhr){if(this.xhr.removeEventListener){this.xhr.removeEventListener("error",this._boundXhrOnError,false);this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,false);this.xhr.removeEventListener("abort",this._boundXhrOnAbort,false);this.xhr.removeEventListener("progress",this._boundOnProgress,false);this.xhr.removeEventListener("load",this._boundXhrOnLoad,false)}else{this.xhr.onerror=null;this.xhr.ontimeout=null;this.xhr.onprogress=null;this.xhr.onload=null}}};e._finish=function e(){if(this.isComplete){throw new Error("Complete called again for an already completed resource.")}this._setFlag(t.STATUS_FLAGS.COMPLETE,true);this._setFlag(t.STATUS_FLAGS.LOADING,false);this.onComplete.dispatch(this)};e._loadElement=function t(e){if(this.metadata.loadElement){this.data=this.metadata.loadElement}else if(e==="image"&&typeof window.Image!=="undefined"){this.data=new Image}else{this.data=document.createElement(e)}if(this.crossOrigin){this.data.crossOrigin=this.crossOrigin}if(!this.metadata.skipSource){this.data.src=this.url}this.data.addEventListener("error",this._boundOnError,false);this.data.addEventListener("load",this._boundComplete,false);this.data.addEventListener("progress",this._boundOnProgress,false);if(this.timeout){this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout)}};e._loadSourceElement=function t(e){if(this.metadata.loadElement){this.data=this.metadata.loadElement}else if(e==="audio"&&typeof window.Audio!=="undefined"){this.data=new Audio}else{this.data=document.createElement(e)}if(this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin){this.data.crossOrigin=this.crossOrigin}if(!this.metadata.skipSource){if(navigator.isCocoonJS){this.data.src=Array.isArray(this.url)?this.url[0]:this.url}else if(Array.isArray(this.url)){var r=this.metadata.mimeType;for(var i=0;i<this.url.length;++i){this.data.appendChild(this._createSource(e,this.url[i],Array.isArray(r)?r[i]:r))}}else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(n)?n[0]:n))}}this.data.addEventListener("error",this._boundOnError,false);this.data.addEventListener("load",this._boundComplete,false);this.data.addEventListener("progress",this._boundOnProgress,false);this.data.addEventListener("canplaythrough",this._boundComplete,false);this.data.load();if(this.timeout){this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout)}};e._loadXhr=function e(){if(typeof this.xhrType!=="string"){this.xhrType=this._determineXhrType()}var r=this.xhr=new XMLHttpRequest;r.open("GET",this.url,true);r.timeout=this.timeout;if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT){r.responseType=t.XHR_RESPONSE_TYPE.TEXT}else{r.responseType=this.xhrType}r.addEventListener("error",this._boundXhrOnError,false);r.addEventListener("timeout",this._boundXhrOnTimeout,false);r.addEventListener("abort",this._boundXhrOnAbort,false);r.addEventListener("progress",this._boundOnProgress,false);r.addEventListener("load",this._boundXhrOnLoad,false);r.send()};e._loadXdr=function t(){if(typeof this.xhrType!=="string"){this.xhrType=this._determineXhrType()}var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3;e.onerror=this._boundXhrOnError;e.ontimeout=this._boundXhrOnTimeout;e.onprogress=this._boundOnProgress;e.onload=this._boundXhrOnLoad;e.open("GET",this.url,true);setTimeout((function(){return e.send()}),1)};e._createSource=function t(e,r,i){if(!i){i=e+"/"+this._getExtension(r)}var n=document.createElement("source");n.src=r;n.type=i;return n};e._onError=function t(e){this.abort("Failed to load element using: "+e.target.nodeName)};e._onProgress=function t(e){if(e&&e.lengthComputable){this.onProgress.dispatch(this,e.loaded/e.total)}};e._onTimeout=function t(){this.abort("Load timed out.")};e._xhrOnError=function t(){var e=this.xhr;this.abort(Qn(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')};e._xhrOnTimeout=function t(){var e=this.xhr;this.abort(Qn(e)+" Request timed out.")};e._xhrOnAbort=function t(){var e=this.xhr;this.abort(Qn(e)+" Request was aborted by the user.")};e._xhrOnLoad=function e(){var r=this.xhr;var i="";var n=typeof r.status==="undefined"?Yn:r.status;if(r.responseType===""||r.responseType==="text"||typeof r.responseType==="undefined"){i=r.responseText}if(n===Wn&&(i.length>0||r.responseType===t.XHR_RESPONSE_TYPE.BUFFER)){n=Yn}else if(n===qn){n=Vn}var o=n/100|0;if(o===Zn){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT){this.data=i;this.type=t.TYPE.TEXT}else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON){try{this.data=JSON.parse(i);this.type=t.TYPE.JSON}catch(t){this.abort("Error trying to parse loaded json: "+t);return}}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT){try{if(window.DOMParser){var a=new DOMParser;this.data=a.parseFromString(i,"text/xml")}else{var s=document.createElement("div");s.innerHTML=i;this.data=s}this.type=t.TYPE.XML}catch(t){this.abort("Error trying to parse loaded xml: "+t);return}}else{this.data=r.response||i}}else{this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL);return}this.complete()};e._determineCrossOrigin=function t(e,r){if(e.indexOf("data:")===0){return""}if(window.origin!==window.location.origin){return"anonymous"}r=r||window.location;if(!Gn){Gn=document.createElement("a")}Gn.href=e;e=Rn()(Gn.href,{strictMode:true});var i=!e.port&&r.port===""||e.port===r.port;var n=e.protocol?e.protocol+":":"";if(e.host!==r.hostname||!i||n!==r.protocol){return"anonymous"}return""};e._determineXhrType=function e(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT};e._determineLoadType=function e(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR};e._getExtension=function t(){var e=this.url;var r="";if(this.isDataUrl){var i=e.indexOf("/");r=e.substring(i+1,e.indexOf(";",i))}else{var n=e.indexOf("?");var o=e.indexOf("#");var a=Math.min(n>-1?n:e.length,o>-1?o:e.length);e=e.substring(0,a);r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()};e._getMimeFromXhrType=function e(r){switch(r){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}};Xn(t,[{key:"isDataUrl",get:function e(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function e(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function e(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]);return t}();Kn.STATUS_FLAGS={NONE:0,DATA_URL:1<<0,COMPLETE:1<<1,LOADING:1<<2};Kn.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};Kn.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};Kn.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};Kn._loadTypeMap={gif:Kn.LOAD_TYPE.IMAGE,png:Kn.LOAD_TYPE.IMAGE,bmp:Kn.LOAD_TYPE.IMAGE,jpg:Kn.LOAD_TYPE.IMAGE,jpeg:Kn.LOAD_TYPE.IMAGE,tif:Kn.LOAD_TYPE.IMAGE,tiff:Kn.LOAD_TYPE.IMAGE,webp:Kn.LOAD_TYPE.IMAGE,tga:Kn.LOAD_TYPE.IMAGE,svg:Kn.LOAD_TYPE.IMAGE,"svg+xml":Kn.LOAD_TYPE.IMAGE,mp3:Kn.LOAD_TYPE.AUDIO,ogg:Kn.LOAD_TYPE.AUDIO,wav:Kn.LOAD_TYPE.AUDIO,mp4:Kn.LOAD_TYPE.VIDEO,webm:Kn.LOAD_TYPE.VIDEO};Kn._xhrTypeMap={xhtml:Kn.XHR_RESPONSE_TYPE.DOCUMENT,html:Kn.XHR_RESPONSE_TYPE.DOCUMENT,htm:Kn.XHR_RESPONSE_TYPE.DOCUMENT,xml:Kn.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Kn.XHR_RESPONSE_TYPE.DOCUMENT,svg:Kn.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Kn.XHR_RESPONSE_TYPE.DOCUMENT,gif:Kn.XHR_RESPONSE_TYPE.BLOB,png:Kn.XHR_RESPONSE_TYPE.BLOB,bmp:Kn.XHR_RESPONSE_TYPE.BLOB,jpg:Kn.XHR_RESPONSE_TYPE.BLOB,jpeg:Kn.XHR_RESPONSE_TYPE.BLOB,tif:Kn.XHR_RESPONSE_TYPE.BLOB,tiff:Kn.XHR_RESPONSE_TYPE.BLOB,webp:Kn.XHR_RESPONSE_TYPE.BLOB,tga:Kn.XHR_RESPONSE_TYPE.BLOB,json:Kn.XHR_RESPONSE_TYPE.JSON,text:Kn.XHR_RESPONSE_TYPE.TEXT,txt:Kn.XHR_RESPONSE_TYPE.TEXT,ttf:Kn.XHR_RESPONSE_TYPE.BUFFER,otf:Kn.XHR_RESPONSE_TYPE.BUFFER};Kn.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function Jn(t,e,r){if(e&&e.indexOf(".")===0){e=e.substring(1)}if(!e){return}t[e]=r}function Qn(t){return t.toString().replace("object ","")}var to="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function eo(t){var e="";var r=0;while(r<t.length){var i=[0,0,0];var n=[0,0,0,0];for(var o=0;o<i.length;++o){if(r<t.length){i[o]=t.charCodeAt(r++)&255}else{i[o]=0}}n[0]=i[0]>>2;n[1]=(i[0]&3)<<4|i[1]>>4;n[2]=(i[1]&15)<<2|i[2]>>6;n[3]=i[2]&63;var a=r-(t.length-1);switch(a){case 2:n[3]=64;n[2]=64;break;case 1:n[3]=64;break;default:break}for(var s=0;s<n.length;++s){e+=to.charAt(n[s])}}return e}var ro=window.URL||window.webkitURL;function io(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===Kn.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof t.data==="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image;t.data.src="data:"+r+";base64,"+eo(t.xhr.responseText);t.type=Kn.TYPE.IMAGE;t.data.onload=function(){t.data.onload=null;e()};return}}else if(t.data.type.indexOf("image")===0){var i=ro.createObjectURL(t.data);t.blob=t.data;t.data=new Image;t.data.src=i;t.type=Kn.TYPE.IMAGE;t.data.onload=function(){ro.revokeObjectURL(i);t.data.onload=null;e()};return}}e()}var no={caching:jn,parsing:io};var oo=100;var ao=/(#[\w-]+)?$/;var so=function(){function t(e,r){var i=this;if(e===void 0){e=""}if(r===void 0){r=10}this.baseUrl=e;this.progress=0;this.loading=false;this.defaultQueryString="";this._beforeMiddleware=[];this._afterMiddleware=[];this._resourcesParsing=[];this._boundLoadResource=function(t,e){return i._loadResource(t,e)};this._queue=Bn(this._boundLoadResource,r);this._queue.pause();this.resources={};this.onProgress=new(Mn());this.onError=new(Mn());this.onLoad=new(Mn());this.onStart=new(Mn());this.onComplete=new(Mn());for(var n=0;n<t._defaultBeforeMiddleware.length;++n){this.pre(t._defaultBeforeMiddleware[n])}for(var o=0;o<t._defaultAfterMiddleware.length;++o){this.use(t._defaultAfterMiddleware[o])}}var e=t.prototype;e.add=function t(e,r,i,n){if(Array.isArray(e)){for(var o=0;o<e.length;++o){this.add(e[o])}return this}if(typeof e==="object"){n=r||e.callback||e.onComplete;i=e;r=e.url;e=e.name||e.key||e.url}if(typeof r!=="string"){n=i;i=r;r=e}if(typeof r!=="string"){throw new Error("No url passed to add resource to loader.")}if(typeof i==="function"){n=i;i=null}if(this.loading&&(!i||!i.parentResource)){throw new Error("Cannot add resources while the loader is running.")}if(this.resources[e]){throw new Error('Resource named "'+e+'" already exists.')}r=this._prepareUrl(r);this.resources[e]=new Kn(e,r,i);if(typeof n==="function"){this.resources[e].onAfterMiddleware.once(n)}if(this.loading){var a=i.parentResource;var s=[];for(var u=0;u<a.children.length;++u){if(!a.children[u].isComplete){s.push(a.children[u])}}var h=a.progressChunk*(s.length+1);var f=h/(s.length+2);a.children.push(this.resources[e]);a.progressChunk=f;for(var l=0;l<s.length;++l){s[l].progressChunk=f}this.resources[e].progressChunk=f}this._queue.push(this.resources[e]);return this};e.pre=function t(e){this._beforeMiddleware.push(e);return this};e.use=function t(e){this._afterMiddleware.push(e);return this};e.reset=function t(){this.progress=0;this.loading=false;this._queue.kill();this._queue.pause();for(var e in this.resources){var r=this.resources[e];if(r._onLoadBinding){r._onLoadBinding.detach()}if(r.isLoading){r.abort()}}this.resources={};return this};e.load=function t(e){if(typeof e==="function"){this.onComplete.once(e)}if(this.loading){return this}if(this._queue.idle()){this._onStart();this._onComplete()}else{var r=this._queue._tasks.length;var i=oo/r;for(var n=0;n<this._queue._tasks.length;++n){this._queue._tasks[n].data.progressChunk=i}this._onStart();this._queue.resume()}return this};e._prepareUrl=function t(e){var r=Rn()(e,{strictMode:true});var i;if(r.protocol||!r.path||e.indexOf("//")===0){i=e}else if(this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"){i=this.baseUrl+"/"+e}else{i=this.baseUrl+e}if(this.defaultQueryString){var n=ao.exec(i)[0];i=i.substr(0,i.length-n.length);if(i.indexOf("?")!==-1){i+="&"+this.defaultQueryString}else{i+="?"+this.defaultQueryString}i+=n}return i};e._loadResource=function t(e,r){var i=this;e._dequeue=r;Nn(this._beforeMiddleware,(function(t,r){t.call(i,e,(function(){r(e.isComplete?{}:null)}))}),(function(){if(e.isComplete){i._onLoad(e)}else{e._onLoadBinding=e.onComplete.once(i._onLoad,i);e.load()}}),true)};e._onStart=function t(){this.progress=0;this.loading=true;this.onStart.dispatch(this)};e._onComplete=function t(){this.progress=oo;this.loading=false;this.onComplete.dispatch(this,this.resources)};e._onLoad=function t(e){var r=this;e._onLoadBinding=null;this._resourcesParsing.push(e);e._dequeue();Nn(this._afterMiddleware,(function(t,i){t.call(r,e,i)}),(function(){e.onAfterMiddleware.dispatch(e);r.progress=Math.min(oo,r.progress+e.progressChunk);r.onProgress.dispatch(r,e);if(e.error){r.onError.dispatch(e.error,r,e)}else{r.onLoad.dispatch(r,e)}r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1);if(r._queue.idle()&&r._resourcesParsing.length===0){r._onComplete()}}),true)};Xn(t,[{key:"concurrency",get:function t(){return this._queue.concurrency},set:function t(e){this._queue.concurrency=e}}]);return t}();so._defaultBeforeMiddleware=[];so._defaultAfterMiddleware=[];so.pre=function t(e){so._defaultBeforeMiddleware.push(e);return so};so.use=function t(e){so._defaultAfterMiddleware.push(e);return so};var uo=Kn;var ho=function(t,e){ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return ho(t,e)};function fo(t,e){ho(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var lo=function(){function t(){}t.use=function(t,e){if(t.data&&t.type===Kn.TYPE.IMAGE){t.texture=vr.fromLoader(t.data,t.url,t.name)}e()};return t}();var co=function(t){fo(e,t);function e(r,i){var n=t.call(this,r,i)||this;for(var o=0;o<e._plugins.length;++o){var a=e._plugins[o];var s=a.pre,u=a.use;if(s){n.pre(s)}if(u){n.use(u)}}n._protected=false;return n}e.prototype.destroy=function(){if(!this._protected){this.reset()}};Object.defineProperty(e,"shared",{get:function(){var t=e._shared;if(!t){t=new e;t._protected=true;e._shared=t}return t},enumerable:false,configurable:true});e.registerPlugin=function(t){e._plugins.push(t);if(t.add){t.add()}return e};e._plugins=[];return e}(so);co.registerPlugin({use:no.parsing});co.registerPlugin(lo);var po=function(){function t(){}t.init=function(t){t=Object.assign({sharedLoader:false},t);this.loader=t.sharedLoader?co.shared:new co};t.destroy=function(){if(this.loader){this.loader.destroy();this.loader=null}};return t}();var vo=function(t,e){vo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return vo(t,e)};function mo(t,e){vo(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var go=function(t){mo(e,t);function e(e,r,i,n){if(e===void 0){e=1500}if(i===void 0){i=16384}if(n===void 0){n=false}var o=t.call(this)||this;var a=16384;if(i>a){i=a}o._properties=[false,true,false,false,false];o._maxSize=e;o._batchSize=i;o._buffers=null;o._bufferUpdateIDs=[];o._updateID=0;o.interactiveChildren=false;o.blendMode=H.NORMAL;o.autoResize=n;o.roundPixels=true;o.baseTexture=null;o.setProperties(r);o._tint=0;o.tintRgb=new Float32Array(4);o.tint=16777215;return o}e.prototype.setProperties=function(t){if(t){this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0];this._properties[1]="position"in t?!!t.position:this._properties[1];this._properties[2]="rotation"in t?!!t.rotation:this._properties[2];this._properties[3]="uvs"in t?!!t.uvs:this._properties[3];this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4]}};e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()};Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t;ht(t,this.tintRgb)},enumerable:false,configurable:true});e.prototype.render=function(t){var e=this;if(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable){return}if(!this.baseTexture){this.baseTexture=this.children[0]._texture.baseTexture;if(!this.baseTexture.valid){this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))}}t.batch.setObjectRenderer(t.plugins.particle);t.plugins.particle.render(this)};e.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);while(this._bufferUpdateIDs.length<e){this._bufferUpdateIDs.push(0)}this._bufferUpdateIDs[e]=++this._updateID};e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t){this._buffers[t].destroy()}this._buffers=null}};e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);this.dispose();this._properties=null;this._buffers=null;this._bufferUpdateIDs=null};return e}(ye);var yo=function(){function t(t,e,r){this.geometry=new Or;this.indexBuffer=null;this.size=r;this.dynamicProperties=[];this.staticProperties=[];for(var i=0;i<t.length;++i){var n=t[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||V.FLOAT,offset:n.offset};if(e[i]){this.dynamicProperties.push(n)}else{this.staticProperties.push(n)}}this.staticStride=0;this.staticBuffer=null;this.staticData=null;this.staticDataUint32=null;this.dynamicStride=0;this.dynamicBuffer=null;this.dynamicData=null;this.dynamicDataUint32=null;this._updateID=0;this.initBuffers()}t.prototype.initBuffers=function(){var t=this.geometry;var e=0;this.indexBuffer=new wr(_t(this.size),true,true);t.addIndex(this.indexBuffer);this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];i.offset=e;e+=i.size;this.dynamicStride+=i.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n);this.dynamicDataUint32=new Uint32Array(n);this.dynamicBuffer=new wr(this.dynamicData,false,false);var o=0;this.staticStride=0;for(var r=0;r<this.staticProperties.length;++r){var i=this.staticProperties[r];i.offset=o;o+=i.size;this.staticStride+=i.size}var a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a);this.staticDataUint32=new Uint32Array(a);this.staticBuffer=new wr(this.staticData,true,false);for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];t.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===V.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var r=0;r<this.staticProperties.length;++r){var i=this.staticProperties[r];t.addAttribute(i.attributeName,this.staticBuffer,0,i.type===V.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}};t.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.type===V.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++};t.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.type===V.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++};t.prototype.destroy=function(){this.indexBuffer=null;this.dynamicProperties=null;this.dynamicBuffer=null;this.dynamicData=null;this.dynamicDataUint32=null;this.staticProperties=null;this.staticBuffer=null;this.staticData=null;this.staticDataUint32=null;this.geometry.destroy()};return t}();var _o="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}";var bo="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n";var xo=function(t){mo(e,t);function e(e){var r=t.call(this,e)||this;r.shader=null;r.properties=null;r.tempMatrix=new ee;r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:V.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}];r.shader=wi.from(bo,_o,{});r.state=Pi.for2d();return r}e.prototype.render=function(t){var e=t.children;var r=t._maxSize;var i=t._batchSize;var n=this.renderer;var o=e.length;if(o===0){return}else if(o>r&&!t.autoResize){o=r}var a=t._buffers;if(!a){a=t._buffers=this.generateBuffers(t)}var s=e[0]._texture.baseTexture;this.state.blendMode=vt(t.blendMode,s.alphaMode);n.state.set(this.state);var u=n.gl;var h=t.worldTransform.copyTo(this.tempMatrix);h.prepend(n.globalUniforms.uniforms.projectionMatrix);this.shader.uniforms.translationMatrix=h.toArray(true);this.shader.uniforms.uColor=mt(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,s.alphaMode);this.shader.uniforms.uSampler=s;this.renderer.shader.bind(this.shader);var f=false;for(var l=0,c=0;l<o;l+=i,c+=1){var d=o-l;if(d>i){d=i}if(c>=a.length){a.push(this._generateOneMoreBuffer(t))}var p=a[c];p.uploadDynamic(e,l,d);var v=t._bufferUpdateIDs[c]||0;f=f||p._updateID<v;if(f){p._updateID=t._updateID;p.uploadStatic(e,l,d)}n.geometry.bind(p.geometry);u.drawElements(u.TRIANGLES,d*6,u.UNSIGNED_SHORT,0)}};e.prototype.generateBuffers=function(t){var e=[];var r=t._maxSize;var i=t._batchSize;var n=t._properties;for(var o=0;o<r;o+=i){e.push(new yo(this.properties,n,i))}return e};e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize;var r=t._properties;return new yo(this.properties,r,e)};e.prototype.uploadVertices=function(t,e,r,i,n,o){var a=0;var s=0;var u=0;var h=0;for(var f=0;f<r;++f){var l=t[e+f];var c=l._texture;var d=l.scale.x;var p=l.scale.y;var v=c.trim;var m=c.orig;if(v){s=v.x-l.anchor.x*m.width;a=s+v.width;h=v.y-l.anchor.y*m.height;u=h+v.height}else{a=m.width*(1-l.anchor.x);s=m.width*-l.anchor.x;u=m.height*(1-l.anchor.y);h=m.height*-l.anchor.y}i[o]=s*d;i[o+1]=h*p;i[o+n]=a*d;i[o+n+1]=h*p;i[o+n*2]=a*d;i[o+n*2+1]=u*p;i[o+n*3]=s*d;i[o+n*3+1]=u*p;o+=n*4}};e.prototype.uploadPosition=function(t,e,r,i,n,o){for(var a=0;a<r;a++){var s=t[e+a].position;i[o]=s.x;i[o+1]=s.y;i[o+n]=s.x;i[o+n+1]=s.y;i[o+n*2]=s.x;i[o+n*2+1]=s.y;i[o+n*3]=s.x;i[o+n*3+1]=s.y;o+=n*4}};e.prototype.uploadRotation=function(t,e,r,i,n,o){for(var a=0;a<r;a++){var s=t[e+a].rotation;i[o]=s;i[o+n]=s;i[o+n*2]=s;i[o+n*3]=s;o+=n*4}};e.prototype.uploadUvs=function(t,e,r,i,n,o){for(var a=0;a<r;++a){var s=t[e+a]._texture._uvs;if(s){i[o]=s.x0;i[o+1]=s.y0;i[o+n]=s.x1;i[o+n+1]=s.y1;i[o+n*2]=s.x2;i[o+n*2+1]=s.y2;i[o+n*3]=s.x3;i[o+n*3+1]=s.y3;o+=n*4}else{i[o]=0;i[o+1]=0;i[o+n]=0;i[o+n+1]=0;i[o+n*2]=0;i[o+n*2+1]=0;i[o+n*3]=0;i[o+n*3+1]=0;o+=n*4}}};e.prototype.uploadTint=function(t,e,r,i,n,o){for(var a=0;a<r;++a){var s=t[e+a];var u=s._texture.baseTexture.alphaMode>0;var h=s.alpha;var f=h<1&&u?gt(s._tintRGB,h):s._tintRGB+(h*255<<24);i[o]=f;i[o+n]=f;i[o+n*2]=f;i[o+n*3]=f;o+=n*4}};e.prototype.destroy=function(){t.prototype.destroy.call(this);if(this.shader){this.shader.destroy();this.shader=null}this.tempMatrix=null};return e}(Lr);var wo;(function(t){t["MITER"]="miter";t["BEVEL"]="bevel";t["ROUND"]="round"})(wo||(wo={}));var Eo;(function(t){t["BUTT"]="butt";t["ROUND"]="round";t["SQUARE"]="square"})(Eo||(Eo={}));var To={adaptive:true,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0){e=20}if(!this.adaptive||!t||isNaN(t)){return e}var r=Math.ceil(t/this.maxLength);if(r<this.minSegments){r=this.minSegments}else if(r>this.maxSegments){r=this.maxSegments}return r}};var So=function(){function t(){this.color=16777215;this.alpha=1;this.texture=vr.WHITE;this.matrix=null;this.visible=false;this.reset()}t.prototype.clone=function(){var e=new t;e.color=this.color;e.alpha=this.alpha;e.texture=this.texture;e.matrix=this.matrix;e.visible=this.visible;return e};t.prototype.reset=function(){this.color=16777215;this.alpha=1;this.texture=vr.WHITE;this.matrix=null;this.visible=false};t.prototype.destroy=function(){this.texture=null;this.matrix=null};return t}();var Io=function(t,e){Io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return Io(t,e)};function Ao(t,e){Io(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Po={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points;var i=t.holes;var n=e.points;var o=e.indices;if(r.length>=6){var a=[];for(var s=0;s<i.length;s++){var u=i[s];a.push(r.length/2);r=r.concat(u.points)}var h=F()(r,a,2);if(!h){return}var f=n.length/2;for(var s=0;s<h.length;s+=3){o.push(h[s]+f);o.push(h[s+1]+f);o.push(h[s+2]+f)}for(var s=0;s<r.length;s++){n.push(r[s])}}}};var Oo={build:function(t){var e=t.shape;var r=t.points;var i=e.x;var n=e.y;var o;var a;r.length=0;if(t.type===Vt.CIRC){o=e.radius;a=e.radius}else{var s=t.shape;o=s.width;a=s.height}if(o===0||a===0){return}var u=Math.floor(30*Math.sqrt(e.radius))||Math.floor(15*Math.sqrt(o+a));u/=2.3;var h=Math.PI*2/u;for(var f=0;f<u-.5;f++){r.push(i+Math.sin(-h*f)*o,n+Math.cos(-h*f)*a)}r.push(r[0],r[1])},triangulate:function(t,e){var r=t.points;var i=e.points;var n=e.indices;var o=i.length/2;var a=o;var s=t.shape;var u=t.matrix;var h=s.x;var f=s.y;i.push(t.matrix?u.a*h+u.c*f+u.tx:h,t.matrix?u.b*h+u.d*f+u.ty:f);for(var l=0;l<r.length;l+=2){i.push(r[l],r[l+1]);n.push(o++,a,o)}}};var Co={build:function(t){var e=t.shape;var r=e.x;var i=e.y;var n=e.width;var o=e.height;var a=t.points;a.length=0;a.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points;var i=e.points;var n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]);e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};function Ro(t,e,r){var i=e-t;return t+i*r}function Do(t,e,r,i,n,o,a){if(a===void 0){a=[]}var s=20;var u=a;var h=0;var f=0;var l=0;var c=0;var d=0;var p=0;for(var v=0,m=0;v<=s;++v){m=v/s;h=Ro(t,r,m);f=Ro(e,i,m);l=Ro(r,n,m);c=Ro(i,o,m);d=Ro(h,l,m);p=Ro(f,c,m);u.push(d,p)}return u}var Mo={build:function(t){var e=t.shape;var r=t.points;var i=e.x;var n=e.y;var o=e.width;var a=e.height;var s=Math.max(0,Math.min(e.radius,Math.min(o,a)/2));r.length=0;if(!s){r.push(i,n,i+o,n,i+o,n+a,i,n+a)}else{Do(i,n+s,i,n,i+s,n,r);Do(i+o-s,n,i+o,n,i+o,n+s,r);Do(i+o,n+a-s,i+o,n+a,i+o-s,n+a,r);Do(i+s,n+a,i,n+a,i,n+a-s,r)}},triangulate:function(t,e){var r=t.points;var i=e.points;var n=e.indices;var o=i.length/2;var a=F()(r,null,2);for(var s=0,u=a.length;s<u;s+=3){n.push(a[s]+o);n.push(a[s+1]+o);n.push(a[s+2]+o)}for(var s=0,u=r.length;s<u;s++){i.push(r[s],r[++s])}}};function ko(t,e,r,i,n,o,a,s){var u=t-r*n;var h=e-i*n;var f=t+r*o;var l=e+i*o;var c;var d;if(a){c=i;d=-r}else{c=-i;d=r}var p=u+c;var v=h+d;var m=f+c;var g=l+d;s.push(p,v);s.push(m,g);return 2}function No(t,e,r,i,n,o,a,s){var u=r-t;var h=i-e;var f=Math.atan2(u,h);var l=Math.atan2(n-t,o-e);if(s&&f<l){f+=Math.PI*2}else if(!s&&f>l){l+=Math.PI*2}var c=f;var d=l-f;var p=Math.abs(d);var v=Math.sqrt(u*u+h*h);var m=(15*p*Math.sqrt(v)/Math.PI>>0)+1;var g=d/m;c+=g;if(s){a.push(t,e);a.push(r,i);for(var y=1,_=c;y<m;y++,_+=g){a.push(t,e);a.push(t+Math.sin(_)*v,e+Math.cos(_)*v)}a.push(t,e);a.push(n,o)}else{a.push(r,i);a.push(t,e);for(var y=1,_=c;y<m;y++,_+=g){a.push(t+Math.sin(_)*v,e+Math.cos(_)*v);a.push(t,e)}a.push(n,o);a.push(t,e)}return m*2}function Lo(t,e){var r=t.shape;var i=t.points||r.points.slice();var n=e.closePointEps;if(i.length===0){return}var o=t.lineStyle;var a=new Qt(i[0],i[1]);var s=new Qt(i[i.length-2],i[i.length-1]);var u=r.type!==Vt.POLY||r.closeStroke;var h=Math.abs(a.x-s.x)<n&&Math.abs(a.y-s.y)<n;if(u){i=i.slice();if(h){i.pop();i.pop();s.set(i[i.length-2],i[i.length-1])}var f=(a.x+s.x)*.5;var l=(s.y+a.y)*.5;i.unshift(f,l);i.push(f,l)}var c=e.points;var d=i.length/2;var p=i.length;var v=c.length/2;var m=o.width/2;var g=m*m;var y=o.miterLimit*o.miterLimit;var _=i[0];var b=i[1];var x=i[2];var w=i[3];var E=0;var T=0;var S=-(b-w);var I=_-x;var A=0;var P=0;var O=Math.sqrt(S*S+I*I);S/=O;I/=O;S*=m;I*=m;var C=o.alignment;var R=(1-C)*2;var D=C*2;if(!u){if(o.cap===Eo.ROUND){p+=No(_-S*(R-D)*.5,b-I*(R-D)*.5,_-S*R,b-I*R,_+S*D,b+I*D,c,true)+2}else if(o.cap===Eo.SQUARE){p+=ko(_,b,S,I,R,D,true,c)}}c.push(_-S*R,b-I*R);c.push(_+S*D,b+I*D);for(var M=1;M<d-1;++M){_=i[(M-1)*2];b=i[(M-1)*2+1];x=i[M*2];w=i[M*2+1];E=i[(M+1)*2];T=i[(M+1)*2+1];S=-(b-w);I=_-x;O=Math.sqrt(S*S+I*I);S/=O;I/=O;S*=m;I*=m;A=-(w-T);P=x-E;O=Math.sqrt(A*A+P*P);A/=O;P/=O;A*=m;P*=m;var k=x-_;var N=b-w;var L=x-E;var B=T-w;var F=N*L-B*k;var U=F<0;if(Math.abs(F)<.1){c.push(x-S*R,w-I*R);c.push(x+S*D,w+I*D);continue}var j=(-S+_)*(-I+w)-(-S+x)*(-I+b);var z=(-A+E)*(-P+w)-(-A+x)*(-P+T);var X=(k*z-L*j)/F;var H=(B*j-N*z)/F;var G=(X-x)*(X-x)+(H-w)*(H-w);var W=x+(X-x)*R;var Y=w+(H-w)*R;var V=x-(X-x)*D;var q=w-(H-w)*D;var Z=Math.min(k*k+N*N,L*L+B*B);var $=U?R:D;var K=Z+$*$*g;var J=G<=K;if(J){if(o.join===wo.BEVEL||G/g>y){if(U){c.push(W,Y);c.push(x+S*D,w+I*D);c.push(W,Y);c.push(x+A*D,w+P*D)}else{c.push(x-S*R,w-I*R);c.push(V,q);c.push(x-A*R,w-P*R);c.push(V,q)}p+=2}else if(o.join===wo.ROUND){if(U){c.push(W,Y);c.push(x+S*D,w+I*D);p+=No(x,w,x+S*D,w+I*D,x+A*D,w+P*D,c,true)+4;c.push(W,Y);c.push(x+A*D,w+P*D)}else{c.push(x-S*R,w-I*R);c.push(V,q);p+=No(x,w,x-S*R,w-I*R,x-A*R,w-P*R,c,false)+4;c.push(x-A*R,w-P*R);c.push(V,q)}}else{c.push(W,Y);c.push(V,q)}}else{c.push(x-S*R,w-I*R);c.push(x+S*D,w+I*D);if(o.join===wo.BEVEL||G/g>y);else if(o.join===wo.ROUND){if(U){p+=No(x,w,x+S*D,w+I*D,x+A*D,w+P*D,c,true)+2}else{p+=No(x,w,x-S*R,w-I*R,x-A*R,w-P*R,c,false)+2}}else{if(U){c.push(V,q);c.push(V,q)}else{c.push(W,Y);c.push(W,Y)}p+=2}c.push(x-A*R,w-P*R);c.push(x+A*D,w+P*D);p+=2}}_=i[(d-2)*2];b=i[(d-2)*2+1];x=i[(d-1)*2];w=i[(d-1)*2+1];S=-(b-w);I=_-x;O=Math.sqrt(S*S+I*I);S/=O;I/=O;S*=m;I*=m;c.push(x-S*R,w-I*R);c.push(x+S*D,w+I*D);if(!u){if(o.cap===Eo.ROUND){p+=No(x-S*(R-D)*.5,w-I*(R-D)*.5,x-S*R,w-I*R,x+S*D,w+I*D,c,false)+2}else if(o.cap===Eo.SQUARE){p+=ko(x,w,S,I,R,D,false,c)}}var Q=e.indices;var tt=To.epsilon*To.epsilon;for(var M=v;M<p+v-2;++M){_=c[M*2];b=c[M*2+1];x=c[(M+1)*2];w=c[(M+1)*2+1];E=c[(M+2)*2];T=c[(M+2)*2+1];if(Math.abs(_*(w-T)+x*(T-b)+E*(b-w))<tt){continue}Q.push(M,M+1,M+2)}}function Bo(t,e){var r=0;var i=t.shape;var n=t.points||i.points;var o=i.type!==Vt.POLY||i.closeStroke;if(n.length===0){return}var a=e.points;var s=e.indices;var u=n.length/2;var h=a.length/2;var f=h;a.push(n[0],n[1]);for(r=1;r<u;r++){a.push(n[r*2],n[r*2+1]);s.push(f,f+1);f++}if(o){s.push(f,h)}}function Fo(t,e){if(t.lineStyle.native){Bo(t,e)}else{Lo(t,e)}}var Uo=function(t){Ao(e,t);function e(e,r,i,n,o,a){if(a===void 0){a=0}var s=this;o=o||n/2;var u=-1*Math.PI/2+a;var h=i*2;var f=Gt/h;var l=[];for(var c=0;c<h;c++){var d=c%2?o:n;var p=c*f+u;l.push(e+d*Math.cos(p),r+d*Math.sin(p))}s=t.call(this,l)||this;return s}return e}(Kt);var jo=function(){function t(){}t.curveTo=function(t,e,r,i,n,o){var a=o[o.length-2];var s=o[o.length-1];var u=s-e;var h=a-t;var f=i-e;var l=r-t;var c=Math.abs(u*l-h*f);if(c<1e-8||n===0){if(o[o.length-2]!==t||o[o.length-1]!==e){o.push(t,e)}return null}var d=u*u+h*h;var p=f*f+l*l;var v=u*f+h*l;var m=n*Math.sqrt(d)/c;var g=n*Math.sqrt(p)/c;var y=m*v/d;var _=g*v/p;var b=m*l+g*h;var x=m*f+g*u;var w=h*(g+y);var E=u*(g+y);var T=l*(m+_);var S=f*(m+_);var I=Math.atan2(E-x,w-b);var A=Math.atan2(S-x,T-b);return{cx:b+t,cy:x+e,radius:n,startAngle:I,endAngle:A,anticlockwise:h*f>l*u}};t.arc=function(t,e,r,i,n,o,a,s,u){var h=a-o;var f=To._segmentsCount(Math.abs(h)*n,Math.ceil(Math.abs(h)/Gt)*40);var l=h/(f*2);var c=l*2;var d=Math.cos(l);var p=Math.sin(l);var v=f-1;var m=v%1/v;for(var g=0;g<=v;++g){var y=g+m*g;var _=l+o+c*y;var b=Math.cos(_);var x=-Math.sin(_);u.push((d*b+p*x)*n+r,(d*-x+p*b)*n+i)}};return t}();var zo=function(){function t(){}t.curveLength=function(t,e,r,i,n,o,a,s){var u=10;var h=0;var f=0;var l=0;var c=0;var d=0;var p=0;var v=0;var m=0;var g=0;var y=0;var _=0;var b=t;var x=e;for(var w=1;w<=u;++w){f=w/u;l=f*f;c=l*f;d=1-f;p=d*d;v=p*d;m=v*t+3*p*f*r+3*d*l*n+c*a;g=v*e+3*p*f*i+3*d*l*o+c*s;y=b-m;_=x-g;b=m;x=g;h+=Math.sqrt(y*y+_*_)}return h};t.curveTo=function(e,r,i,n,o,a,s){var u=s[s.length-2];var h=s[s.length-1];s.length-=2;var f=To._segmentsCount(t.curveLength(u,h,e,r,i,n,o,a));var l=0;var c=0;var d=0;var p=0;var v=0;s.push(u,h);for(var m=1,g=0;m<=f;++m){g=m/f;l=1-g;c=l*l;d=c*l;p=g*g;v=p*g;s.push(d*u+3*c*g*e+3*l*p*i+v*o,d*h+3*c*g*r+3*l*p*n+v*a)}};return t}();var Xo=function(){function t(){}t.curveLength=function(t,e,r,i,n,o){var a=t-2*r+n;var s=e-2*i+o;var u=2*r-2*t;var h=2*i-2*e;var f=4*(a*a+s*s);var l=4*(a*u+s*h);var c=u*u+h*h;var d=2*Math.sqrt(f+l+c);var p=Math.sqrt(f);var v=2*f*p;var m=2*Math.sqrt(c);var g=l/p;return(v*d+p*l*(d-m)+(4*c*f-l*l)*Math.log((2*p+g+d)/(g+m)))/(4*v)};t.curveTo=function(e,r,i,n,o){var a=o[o.length-2];var s=o[o.length-1];var u=To._segmentsCount(t.curveLength(a,s,e,r,i,n));var h=0;var f=0;for(var l=1;l<=u;++l){var c=l/u;h=a+(e-a)*c;f=s+(r-s)*c;o.push(h+(e+(i-e)*c-h)*c,f+(r+(n-r)*c-f)*c)}};return t}();var Ho=function(){function t(){this.reset()}t.prototype.begin=function(t,e,r){this.reset();this.style=t;this.start=e;this.attribStart=r};t.prototype.end=function(t,e){this.attribSize=e-this.attribStart;this.size=t-this.start};t.prototype.reset=function(){this.style=null;this.size=0;this.start=0;this.attribStart=0;this.attribSize=0};return t}();var Go;var Wo=(Go={},Go[Vt.POLY]=Po,Go[Vt.CIRC]=Oo,Go[Vt.ELIP]=Oo,Go[Vt.RECT]=Co,Go[Vt.RREC]=Mo,Go);var Yo=[];var Vo=[];var qo={buildPoly:Po,buildCircle:Oo,buildRectangle:Co,buildRoundedRectangle:Mo,FILL_COMMANDS:Wo,BATCH_POOL:Yo,DRAW_CALL_POOL:Vo,buildLine:Fo,Star:Uo,ArcUtils:jo,BezierUtils:zo,QuadraticUtils:Xo,BatchPart:Ho};var Zo=function(){function t(t,e,r,i){if(e===void 0){e=null}if(r===void 0){r=null}if(i===void 0){i=null}this.shape=t;this.lineStyle=r;this.fillStyle=e;this.matrix=i;this.type=t.type;this.points=[];this.holes=[]}t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)};t.prototype.destroy=function(){this.shape=null;this.holes.length=0;this.holes=null;this.points.length=0;this.points=null;this.lineStyle=null;this.fillStyle=null};return t}();var $o=new Qt;var Ko=new ce;var Jo=function(t){Ao(e,t);function e(){var e=t.call(this)||this;e.uvsFloat32=null;e.indicesUint16=null;e.points=[];e.colors=[];e.uvs=[];e.indices=[];e.textureIds=[];e.graphicsData=[];e.dirty=0;e.batchDirty=-1;e.cacheDirty=-1;e.clearDirty=0;e.drawCalls=[];e.batches=[];e.shapeIndex=0;e._bounds=new ce;e.boundsDirty=-1;e.boundsPadding=0;e.batchable=false;e.indicesUint16=null;e.uvsFloat32=null;e.closePointEps=1e-4;return e}Object.defineProperty(e.prototype,"bounds",{get:function(){if(this.boundsDirty!==this.dirty){this.boundsDirty=this.dirty;this.calculateBounds()}return this._bounds},enumerable:false,configurable:true});e.prototype.invalidate=function(){this.boundsDirty=-1;this.dirty++;this.batchDirty++;this.shapeIndex=0;this.points.length=0;this.colors.length=0;this.uvs.length=0;this.indices.length=0;this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++){this.drawCalls[t].texArray.clear();Vo.push(this.drawCalls[t])}this.drawCalls.length=0;for(var t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset();Yo.push(e)}this.batches.length=0};e.prototype.clear=function(){if(this.graphicsData.length>0){this.invalidate();this.clearDirty++;this.graphicsData.length=0}return this};e.prototype.drawShape=function(t,e,r,i){if(e===void 0){e=null}if(r===void 0){r=null}if(i===void 0){i=null}var n=new Zo(t,e,r,i);this.graphicsData.push(n);this.dirty++;return this};e.prototype.drawHole=function(t,e){if(e===void 0){e=null}if(!this.graphicsData.length){return null}var r=new Zo(t,null,null,e);var i=this.graphicsData[this.graphicsData.length-1];r.lineStyle=i.lineStyle;i.holes.push(r);this.dirty++;return this};e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e){this.graphicsData[e].destroy()}this.points.length=0;this.points=null;this.colors.length=0;this.colors=null;this.uvs.length=0;this.uvs=null;this.indices.length=0;this.indices=null;this.indexBuffer.destroy();this.indexBuffer=null;this.graphicsData.length=0;this.graphicsData=null;this.drawCalls.length=0;this.drawCalls=null;this.batches.length=0;this.batches=null;this._bounds=null};e.prototype.containsPoint=function(t){var e=this.graphicsData;for(var r=0;r<e.length;++r){var i=e[r];if(!i.fillStyle.visible){continue}if(i.shape){if(i.matrix){i.matrix.applyInverse(t,$o)}else{$o.copyFrom(t)}if(i.shape.contains($o.x,$o.y)){var n=false;if(i.holes){for(var o=0;o<i.holes.length;o++){var a=i.holes[o];if(a.shape.contains($o.x,$o.y)){n=true;break}}}if(!n){return true}}}}return false};e.prototype.updateBatches=function(t){if(!this.graphicsData.length){this.batchable=true;return}if(!this.validateBatching()){return}this.cacheDirty=this.dirty;var e=this.uvs;var r=this.graphicsData;var i=null;var n=null;if(this.batches.length>0){i=this.batches[this.batches.length-1];n=i.style}for(var o=this.shapeIndex;o<r.length;o++){this.shapeIndex++;var a=r[o];var s=a.fillStyle;var u=a.lineStyle;var h=Wo[a.type];h.build(a);if(a.matrix){this.transformPoints(a.points,a.matrix)}for(var f=0;f<2;f++){var l=f===0?s:u;if(!l.visible){continue}var c=l.texture.baseTexture;var d=this.indices.length;var p=this.points.length/2;c.wrapMode=Z.REPEAT;if(f===0){this.processFill(a)}else{this.processLine(a)}var v=this.points.length/2-p;if(v===0){continue}if(i&&!this._compareStyles(n,l)){i.end(d,p);i=null}if(!i){i=Yo.pop()||new Ho;i.begin(l,d,p);this.batches.push(i);n=l}this.addUvs(this.points,e,l.texture,p,v,l.matrix)}}var m=this.indices.length;var g=this.points.length/2;if(i){i.end(m,g)}if(this.batches.length===0){this.batchable=true;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length){this.indicesUint16.set(this.indices)}else{var y=g>65535&&t;this.indicesUint16=y?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable();if(this.batchable){this.packBatches()}else{this.buildDrawCalls()}};e.prototype._compareStyles=function(t,e){if(!t||!e){return false}if(t.texture.baseTexture!==e.texture.baseTexture){return false}if(t.color+t.alpha!==e.color+e.alpha){return false}if(!!t.native!==!!e.native){return false}return true};e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length){return false}for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t];var i=r.fillStyle;var n=r.lineStyle;if(i&&!i.texture.baseTexture.valid){return false}if(n&&!n.texture.baseTexture.valid){return false}}return true};e.prototype.packBatches=function(){this.batchDirty++;this.uvsFloat32=new Float32Array(this.uvs);var t=this.batches;for(var e=0,r=t.length;e<r;e++){var i=t[e];for(var n=0;n<i.size;n++){var o=i.start+n;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}};e.prototype.isBatchable=function(){if(this.points.length>65535*2){return false}var t=this.batches;for(var r=0;r<t.length;r++){if(t[r].style.native){return false}}return this.points.length<e.BATCHABLE_SIZE*2};e.prototype.buildDrawCalls=function(){var t=++Je._globalBatch;for(var e=0;e<this.drawCalls.length;e++){this.drawCalls[e].texArray.clear();Vo.push(this.drawCalls[e])}this.drawCalls.length=0;var r=this.colors;var i=this.textureIds;var n=Vo.pop();if(!n){n=new vn;n.texArray=new mn}n.texArray.count=0;n.start=0;n.size=0;n.type=G.TRIANGLES;var o=0;var a=null;var s=0;var u=false;var h=G.TRIANGLES;var f=0;this.drawCalls.push(n);for(var e=0;e<this.batches.length;e++){var l=this.batches[e];var c=8;var d=l.style;var p=d.texture.baseTexture;if(u!==!!d.native){u=!!d.native;h=u?G.LINES:G.TRIANGLES;a=null;o=c;t++}if(a!==p){a=p;if(p._batchEnabled!==t){if(o===c){t++;o=0;if(n.size>0){n=Vo.pop();if(!n){n=new vn;n.texArray=new mn}this.drawCalls.push(n)}n.start=f;n.size=0;n.texArray.count=0;n.type=h}p.touched=1;p._batchEnabled=t;p._batchLocation=o;p.wrapMode=10497;n.texArray.elements[n.texArray.count++]=p;o++}}n.size+=l.size;f+=l.size;s=p._batchLocation;this.addColors(r,d.color,d.alpha,l.attribSize,l.attribStart);this.addTextureIds(i,s,l.attribSize,l.attribStart)}Je._globalBatch=t;this.packAttributes()};e.prototype.packAttributes=function(){var t=this.points;var e=this.uvs;var r=this.colors;var i=this.textureIds;var n=new ArrayBuffer(t.length*3*4);var o=new Float32Array(n);var a=new Uint32Array(n);var s=0;for(var u=0;u<t.length/2;u++){o[s++]=t[u*2];o[s++]=t[u*2+1];o[s++]=e[u*2];o[s++]=e[u*2+1];a[s++]=r[u];o[s++]=i[u]}this._buffer.update(n);this._indexBuffer.update(this.indicesUint16)};e.prototype.processFill=function(t){if(t.holes.length){this.processHoles(t.holes);Po.triangulate(t,this)}else{var e=Wo[t.type];e.triangulate(t,this)}};e.prototype.processLine=function(t){Fo(t,this);for(var e=0;e<t.holes.length;e++){Fo(t.holes[e],this)}};e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];var i=Wo[r.type];i.build(r);if(r.matrix){this.transformPoints(r.points,r.matrix)}}};e.prototype.calculateBounds=function(){var t=this._bounds;var e=Ko;var r=ee.IDENTITY;this._bounds.clear();e.clear();for(var i=0;i<this.graphicsData.length;i++){var n=this.graphicsData[i];var o=n.shape;var a=n.type;var s=n.lineStyle;var u=n.matrix||ee.IDENTITY;var h=0;if(s&&s.visible){var f=s.alignment;h=s.width;if(a===Vt.POLY){h=h*(.5+Math.abs(.5-f))}else{h=h*Math.max(0,f)}}if(r!==u){if(!e.isEmpty()){t.addBoundsMatrix(e,r);e.clear()}r=u}if(a===Vt.RECT||a===Vt.RREC){var l=o;e.addFramePad(l.x,l.y,l.x+l.width,l.y+l.height,h,h)}else if(a===Vt.CIRC){var c=o;e.addFramePad(c.x,c.y,c.x,c.y,c.radius+h,c.radius+h)}else if(a===Vt.ELIP){var d=o;e.addFramePad(d.x,d.y,d.x,d.y,d.width+h,d.height+h)}else{var p=o;t.addVerticesMatrix(r,p.points,0,p.points.length,h,h)}}if(!e.isEmpty()){t.addBoundsMatrix(e,r)}t.pad(this.boundsPadding,this.boundsPadding)};e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[r*2];var n=t[r*2+1];t[r*2]=e.a*i+e.c*n+e.tx;t[r*2+1]=e.b*i+e.d*n+e.ty}};e.prototype.addColors=function(t,e,r,i,n){if(n===void 0){n=0}var o=(e>>16)+(e&65280)+((e&255)<<16);var a=gt(o,r);t.length=Math.max(t.length,n+i);for(var s=0;s<i;s++){t[n+s]=a}};e.prototype.addTextureIds=function(t,e,r,i){if(i===void 0){i=0}t.length=Math.max(t.length,i+r);for(var n=0;n<r;n++){t[i+n]=e}};e.prototype.addUvs=function(t,e,r,i,n,o){if(o===void 0){o=null}var a=0;var s=e.length;var u=r.frame;while(a<n){var h=t[(i+a)*2];var f=t[(i+a)*2+1];if(o){var l=o.a*h+o.c*f+o.tx;f=o.b*h+o.d*f+o.ty;h=l}a++;e.push(h/u.width,f/u.height)}var c=r.baseTexture;if(u.width<c.width||u.height<c.height){this.adjustUvs(e,r,s,n)}};e.prototype.adjustUvs=function(t,e,r,i){var n=e.baseTexture;var o=1e-6;var a=r+i*2;var s=e.frame;var u=s.width/n.width;var h=s.height/n.height;var f=s.x/s.width;var l=s.y/s.height;var c=Math.floor(t[r]+o);var d=Math.floor(t[r+1]+o);for(var p=r+2;p<a;p+=2){c=Math.min(c,Math.floor(t[p]+o));d=Math.min(d,Math.floor(t[p+1]+o))}f-=c;l-=d;for(var p=r;p<a;p+=2){t[p]=(t[p]+f)*u;t[p+1]=(t[p+1]+l)*h}};e.BATCHABLE_SIZE=100;return e}(bn);var Qo=function(t){Ao(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.width=0;e.alignment=.5;e.native=false;e.cap=Eo.BUTT;e.join=wo.MITER;e.miterLimit=10;return e}e.prototype.clone=function(){var t=new e;t.color=this.color;t.alpha=this.alpha;t.texture=this.texture;t.matrix=this.matrix;t.visible=this.visible;t.width=this.width;t.alignment=this.alignment;t.native=this.native;t.cap=this.cap;t.join=this.join;t.miterLimit=this.miterLimit;return t};e.prototype.reset=function(){t.prototype.reset.call(this);this.color=0;this.alignment=.5;this.width=0;this.native=false};return e}(So);var ta=new Float32Array(3);var ea={};var ra=function(t){Ao(e,t);function e(e){if(e===void 0){e=null}var r=t.call(this)||this;r._geometry=e||new Jo;r._geometry.refCount++;r.shader=null;r.state=Pi.for2d();r._fillStyle=new So;r._lineStyle=new Qo;r._matrix=null;r._holeMode=false;r.currentPath=null;r.batches=[];r.batchTint=-1;r.batchDirty=-1;r.vertexData=null;r.pluginName="batch";r._transformID=-1;r.tint=16777215;r.blendMode=H.NORMAL;return r}Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:false,configurable:true});e.prototype.clone=function(){this.finishPoly();return new e(this._geometry)};Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:false,configurable:true});e.prototype.lineStyle=function(t){if(t===void 0){t=null}if(typeof t==="number"){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:e[2]!==undefined?e[2]:1,alignment:e[3]!==undefined?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)};e.prototype.lineTextureStyle=function(t){if(typeof t==="number"){Rt("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments,r=e[0],i=e[1],n=e[2],o=e[3],a=e[4],s=e[5],u=e[6];t={width:r,texture:i,color:n,alpha:o,matrix:a,alignment:s,native:u};Object.keys(t).forEach((function(e){return t[e]===undefined&&delete t[e]}))}t=Object.assign({width:0,texture:vr.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:false,cap:Eo.BUTT,join:wo.MITER,miterLimit:10},t);if(this.currentPath){this.startPoly()}var h=t.width>0&&t.alpha>0;if(!h){this._lineStyle.reset()}else{if(t.matrix){t.matrix=t.matrix.clone();t.matrix.invert()}Object.assign(this._lineStyle,{visible:h},t)}return this};e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points;var e=this.currentPath.points.length;if(e>2){this.drawShape(this.currentPath);this.currentPath=new Kt;this.currentPath.closeStroke=false;this.currentPath.points.push(t[e-2],t[e-1])}}else{this.currentPath=new Kt;this.currentPath.closeStroke=false}};e.prototype.finishPoly=function(){if(this.currentPath){if(this.currentPath.points.length>2){this.drawShape(this.currentPath);this.currentPath=null}else{this.currentPath.points.length=0}}};e.prototype.moveTo=function(t,e){this.startPoly();this.currentPath.points[0]=t;this.currentPath.points[1]=e;return this};e.prototype.lineTo=function(t,e){if(!this.currentPath){this.moveTo(0,0)}var r=this.currentPath.points;var i=r[r.length-2];var n=r[r.length-1];if(i!==t||n!==e){r.push(t,e)}return this};e.prototype._initCurve=function(t,e){if(t===void 0){t=0}if(e===void 0){e=0}if(this.currentPath){if(this.currentPath.points.length===0){this.currentPath.points=[t,e]}}else{this.moveTo(t,e)}};e.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this.currentPath.points;if(n.length===0){this.moveTo(0,0)}Xo.curveTo(t,e,r,i,n);return this};e.prototype.bezierCurveTo=function(t,e,r,i,n,o){this._initCurve();zo.curveTo(t,e,r,i,n,o,this.currentPath.points);return this};e.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this.currentPath.points;var a=jo.curveTo(t,e,r,i,n,o);if(a){var s=a.cx,u=a.cy,h=a.radius,f=a.startAngle,l=a.endAngle,c=a.anticlockwise;this.arc(s,u,h,f,l,c)}return this};e.prototype.arc=function(t,e,r,i,n,o){if(o===void 0){o=false}if(i===n){return this}if(!o&&n<=i){n+=Gt}else if(o&&i<=n){i+=Gt}var a=n-i;if(a===0){return this}var s=t+Math.cos(i)*r;var u=e+Math.sin(i)*r;var h=this._geometry.closePointEps;var f=this.currentPath?this.currentPath.points:null;if(f){var l=Math.abs(f[f.length-2]-s);var c=Math.abs(f[f.length-1]-u);if(l<h&&c<h);else{f.push(s,u)}}else{this.moveTo(s,u);f=this.currentPath.points}jo.arc(s,u,t,e,r,i,n,o,f);return this};e.prototype.beginFill=function(t,e){if(t===void 0){t=0}if(e===void 0){e=1}return this.beginTextureFill({texture:vr.WHITE,color:t,alpha:e})};e.prototype.beginTextureFill=function(t){if(t instanceof vr){Rt("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments,r=e[0],i=e[1],n=e[2],o=e[3];t={texture:r,color:i,alpha:n,matrix:o};Object.keys(t).forEach((function(e){return t[e]===undefined&&delete t[e]}))}t=Object.assign({texture:vr.WHITE,color:16777215,alpha:1,matrix:null},t);if(this.currentPath){this.startPoly()}var a=t.alpha>0;if(!a){this._fillStyle.reset()}else{if(t.matrix){t.matrix=t.matrix.clone();t.matrix.invert()}Object.assign(this._fillStyle,{visible:a},t)}return this};e.prototype.endFill=function(){this.finishPoly();this._fillStyle.reset();return this};e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new qt(t,e,r,i))};e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new Jt(t,e,r,i,n))};e.prototype.drawCircle=function(t,e,r){return this.drawShape(new Zt(t,e,r))};e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new $t(t,e,r,i))};e.prototype.drawPolygon=function(){var t=arguments;var e=[];for(var r=0;r<arguments.length;r++){e[r]=t[r]}var i;var n=true;var o=e[0];if(o.points){n=o.closeStroke;i=o.points}else if(Array.isArray(e[0])){i=e[0]}else{i=e}var a=new Kt(i);a.closeStroke=n;this.drawShape(a);return this};e.prototype.drawShape=function(t){if(!this._holeMode){this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix)}else{this._geometry.drawHole(t,this._matrix)}return this};e.prototype.drawStar=function(t,e,r,i,n,o){if(o===void 0){o=0}return this.drawPolygon(new Uo(t,e,r,i,n,o))};e.prototype.clear=function(){this._geometry.clear();this._lineStyle.reset();this._fillStyle.reset();this._boundsID++;this._matrix=null;this._holeMode=false;this.currentPath=null;return this};e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Vt.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)};e.prototype._render=function(t){this.finishPoly();var e=this._geometry;var r=t.context.supports.uint32Indices;e.updateBatches(r);if(e.batchable){if(this.batchDirty!==e.batchDirty){this._populateBatches()}this._renderBatched(t)}else{t.batch.flush();this._renderDirect(t)}};e.prototype._populateBatches=function(){var t=this._geometry;var e=this.blendMode;var r=t.batches.length;this.batchTint=-1;this._transformID=-1;this.batchDirty=t.batchDirty;this.batches.length=r;this.vertexData=new Float32Array(t.points);for(var i=0;i<r;i++){var n=t.batches[i];var o=n.style.color;var a=new Float32Array(this.vertexData.buffer,n.attribStart*4*2,n.attribSize*2);var s=new Float32Array(t.uvsFloat32.buffer,n.attribStart*4*2,n.attribSize*2);var u=new Uint16Array(t.indicesUint16.buffer,n.start*2,n.size);var h={vertexData:a,blendMode:e,indices:u,uvs:s,_batchRGB:ht(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=h}};e.prototype._renderBatched=function(t){if(!this.batches.length){return}t.batch.setObjectRenderer(t.plugins[this.pluginName]);this.calculateVertices();this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha;t.plugins[this.pluginName].render(i)}};e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t);var r=this._geometry;var i=this.tint;var n=this.worldAlpha;var o=e.uniforms;var a=r.drawCalls;o.translationMatrix=this.transform.worldTransform;o.tint[0]=(i>>16&255)/255*n;o.tint[1]=(i>>8&255)/255*n;o.tint[2]=(i&255)/255*n;o.tint[3]=n;t.shader.bind(e);t.geometry.bind(r,e);t.state.set(this.state);for(var s=0,u=a.length;s<u;s++){this._renderDrawCallDirect(t,r.drawCalls[s])}};e.prototype._renderDrawCallDirect=function(t,e){var r=e.texArray,i=e.type,n=e.size,o=e.start;var a=r.count;for(var s=0;s<a;s++){t.texture.bind(r.elements[s],s)}t.geometry.draw(i,n,o)};e.prototype._resolveDirectShader=function(t){var e=this.shader;var r=this.pluginName;if(!e){if(!ea[r]){var i=t.plugins.batch.MAX_TEXTURES;var n=new Int32Array(i);for(var o=0;o<i;o++){n[o]=o}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new ee,default:Mr.from({uSamplers:n},true)};var s=t.plugins[r]._shader.program;ea[r]=new wi(s,a)}e=ea[r]}return e};e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(!t.graphicsData.length){return}var e=t.bounds,r=e.minX,i=e.minY,n=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,i,n,o)};e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,e._TEMP_POINT);return this._geometry.containsPoint(e._TEMP_POINT)};e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;var t=ht(this.tint,ta);for(var e=0;e<this.batches.length;e++){var r=this.batches[e];var i=r._batchRGB;var n=t[0]*i[0]*255;var o=t[1]*i[1]*255;var a=t[2]*i[2]*255;var s=(n<<16)+(o<<8)+(a|0);r._tintRGB=(s>>16)+(s&65280)+((s&255)<<16)}}};e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID===t){return}this._transformID=t;var e=this.transform.worldTransform;var r=e.a;var i=e.b;var n=e.c;var o=e.d;var a=e.tx;var s=e.ty;var u=this._geometry.points;var h=this.vertexData;var f=0;for(var l=0;l<u.length;l+=2){var c=u[l];var d=u[l+1];h[f++]=r*c+n*d+a;h[f++]=o*d+i*c+s}};e.prototype.closePath=function(){var t=this.currentPath;if(t){t.closeStroke=true}return this};e.prototype.setMatrix=function(t){this._matrix=t;return this};e.prototype.beginHole=function(){this.finishPoly();this._holeMode=true;return this};e.prototype.endHole=function(){this.finishPoly();this._holeMode=false;return this};e.prototype.destroy=function(e){this._geometry.refCount--;if(this._geometry.refCount===0){this._geometry.dispose()}this._matrix=null;this.currentPath=null;this._lineStyle.destroy();this._lineStyle=null;this._fillStyle.destroy();this._fillStyle=null;this._geometry=null;this.shader=null;this.vertexData=null;this.batches.length=0;this.batches=null;t.prototype.destroy.call(this,e)};e._TEMP_POINT=new Qt;return e}(ye);var ia=function(t,e){ia=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return ia(t,e)};function na(t,e){ia(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var oa=new Qt;var aa=new Uint16Array([0,1,2,0,2,3]);var sa=function(t){na(e,t);function e(e){var r=t.call(this)||this;r._anchor=new te(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0);r._texture=null;r._width=0;r._height=0;r._tint=null;r._tintRGB=null;r.tint=16777215;r.blendMode=H.NORMAL;r._cachedTint=16777215;r.uvs=null;r.texture=e||vr.EMPTY;r.vertexData=new Float32Array(8);r.vertexTrimmedData=null;r._transformID=-1;r._textureID=-1;r._transformTrimmedID=-1;r._textureTrimmedID=-1;r.indices=aa;r.pluginName="batch";r.isSprite=true;r._roundPixels=k.ROUND_PIXELS;return r}e.prototype._onTextureUpdate=function(){this._textureID=-1;this._textureTrimmedID=-1;this._cachedTint=16777215;if(this._width){this.scale.x=At(this.scale.x)*this._width/this._texture.orig.width}if(this._height){this.scale.y=At(this.scale.y)*this._height/this._texture.orig.height}};e.prototype._onAnchorUpdate=function(){this._transformID=-1;this._transformTrimmedID=-1};e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID){return}if(this._textureID!==t._updateID){this.uvs=this._texture._uvs.uvsFloat32}this._transformID=this.transform._worldID;this._textureID=t._updateID;var e=this.transform.worldTransform;var r=e.a;var i=e.b;var n=e.c;var o=e.d;var a=e.tx;var s=e.ty;var u=this.vertexData;var h=t.trim;var f=t.orig;var l=this._anchor;var c=0;var d=0;var p=0;var v=0;if(h){d=h.x-l._x*f.width;c=d+h.width;v=h.y-l._y*f.height;p=v+h.height}else{d=-l._x*f.width;c=d+f.width;v=-l._y*f.height;p=v+f.height}u[0]=r*d+n*v+a;u[1]=o*v+i*d+s;u[2]=r*c+n*v+a;u[3]=o*v+i*c+s;u[4]=r*c+n*p+a;u[5]=o*p+i*c+s;u[6]=r*d+n*p+a;u[7]=o*p+i*d+s;if(this._roundPixels){var m=k.RESOLUTION;for(var g=0;g<u.length;++g){u[g]=Math.round((u[g]*m|0)/m)}}};e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData){this.vertexTrimmedData=new Float32Array(8)}else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID){return}this._transformTrimmedID=this.transform._worldID;this._textureTrimmedID=this._texture._updateID;var t=this._texture;var e=this.vertexTrimmedData;var r=t.orig;var i=this._anchor;var n=this.transform.worldTransform;var o=n.a;var a=n.b;var s=n.c;var u=n.d;var h=n.tx;var f=n.ty;var l=-i._x*r.width;var c=l+r.width;var d=-i._y*r.height;var p=d+r.height;e[0]=o*l+s*d+h;e[1]=u*d+a*l+f;e[2]=o*c+s*d+h;e[3]=u*d+a*c+f;e[4]=o*c+s*p+h;e[5]=u*p+a*c+f;e[6]=o*l+s*p+h;e[7]=u*p+a*l+f};e.prototype._render=function(t){this.calculateVertices();t.batch.setObjectRenderer(t.plugins[this.pluginName]);t.plugins[this.pluginName].render(this)};e.prototype._calculateBounds=function(){var t=this._texture.trim;var e=this._texture.orig;if(!t||t.width===e.width&&t.height===e.height){this.calculateVertices();this._bounds.addQuad(this.vertexData)}else{this.calculateTrimmedVertices();this._bounds.addQuad(this.vertexTrimmedData)}};e.prototype.getLocalBounds=function(e){if(this.children.length===0){this._bounds.minX=this._texture.orig.width*-this._anchor._x;this._bounds.minY=this._texture.orig.height*-this._anchor._y;this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x);this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y);if(!e){if(!this._localBoundsRect){this._localBoundsRect=new qt}e=this._localBoundsRect}return this._bounds.getRectangle(e)}return t.prototype.getLocalBounds.call(this,e)};e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,oa);var e=this._texture.orig.width;var r=this._texture.orig.height;var i=-e*this.anchor.x;var n=0;if(oa.x>=i&&oa.x<i+e){n=-r*this.anchor.y;if(oa.y>=n&&oa.y<n+r){return true}}return false};e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);this._texture.off("update",this._onTextureUpdate,this);this._anchor=null;var r=typeof e==="boolean"?e:e&&e.texture;if(r){var i=typeof e==="boolean"?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null};e.from=function(t,r){var i=t instanceof vr?t:vr.from(t,r);return new e(i)};Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){if(this._roundPixels!==t){this._transformID=-1}this._roundPixels=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=At(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width;this._width=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=At(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height;this._height=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t;this._tintRGB=(t>>16)+(t&65280)+((t&255)<<16)},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){if(this._texture===t){return}if(this._texture){this._texture.off("update",this._onTextureUpdate,this)}this._texture=t||vr.EMPTY;this._cachedTint=16777215;this._textureID=-1;this._textureTrimmedID=-1;if(t){if(t.baseTexture.valid){this._onTextureUpdate()}else{t.once("update",this._onTextureUpdate,this)}}},enumerable:false,configurable:true});return e}(ye);var ua=function(t,e){ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return ua(t,e)};function ha(t,e){ua(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var fa;(function(t){t[t["LINEAR_VERTICAL"]=0]="LINEAR_VERTICAL";t[t["LINEAR_HORIZONTAL"]=1]="LINEAR_HORIZONTAL"})(fa||(fa={}));var la={align:"left",breakWords:false,dropShadow:false,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:fa.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:false,whiteSpace:"pre",wordWrap:false,wordWrapWidth:100,leading:0};var ca=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];var da=function(){function t(t){this.styleID=0;this.reset();ga(this,t,t)}t.prototype.clone=function(){var e={};ga(e,this,la);return new t(e)};t.prototype.reset=function(){ga(this,la,la)};Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){if(this._align!==t){this._align=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){if(this._breakWords!==t){this._breakWords=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){if(this._dropShadow!==t){this._dropShadow=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){if(this._dropShadowAlpha!==t){this._dropShadowAlpha=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){if(this._dropShadowAngle!==t){this._dropShadowAngle=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){if(this._dropShadowBlur!==t){this._dropShadowBlur=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=va(t);if(this._dropShadowColor!==e){this._dropShadowColor=e;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){if(this._dropShadowDistance!==t){this._dropShadowDistance=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=va(t);if(this._fill!==e){this._fill=e;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){if(this._fillGradientType!==t){this._fillGradientType=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){if(!ma(this._fillGradientStops,t)){this._fillGradientStops=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){if(this.fontFamily!==t){this._fontFamily=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){if(this._fontSize!==t){this._fontSize=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){if(this._fontStyle!==t){this._fontStyle=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){if(this._fontVariant!==t){this._fontVariant=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){if(this._fontWeight!==t){this._fontWeight=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){if(this._letterSpacing!==t){this._letterSpacing=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){if(this._lineHeight!==t){this._lineHeight=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){if(this._leading!==t){this._leading=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){if(this._lineJoin!==t){this._lineJoin=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){if(this._miterLimit!==t){this._miterLimit=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){if(this._padding!==t){this._padding=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=va(t);if(this._stroke!==e){this._stroke=e;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){if(this._strokeThickness!==t){this._strokeThickness=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){if(this._textBaseline!==t){this._textBaseline=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){if(this._trim!==t){this._trim=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){if(this._whiteSpace!==t){this._whiteSpace=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){if(this._wordWrap!==t){this._wordWrap=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){if(this._wordWrapWidth!==t){this._wordWrapWidth=t;this.styleID++}},enumerable:false,configurable:true});t.prototype.toFontString=function(){var t=typeof this.fontSize==="number"?this.fontSize+"px":this.fontSize;var e=this.fontFamily;if(!Array.isArray(this.fontFamily)){e=this.fontFamily.split(",")}for(var r=e.length-1;r>=0;r--){var i=e[r].trim();if(!/([\"\'])[^\'\"]+\1/.test(i)&&ca.indexOf(i)<0){i='"'+i+'"'}e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")};return t}();function pa(t){if(typeof t==="number"){return ft(t)}else if(typeof t==="string"){if(t.indexOf("0x")===0){t=t.replace("0x","#")}}return t}function va(t){if(!Array.isArray(t)){return pa(t)}else{for(var e=0;e<t.length;++e){t[e]=pa(t[e])}return t}}function ma(t,e){if(!Array.isArray(t)||!Array.isArray(e)){return false}if(t.length!==e.length){return false}for(var r=0;r<t.length;++r){if(t[r]!==e[r]){return false}}return true}function ga(t,e,r){for(var i in r){if(Array.isArray(e[i])){t[i]=e[i].slice()}else{t[i]=e[i]}}}var ya=function(){function t(t,e,r,i,n,o,a,s,u){this.text=t;this.style=e;this.width=r;this.height=i;this.lines=n;this.lineWidths=o;this.lineHeight=a;this.maxLineWidth=s;this.fontProperties=u}t.measureText=function(e,r,i,n){if(n===void 0){n=t._canvas}i=i===undefined||i===null?r.wordWrap:i;var o=r.toFontString();var a=t.measureFont(o);if(a.fontSize===0){a.fontSize=r.fontSize;a.ascent=r.fontSize}var s=n.getContext("2d");s.font=o;var u=i?t.wordWrap(e,r,n):e;var h=u.split(/(?:\r\n|\r|\n)/);var f=new Array(h.length);var l=0;for(var c=0;c<h.length;c++){var d=s.measureText(h[c]).width+(h[c].length-1)*r.letterSpacing;f[c]=d;l=Math.max(l,d)}var p=l+r.strokeThickness;if(r.dropShadow){p+=r.dropShadowDistance}var v=r.lineHeight||a.fontSize+r.strokeThickness;var m=Math.max(v,a.fontSize+r.strokeThickness)+(h.length-1)*(v+r.leading);if(r.dropShadow){m+=r.dropShadowDistance}return new t(e,r,p,m,h,f,v+r.leading,l,a)};t.wordWrap=function(e,r,i){if(i===void 0){i=t._canvas}var n=i.getContext("2d");var o=0;var a="";var s="";var u=Object.create(null);var h=r.letterSpacing,f=r.whiteSpace;var l=t.collapseSpaces(f);var c=t.collapseNewlines(f);var d=!l;var p=r.wordWrapWidth+h;var v=t.tokenize(e);for(var m=0;m<v.length;m++){var g=v[m];if(t.isNewline(g)){if(!c){s+=t.addLine(a);d=!l;a="";o=0;continue}g=" "}if(l){var y=t.isBreakingSpace(g);var _=t.isBreakingSpace(a[a.length-1]);if(y&&_){continue}}var b=t.getFromCache(g,h,u,n);if(b>p){if(a!==""){s+=t.addLine(a);a="";o=0}if(t.canBreakWords(g,r.breakWords)){var x=t.wordWrapSplit(g);for(var w=0;w<x.length;w++){var E=x[w];var T=1;while(x[w+T]){var S=x[w+T];var I=E[E.length-1];if(!t.canBreakChars(I,S,g,w,r.breakWords)){E+=S}else{break}T++}w+=E.length-1;var A=t.getFromCache(E,h,u,n);if(A+o>p){s+=t.addLine(a);d=false;a="";o=0}a+=E;o+=A}}else{if(a.length>0){s+=t.addLine(a);a="";o=0}var P=m===v.length-1;s+=t.addLine(g,!P);d=false;a="";o=0}}else{if(b+o>p){d=false;s+=t.addLine(a);a="";o=0}if(a.length>0||!t.isBreakingSpace(g)||d){a+=g;o+=b}}}s+=t.addLine(a,false);return s};t.addLine=function(e,r){if(r===void 0){r=true}e=t.trimRight(e);e=r?e+"\n":e;return e};t.getFromCache=function(t,e,r,i){var n=r[t];if(typeof n!=="number"){var o=t.length*e;n=i.measureText(t).width+o;r[t]=n}return n};t.collapseSpaces=function(t){return t==="normal"||t==="pre-line"};t.collapseNewlines=function(t){return t==="normal"};t.trimRight=function(e){if(typeof e!=="string"){return""}for(var r=e.length-1;r>=0;r--){var i=e[r];if(!t.isBreakingSpace(i)){break}e=e.slice(0,-1)}return e};t.isNewline=function(e){if(typeof e!=="string"){return false}return t._newlines.indexOf(e.charCodeAt(0))>=0};t.isBreakingSpace=function(e){if(typeof e!=="string"){return false}return t._breakingSpaces.indexOf(e.charCodeAt(0))>=0};t.tokenize=function(e){var r=[];var i="";if(typeof e!=="string"){return r}for(var n=0;n<e.length;n++){var o=e[n];if(t.isBreakingSpace(o)||t.isNewline(o)){if(i!==""){r.push(i);i=""}r.push(o);continue}i+=o}if(i!==""){r.push(i)}return r};t.canBreakWords=function(t,e){return e};t.canBreakChars=function(t,e,r,i,n){return true};t.wordWrapSplit=function(t){return t.split("")};t.measureFont=function(e){if(t._fonts[e]){return t._fonts[e]}var r={ascent:0,descent:0,fontSize:0};var i=t._canvas;var n=t._context;n.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL;var a=Math.ceil(n.measureText(o).width);var s=Math.ceil(n.measureText(t.BASELINE_SYMBOL).width);var u=2*s;s=s*t.BASELINE_MULTIPLIER|0;i.width=a;i.height=u;n.fillStyle="#f00";n.fillRect(0,0,a,u);n.font=e;n.textBaseline="alphabetic";n.fillStyle="#000";n.fillText(o,0,s);var h=n.getImageData(0,0,a,u).data;var f=h.length;var l=a*4;var c=0;var d=0;var p=false;for(c=0;c<s;++c){for(var v=0;v<l;v+=4){if(h[d+v]!==255){p=true;break}}if(!p){d+=l}else{break}}r.ascent=s-c;d=f-l;p=false;for(c=u;c>s;--c){for(var v=0;v<l;v+=4){if(h[d+v]!==255){p=true;break}}if(!p){d-=l}else{break}}r.descent=c-s;r.fontSize=r.ascent+r.descent;t._fonts[e]=r;return r};t.clearMetrics=function(e){if(e===void 0){e=""}if(e){delete t._fonts[e]}else{t._fonts={}}};return t}();var _a=function(){try{var t=new OffscreenCanvas(0,0);var e=t.getContext("2d");if(e&&e.measureText){return t}return document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();_a.width=_a.height=10;ya._canvas=_a;ya._context=_a.getContext("2d");ya._fonts={};ya.METRICS_STRING="|ÉqÅ";ya.BASELINE_SYMBOL="M";ya.BASELINE_MULTIPLIER=1.4;ya._newlines=[10,13];ya._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var ba={texture:true,children:false,baseTexture:true};var xa=function(t){ha(e,t);function e(e,r,i){var n=this;var o=false;if(!i){i=document.createElement("canvas");o=true}i.width=3;i.height=3;var a=vr.from(i);a.orig=new qt;a.trim=new qt;n=t.call(this,a)||this;n._ownCanvas=o;n.canvas=i;n.context=n.canvas.getContext("2d");n._resolution=k.RESOLUTION;n._autoResolution=true;n._text=null;n._style=null;n._styleListener=null;n._font="";n.text=e;n.style=r;n.localStyleID=-1;return n}e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID){this.dirty=true;this.localStyleID=e.styleID}if(!this.dirty&&t){return}this._font=this._style.toFontString();var r=this.context;var i=ya.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas);var n=i.width;var o=i.height;var a=i.lines;var s=i.lineHeight;var u=i.lineWidths;var h=i.maxLineWidth;var f=i.fontProperties;this.canvas.width=Math.ceil((Math.max(1,n)+e.padding*2)*this._resolution);this.canvas.height=Math.ceil((Math.max(1,o)+e.padding*2)*this._resolution);r.scale(this._resolution,this._resolution);r.clearRect(0,0,this.canvas.width,this.canvas.height);r.font=this._font;r.lineWidth=e.strokeThickness;r.textBaseline=e.textBaseline;r.lineJoin=e.lineJoin;r.miterLimit=e.miterLimit;var l;var c;var d=e.dropShadow?2:1;for(var p=0;p<d;++p){var v=e.dropShadow&&p===0;var m=v?Math.ceil(Math.max(1,o)+e.padding*2):0;var g=m*this._resolution;if(v){r.fillStyle="black";r.strokeStyle="black";var y=e.dropShadowColor;var _=ht(typeof y==="number"?y:lt(y));var b=e.dropShadowBlur*this._resolution;var x=e.dropShadowDistance*this._resolution;r.shadowColor="rgba("+_[0]*255+","+_[1]*255+","+_[2]*255+","+e.dropShadowAlpha+")";r.shadowBlur=b;r.shadowOffsetX=Math.cos(e.dropShadowAngle)*x;r.shadowOffsetY=Math.sin(e.dropShadowAngle)*x+g}else{r.fillStyle=this._generateFillStyle(e,a,i);r.strokeStyle=e.stroke;r.shadowColor="black";r.shadowBlur=0;r.shadowOffsetX=0;r.shadowOffsetY=0}for(var w=0;w<a.length;w++){l=e.strokeThickness/2;c=e.strokeThickness/2+w*s+f.ascent;if(e.align==="right"){l+=h-u[w]}else if(e.align==="center"){l+=(h-u[w])/2}if(e.stroke&&e.strokeThickness){this.drawLetterSpacing(a[w],l+e.padding,c+e.padding-m,true)}if(e.fill){this.drawLetterSpacing(a[w],l+e.padding,c+e.padding-m)}}}this.updateTexture()};e.prototype.drawLetterSpacing=function(t,e,r,i){if(i===void 0){i=false}var n=this._style;var o=n.letterSpacing;if(o===0){if(i){this.context.strokeText(t,e,r)}else{this.context.fillText(t,e,r)}return}var a=e;var s=Array.from?Array.from(t):t.split("");var u=this.context.measureText(t).width;var h=0;for(var f=0;f<s.length;++f){var l=s[f];if(i){this.context.strokeText(l,a,r)}else{this.context.fillText(l,a,r)}h=this.context.measureText(t.substring(f+1)).width;a+=u-h+o;u=h}};e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=Ft(t);if(e.data){t.width=e.width;t.height=e.height;this.context.putImageData(e.data,0,0)}}var r=this._texture;var i=this._style;var n=i.trim?0:i.padding;var o=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(t.width/this._resolution);r.trim.height=r._frame.height=Math.ceil(t.height/this._resolution);r.trim.x=-n;r.trim.y=-n;r.orig.width=r._frame.width-n*2;r.orig.height=r._frame.height-n*2;this._onTextureUpdate();o.setRealSize(t.width,t.height,this._resolution);this._recursivePostUpdateTransform();this.dirty=false};e.prototype._render=function(e){if(this._autoResolution&&this._resolution!==e.resolution){this._resolution=e.resolution;this.dirty=true}this.updateText(true);t.prototype._render.call(this,e)};e.prototype.getLocalBounds=function(e){this.updateText(true);return t.prototype.getLocalBounds.call(this,e)};e.prototype._calculateBounds=function(){this.updateText(true);this.calculateVertices();this._bounds.addQuad(this.vertexData)};e.prototype._generateFillStyle=function(t,e,r){var i=t.fill;if(!Array.isArray(i)){return i}else if(i.length===1){return i[0]}var n;var o=t.dropShadow?t.dropShadowDistance:0;var a=t.padding||0;var s=Math.ceil(this.canvas.width/this._resolution)-o-a*2;var u=Math.ceil(this.canvas.height/this._resolution)-o-a*2;var h=i.slice();var f=t.fillGradientStops.slice();if(!f.length){var l=h.length+1;for(var c=1;c<l;++c){f.push(c/l)}}h.unshift(i[0]);f.unshift(0);h.push(i[i.length-1]);f.push(1);if(t.fillGradientType===fa.LINEAR_VERTICAL){n=this.context.createLinearGradient(s/2,a,s/2,u+a);var d=0;var p=r.fontProperties.fontSize+t.strokeThickness;var v=p/u;for(var c=0;c<e.length;c++){var m=r.lineHeight*c;for(var g=0;g<h.length;g++){var y=0;if(typeof f[g]==="number"){y=f[g]}else{y=g/h.length}var _=m/u+y*v;var b=Math.max(d,_);b=Math.min(b,1);n.addColorStop(b,h[g]);d=b}}}else{n=this.context.createLinearGradient(a,u/2,s+a,u/2);var x=h.length+1;var w=1;for(var c=0;c<h.length;c++){var E=void 0;if(typeof f[c]==="number"){E=f[c]}else{E=w/x}n.addColorStop(E,h[c]);w++}}return n};e.prototype.destroy=function(e){if(typeof e==="boolean"){e={children:e}}e=Object.assign({},ba,e);t.prototype.destroy.call(this,e);if(this._ownCanvas){this.canvas.height=this.canvas.width=0}this.context=null;this.canvas=null;this._style=null};Object.defineProperty(e.prototype,"width",{get:function(){this.updateText(true);return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(true);var e=At(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width;this._width=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"height",{get:function(){this.updateText(true);return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(true);var e=At(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height;this._height=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{};if(t instanceof da){this._style=t}else{this._style=new da(t)}this.localStyleID=-1;this.dirty=true},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(t===null||t===undefined?"":t);if(this._text===t){return}this._text=t;this.dirty=true},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=false;if(this._resolution===t){return}this._resolution=t;this.dirty=true},enumerable:false,configurable:true});return e}(sa);k.UPLOADS_PER_FRAME=4;var wa=function(t,e){wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return wa(t,e)};function Ea(t,e){wa(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ta=function(){function t(t){this.maxItemsPerFrame=t;this.itemsLeft=0}t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame};t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0};return t}();function Sa(t,e){var r=false;if(t&&t._textures&&t._textures.length){for(var i=0;i<t._textures.length;i++){if(t._textures[i]instanceof vr){var n=t._textures[i].baseTexture;if(e.indexOf(n)===-1){e.push(n);r=true}}}}return r}function Ia(t,e){if(t.baseTexture instanceof Je){var r=t.baseTexture;if(e.indexOf(r)===-1){e.push(r)}return true}return false}function Aa(t,e){if(t._texture&&t._texture instanceof vr){var r=t._texture.baseTexture;if(e.indexOf(r)===-1){e.push(r)}return true}return false}function Pa(t,e){if(e instanceof xa){e.updateText(true);return true}return false}function Oa(t,e){if(e instanceof da){var r=e.toFontString();ya.measureFont(r);return true}return false}function Ca(t,e){if(t instanceof xa){if(e.indexOf(t.style)===-1){e.push(t.style)}if(e.indexOf(t)===-1){e.push(t)}var r=t._texture.baseTexture;if(e.indexOf(r)===-1){e.push(r)}return true}return false}function Ra(t,e){if(t instanceof da){if(e.indexOf(t)===-1){e.push(t)}return true}return false}var Da=function(){function t(t){var e=this;this.limiter=new Ta(k.UPLOADS_PER_FRAME);this.renderer=t;this.uploadHookHelper=null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=false;this.delayedTick=function(){if(!e.queue){return}e.prepareItems()};this.registerFindHook(Ca);this.registerFindHook(Ra);this.registerFindHook(Sa);this.registerFindHook(Ia);this.registerFindHook(Aa);this.registerUploadHook(Pa);this.registerUploadHook(Oa)}t.prototype.upload=function(t,e){if(typeof t==="function"){e=t;t=null}if(t){this.add(t)}if(this.queue.length){if(e){this.completes.push(e)}if(!this.ticking){this.ticking=true;De.system.addOnce(this.tick,this,Ce.UTILITY)}}else if(e){e()}};t.prototype.tick=function(){setTimeout(this.delayedTick,0)};t.prototype.prepareItems=function(){this.limiter.beginFrame();while(this.queue.length&&this.limiter.allowedToUpload()){var t=this.queue[0];var e=false;if(t&&!t._destroyed){for(var r=0,i=this.uploadHooks.length;r<i;r++){if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift();e=true;break}}}if(!e){this.queue.shift()}}if(!this.queue.length){this.ticking=false;var n=this.completes.slice(0);this.completes.length=0;for(var r=0,i=n.length;r<i;r++){n[r]()}}else{De.system.addOnce(this.tick,this,Ce.UTILITY)}};t.prototype.registerFindHook=function(t){if(t){this.addHooks.push(t)}return this};t.prototype.registerUploadHook=function(t){if(t){this.uploadHooks.push(t)}return this};t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r;e++){if(this.addHooks[e](t,this.queue)){break}}if(t instanceof ye){for(var e=t.children.length-1;e>=0;e--){this.add(t.children[e])}}return this};t.prototype.destroy=function(){if(this.ticking){De.system.remove(this.tick,this)}this.ticking=false;this.addHooks=null;this.uploadHooks=null;this.renderer=null;this.completes=null;this.queue=null;this.limiter=null;this.uploadHookHelper=null};return t}();function Ma(t,e){if(e instanceof Je){if(!e._glTextures[t.CONTEXT_UID]){t.texture.bind(e)}return true}return false}function ka(t,e){if(!(e instanceof ra)){return false}var r=e.geometry;e.finishPoly();r.updateBatches();var i=r.batches;for(var n=0;n<i.length;n++){var o=i[n].style.texture;if(o){Ma(t,o.baseTexture)}}if(!r.batchable){t.geometry.bind(r,e._resolveDirectShader(t))}return true}function Na(t,e){if(t instanceof ra){e.push(t);return true}return false}var La=function(t){Ea(e,t);function e(e){var r=t.call(this,e)||this;r.uploadHookHelper=r.renderer;r.registerFindHook(Na);r.registerUploadHook(Ma);r.registerUploadHook(ka);return r}return e}(Da);var Ba=function(){function t(t){this.maxMilliseconds=t;this.frameStart=0}t.prototype.beginFrame=function(){this.frameStart=Date.now()};t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};return t}();var Fa=function(){function t(t,e,r){if(r===void 0){r=null}this._texture=t instanceof vr?t:null;this.baseTexture=t instanceof Je?t:this._texture.baseTexture;this.textures={};this.animations={};this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null));this._frames=this.data.frames;this._frameKeys=Object.keys(this._frames);this._batchIndex=0;this._callback=null}t.prototype._updateResolution=function(t){if(t===void 0){t=null}var e=this.data.meta.scale;var r=Ht(t,null);if(r===null){r=e!==undefined?parseFloat(e):1}if(r!==1){this.baseTexture.setResolution(r)}return r};t.prototype.parse=function(e){this._batchIndex=0;this._callback=e;if(this._frameKeys.length<=t.BATCH_SIZE){this._processFrames(0);this._processAnimations();this._parseComplete()}else{this._nextBatch()}};t.prototype._processFrames=function(e){var r=e;var i=t.BATCH_SIZE;while(r-e<i&&r<this._frameKeys.length){var n=this._frameKeys[r];var o=this._frames[n];var a=o.frame;if(a){var s=null;var u=null;var h=o.trimmed!==false&&o.sourceSize?o.sourceSize:o.frame;var f=new qt(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);if(o.rotated){s=new qt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution)}else{s=new qt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)}if(o.trimmed!==false&&o.spriteSourceSize){u=new qt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)}this.textures[n]=new vr(this.baseTexture,s,f,u,o.rotated?2:0,o.anchor);vr.addToCache(this.textures[n],n)}r++}};t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var i=t[e][r];this.animations[e].push(this.textures[i])}}};t.prototype._parseComplete=function(){var t=this._callback;this._callback=null;this._batchIndex=0;t.call(this,this.textures)};t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE);this._batchIndex++;setTimeout((function(){if(e._batchIndex*t.BATCH_SIZE<e._frameKeys.length){e._nextBatch()}else{e._processAnimations();e._parseComplete()}}),0)};t.prototype.destroy=function(t){var e;if(t===void 0){t=false}for(var r in this.textures){this.textures[r].destroy()}this._frames=null;this._frameKeys=null;this.data=null;this.textures=null;if(t){(e=this._texture)===null||e===void 0?void 0:e.destroy();this.baseTexture.destroy()}this._texture=null;this.baseTexture=null};t.BATCH_SIZE=1e3;return t}();var Ua=function(){function t(){}t.use=function(e,r){var i=this;var n=e.name+"_image";if(!e.data||e.type!==uo.TYPE.JSON||!e.data.frames||i.resources[n]){r();return}var o={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e};var a=t.getResourcePath(e,i.baseUrl);i.add(n,a,o,(function t(i){if(i.error){r(i.error);return}var n=new Fa(i.texture,e.data,e.url);n.parse((function(){e.spritesheet=n;e.textures=n.textures;r()}))}))};t.getResourcePath=function(t,e){if(t.isDataUrl){return t.data.meta.image}return U.resolve(t.url.replace(e,""),t.data.meta.image)};return t}();var ja=function(t,e){ja=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return ja(t,e)};function za(t,e){ja(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Xa=new Qt;var Ha=function(t){za(e,t);function e(e,r,i){if(r===void 0){r=100}if(i===void 0){i=100}var n=t.call(this,e)||this;n.tileTransform=new le;n._width=r;n._height=i;n.uvMatrix=n.texture.uvMatrix||new Ni(e);n.pluginName="tilingSprite";n.uvRespectAnchor=false;return n}Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t;this.uvMatrix.update(true)},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:false,configurable:true});e.prototype._onTextureUpdate=function(){if(this.uvMatrix){this.uvMatrix.texture=this._texture}this._cachedTint=16777215};e.prototype._render=function(t){var e=this._texture;if(!e||!e.valid){return}this.tileTransform.updateLocalTransform();this.uvMatrix.update();t.batch.setObjectRenderer(t.plugins[this.pluginName]);t.plugins[this.pluginName].render(this)};e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x;var e=this._height*-this._anchor._y;var r=this._width*(1-this._anchor._x);var i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)};e.prototype.getLocalBounds=function(e){if(this.children.length===0){this._bounds.minX=this._width*-this._anchor._x;this._bounds.minY=this._height*-this._anchor._y;this._bounds.maxX=this._width*(1-this._anchor._x);this._bounds.maxY=this._height*(1-this._anchor._y);if(!e){if(!this._localBoundsRect){this._localBoundsRect=new qt}e=this._localBoundsRect}return this._bounds.getRectangle(e)}return t.prototype.getLocalBounds.call(this,e)};e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Xa);var e=this._width;var r=this._height;var i=-e*this.anchor._x;if(Xa.x>=i&&Xa.x<i+e){var n=-r*this.anchor._y;if(Xa.y>=n&&Xa.y<n+r){return true}}return false};e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);this.tileTransform=null;this.uvMatrix=null};e.from=function(t,r){if(typeof r==="number"){Rt("5.3.0","TilingSprite.from use options instead of width and height args");r={width:r,height:arguments[2]}}return new e(vr.from(t,r),r.width,r.height)};Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:false,configurable:true});return e}(sa);var Ga="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";var Wa="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n";var Ya="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n";var Va=new ee;var qa=function(t){za(e,t);function e(e){var r=t.call(this,e)||this;var i={globals:r.renderer.globalUniforms};r.shader=wi.from(Ga,Wa,i);r.simpleShader=wi.from(Ga,Ya,i);r.quad=new Rr;r.state=Pi.for2d();return r}e.prototype.render=function(t){var e=this.renderer;var r=this.quad;var i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x;i[1]=i[3]=t._height*-t.anchor.y;i[2]=i[4]=t._width*(1-t.anchor.x);i[5]=i[7]=t._height*(1-t.anchor.y);if(t.uvRespectAnchor){i=r.uvs;i[0]=i[6]=-t.anchor.x;i[1]=i[3]=-t.anchor.y;i[2]=i[4]=1-t.anchor.x;i[5]=i[7]=1-t.anchor.y}r.invalidate();var n=t._texture;var o=n.baseTexture;var a=t.tileTransform.localTransform;var s=t.uvMatrix;var u=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;if(u){if(!o._glTextures[e.CONTEXT_UID]){if(o.wrapMode===Z.CLAMP){o.wrapMode=Z.REPEAT}}else{u=o.wrapMode!==Z.CLAMP}}var h=u?this.simpleShader:this.shader;var f=n.width;var l=n.height;var c=t._width;var d=t._height;Va.set(a.a*f/c,a.b*f/d,a.c*l/c,a.d*l/d,a.tx/c,a.ty/d);Va.invert();if(u){Va.prepend(s.mapCoord)}else{h.uniforms.uMapCoord=s.mapCoord.toArray(true);h.uniforms.uClampFrame=s.uClampFrame;h.uniforms.uClampOffset=s.uClampOffset}h.uniforms.uTransform=Va.toArray(true);h.uniforms.uColor=yt(t.tint,t.worldAlpha,h.uniforms.uColor,o.alphaMode);h.uniforms.translationMatrix=t.transform.worldTransform.toArray(true);h.uniforms.uSampler=n;e.shader.bind(h);e.geometry.bind(r);this.state.blendMode=vt(t.blendMode,o.alphaMode);e.state.set(this.state);e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)};return e}(Lr);var Za=function(t,e){Za=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return Za(t,e)};function $a(t,e){Za(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ka=function(){function t(t,e){this.uvBuffer=t;this.uvMatrix=e;this.data=null;this._bufferUpdateId=-1;this._textureUpdateId=-1;this._updateID=0}t.prototype.update=function(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID){return}this._bufferUpdateId=this.uvBuffer._updateID;this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;if(!this.data||this.data.length!==e.length){this.data=new Float32Array(e.length)}this.uvMatrix.multiplyUvs(e,this.data);this._updateID++};return t}();var Ja=new Qt;var Qa=new Kt;var ts=function(t){$a(e,t);function e(e,r,i,n){if(n===void 0){n=G.TRIANGLES}var o=t.call(this)||this;o.geometry=e;e.refCount++;o.shader=r;o.state=i||Pi.for2d();o.drawMode=n;o.start=0;o.size=0;o.uvs=null;o.indices=null;o.vertexData=new Float32Array(1);o.vertexDirty=0;o._transformID=-1;o._roundPixels=k.ROUND_PIXELS;o.batchUvs=null;return o}Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){if(this._roundPixels!==t){this._transformID=-1}this._roundPixels=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:false,configurable:true});e.prototype._render=function(t){var r=this.geometry.buffers[0].data;if(this.shader.batchable&&this.drawMode===G.TRIANGLES&&r.length<e.BATCHABLE_SIZE*2){this._renderToBatch(t)}else{this._renderDefault(t)}};e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha;if(e.update){e.update()}t.batch.flush();if(e.program.uniformData.translationMatrix){e.uniforms.translationMatrix=this.transform.worldTransform.toArray(true)}t.shader.bind(e);t.state.set(this.state);t.geometry.bind(this.geometry,e);t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)};e.prototype._renderToBatch=function(t){var e=this.geometry;if(this.shader.uvMatrix){this.shader.uvMatrix.update();this.calculateUvs()}this.calculateVertices();this.indices=e.indexBuffer.data;this._tintRGB=this.shader._tintRGB;this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]);t.plugins[r].render(this)};e.prototype.calculateVertices=function(){var t=this.geometry;var e=t.buffers[0].data;if(t.vertexDirtyId===this.vertexDirty&&this._transformID===this.transform._worldID){return}this._transformID=this.transform._worldID;if(this.vertexData.length!==e.length){this.vertexData=new Float32Array(e.length)}var r=this.transform.worldTransform;var i=r.a;var n=r.b;var o=r.c;var a=r.d;var s=r.tx;var u=r.ty;var h=this.vertexData;for(var f=0;f<h.length/2;f++){var l=e[f*2];var c=e[f*2+1];h[f*2]=i*l+o*c+s;h[f*2+1]=n*l+a*c+u}if(this._roundPixels){var d=k.RESOLUTION;for(var f=0;f<h.length;++f){h[f]=Math.round((h[f]*d|0)/d)}}this.vertexDirty=t.vertexDirtyId};e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];if(!this.shader.uvMatrix.isSimple){if(!this.batchUvs){this.batchUvs=new Ka(t,this.shader.uvMatrix)}this.batchUvs.update();this.uvs=this.batchUvs.data}else{this.uvs=t.data}};e.prototype._calculateBounds=function(){this.calculateVertices();this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)};e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y)){return false}this.worldTransform.applyInverse(t,Ja);var e=this.geometry.getBuffer("aVertexPosition").data;var r=Qa.points;var i=this.geometry.getIndex().data;var n=i.length;var o=this.drawMode===4?3:1;for(var a=0;a+2<n;a+=o){var s=i[a]*2;var u=i[a+1]*2;var h=i[a+2]*2;r[0]=e[s];r[1]=e[s+1];r[2]=e[u];r[3]=e[u+1];r[4]=e[h];r[5]=e[h+1];if(Qa.contains(Ja.x,Ja.y)){return true}}return false};e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);this.geometry.refCount--;if(this.geometry.refCount===0){this.geometry.dispose()}this.geometry=null;this.shader=null;this.state=null;this.uvs=null;this.indices=null;this.vertexData=null};e.BATCHABLE_SIZE=100;return e}(ye);var es="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n";var rs="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n";var is=function(t){$a(e,t);function e(e,r){var i=this;var n={uSampler:e,alpha:1,uTextureMatrix:ee.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r);if(r.uniforms){Object.assign(n,r.uniforms)}i=t.call(this,r.program||xi.from(rs,es),n)||this;i._colorDirty=false;i.uvMatrix=new Ni(e);i.batchable=r.program===undefined;i.pluginName=r.pluginName;i.tint=r.tint;i.alpha=r.alpha;return i}Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){if(this.uniforms.uSampler!==t){this.uniforms.uSampler=t;this.uvMatrix.texture=t}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){if(t===this._alpha){return}this._alpha=t;this._colorDirty=true},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(t===this._tint){return}this._tint=t;this._tintRGB=(t>>16)+(t&65280)+((t&255)<<16);this._colorDirty=true},enumerable:false,configurable:true});e.prototype.update=function(){if(this._colorDirty){this._colorDirty=false;var t=this.texture.baseTexture;yt(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}if(this.uvMatrix.update()){this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord}};return e}(wi);var ns=function(t){$a(e,t);function e(e,r,i){var n=t.call(this)||this;var o=new wr(e);var a=new wr(r,true);var s=new wr(i,true,true);n.addAttribute("aVertexPosition",o,2,false,V.FLOAT).addAttribute("aTextureCoord",a,2,false,V.FLOAT).addIndex(s);n._updateId=-1;return n}Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:false,configurable:true});return e}(Or);var os=function(t,e){os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return os(t,e)};function as(t,e){os(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ss=function(){function t(){this.info=[];this.common=[];this.page=[];this.char=[];this.kerning=[]}return t}();var us=function(){function t(){}t.test=function(t){return typeof t==="string"&&t.indexOf("info face=")===0};t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm);var r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var i in e){var n=e[i].match(/^[a-z]+/gm)[0];var o=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm);var a={};for(var s in o){var u=o[s].split("=");var h=u[0];var f=u[1].replace(/"/gm,"");var l=parseFloat(f);var c=isNaN(l)?f:l;a[h]=c}r[n].push(a)}var d=new ss;r.info.forEach((function(t){return d.info.push({face:t.face,size:parseInt(t.size,10)})}));r.common.forEach((function(t){return d.common.push({lineHeight:parseInt(t.lineHeight,10)})}));r.page.forEach((function(t){return d.page.push({id:parseInt(t.id,10),file:t.file})}));r.char.forEach((function(t){return d.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})}));r.kerning.forEach((function(t){return d.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})}));return d};return t}();var hs=function(){function t(){}t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null};t.parse=function(t){var e=new ss;var r=t.getElementsByTagName("info");var i=t.getElementsByTagName("common");var n=t.getElementsByTagName("page");var o=t.getElementsByTagName("char");var a=t.getElementsByTagName("kerning");for(var s=0;s<r.length;s++){e.info.push({face:r[s].getAttribute("face"),size:parseInt(r[s].getAttribute("size"),10)})}for(var s=0;s<i.length;s++){e.common.push({lineHeight:parseInt(i[s].getAttribute("lineHeight"),10)})}for(var s=0;s<n.length;s++){e.page.push({id:parseInt(n[s].getAttribute("id"),10)||0,file:n[s].getAttribute("file")})}for(var s=0;s<o.length;s++){var u=o[s];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(var s=0;s<a.length;s++){e.kerning.push({first:parseInt(a[s].getAttribute("first"),10),second:parseInt(a[s].getAttribute("second"),10),amount:parseInt(a[s].getAttribute("amount"),10)})}return e};return t}();var fs=function(){function t(){}t.test=function(t){if(typeof t==="string"&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return hs.test(e)}return false};t.parse=function(t){var e=(new window.DOMParser).parseFromString(t,"text/xml");return hs.parse(e)};return t}();var ls=[us,hs,fs];function cs(t){for(var e=0;e<ls.length;e++){if(ls[e].test(t)){return ls[e]}}return null}function ds(t,e,r,i,n,o){var a=r.fill;if(!Array.isArray(a)){return a}else if(a.length===1){return a[0]}var s;var u=r.dropShadow?r.dropShadowDistance:0;var h=r.padding||0;var f=Math.ceil(t.width/i)-u-h*2;var l=Math.ceil(t.height/i)-u-h*2;var c=a.slice();var d=r.fillGradientStops.slice();if(!d.length){var p=c.length+1;for(var v=1;v<p;++v){d.push(v/p)}}c.unshift(a[0]);d.unshift(0);c.push(a[a.length-1]);d.push(1);if(r.fillGradientType===fa.LINEAR_VERTICAL){s=e.createLinearGradient(f/2,h,f/2,l+h);var m=0;var g=o.fontProperties.fontSize+r.strokeThickness;var y=g/l;for(var v=0;v<n.length;v++){var _=o.lineHeight*v;for(var b=0;b<c.length;b++){var x=0;if(typeof d[b]==="number"){x=d[b]}else{x=b/c.length}var w=_/l+x*y;var E=Math.max(m,w);E=Math.min(E,1);s.addColorStop(E,c[b]);m=E}}}else{s=e.createLinearGradient(h,l/2,f+h,l/2);var T=c.length+1;var S=1;for(var v=0;v<c.length;v++){var I=void 0;if(typeof d[v]==="number"){I=d[v]}else{I=S/T}s.addColorStop(I,c[v]);S++}}return s}function ps(t,e,r,i,n,o,a){var s=r.text;var u=r.fontProperties;e.translate(i,n);e.scale(o,o);var h=a.strokeThickness/2;var f=-(a.strokeThickness/2);e.font=a.toFontString();e.lineWidth=a.strokeThickness;e.textBaseline=a.textBaseline;e.lineJoin=a.lineJoin;e.miterLimit=a.miterLimit;e.fillStyle=ds(t,e,a,o,[s],r);e.strokeStyle=a.stroke;if(a.dropShadow){var l=a.dropShadowColor;var c=ht(typeof l==="number"?l:lt(l));var d=a.dropShadowBlur*o;var p=a.dropShadowDistance*o;e.shadowColor="rgba("+c[0]*255+","+c[1]*255+","+c[2]*255+","+a.dropShadowAlpha+")";e.shadowBlur=d;e.shadowOffsetX=Math.cos(a.dropShadowAngle)*p;e.shadowOffsetY=Math.sin(a.dropShadowAngle)*p}else{e.shadowColor="black";e.shadowBlur=0;e.shadowOffsetX=0;e.shadowOffsetY=0}if(a.stroke&&a.strokeThickness){e.strokeText(s,h,f+r.lineHeight-u.descent)}if(a.fill){e.fillText(s,h,f+r.lineHeight-u.descent)}e.setTransform(1,0,0,1,0,0);e.fillStyle="rgba(0, 0, 0, 0)"}function vs(t){if(typeof t==="string"){t=[t]}var e=[];for(var r=0,i=t.length;r<i;r++){var n=t[r];if(Array.isArray(n)){if(n.length!==2){throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".")}var o=n[0].charCodeAt(0);var a=n[1].charCodeAt(0);if(a<o){throw new Error("[BitmapFont]: Invalid character range.")}for(var s=o,u=a;s<=u;s++){e.push(String.fromCharCode(s))}}else{e.push.apply(e,n.split(""))}}if(e.length===0){throw new Error("[BitmapFont]: Empty set when resolving characters.")}return e}var ms=function(){function t(t,e,r){var i=t.info[0];var n=t.common[0];var o=t.page[0];var a=Ht(o.file);var s={};this._ownsTextures=r;this.font=i.face;this.size=i.size;this.lineHeight=n.lineHeight/a;this.chars={};this.pageTextures=s;for(var u=0;u<t.page.length;u++){var h=t.page[u],f=h.id,l=h.file;s[f]=e instanceof Array?e[u]:e[l]}for(var u=0;u<t.char.length;u++){var c=t.char[u],f=c.id,d=c.page;var p=t.char[u],v=p.x,m=p.y,g=p.width,y=p.height,_=p.xoffset,b=p.yoffset,x=p.xadvance;v/=a;m/=a;g/=a;y/=a;_/=a;b/=a;x/=a;var w=new qt(v+s[d].frame.x/a,m+s[d].frame.y/a,g,y);this.chars[f]={xOffset:_,yOffset:b,xAdvance:x,kerning:{},texture:new vr(s[d].baseTexture,w),page:d}}for(var u=0;u<t.kerning.length;u++){var E=t.kerning[u],T=E.first,S=E.second,I=E.amount;T/=a;S/=a;I/=a;if(this.chars[S]){this.chars[S].kerning[T]=I}}}t.prototype.destroy=function(){for(var t in this.chars){this.chars[t].texture.destroy();this.chars[t].texture=null}for(var t in this.pageTextures){if(this._ownsTextures){this.pageTextures[t].destroy(true)}this.pageTextures[t]=null}this.chars=null;this.pageTextures=null};t.install=function(e,r,i){var n;if(e instanceof ss){n=e}else{var o=cs(e);if(!o){throw new Error("Unrecognized data format for font.")}n=o.parse(e)}if(r instanceof vr){r=[r]}var a=new t(n,r,i);t.available[a.font]=a;return a};t.uninstall=function(e){var r=t.available[e];if(!r){throw new Error("No font found named '"+e+"'")}r.destroy();delete t.available[e]};t.from=function(e,r,i){if(!e){throw new Error("[BitmapFont] Property `name` is required.")}var n=Object.assign({},t.defaultOptions,i),o=n.chars,a=n.padding,s=n.resolution,u=n.textureWidth,h=n.textureHeight;var f=vs(o);var l=r instanceof da?r:new da(r);var c=u;var d=new ss;d.info[0]={face:l.fontFamily,size:l.fontSize};d.common[0]={lineHeight:l.fontSize};var p=0;var v=0;var m;var g;var y;var _=0;var b=[];for(var x=0;x<f.length;x++){if(!m){m=document.createElement("canvas");m.width=u;m.height=h;g=m.getContext("2d");y=new Je(m,{resolution:s});b.push(new vr(y));d.page.push({id:b.length-1,file:""})}var w=ya.measureText(f[x],l,false,m);var E=w.width;var T=Math.ceil(w.height);var S=Math.ceil((l.fontStyle==="italic"?2:1)*E);if(v>=h-T*s){if(v===0){throw new Error("[BitmapFont] textureHeight "+h+"px is "+("too small for "+l.fontSize+"px fonts"))}--x;m=null;g=null;y=null;v=0;p=0;_=0;continue}_=Math.max(T+w.fontProperties.descent,_);if(S*s+p>=c){--x;v+=_*s;v=Math.ceil(v);p=0;_=0;continue}ps(m,g,w,p,v,s,l);var I=w.text.charCodeAt(0);d.char.push({id:I,page:b.length-1,x:p/s,y:v/s,width:S,height:T,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(l.dropShadow?l.dropShadowDistance:0)-(l.stroke?l.strokeThickness:0))});p+=(S+2*a)*s;p=Math.ceil(p)}var A=new t(d,b,true);if(t.available[e]!==undefined){t.uninstall(e)}t.available[e]=A;return A};t.ALPHA=[["a","z"],["A","Z"]," "];t.NUMERIC=[["0","9"]];t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];t.ASCII=[[" ","~"]];t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC};t.available={};return t}();var gs=[];var ys=[];var _s=function(t){as(e,t);function e(r,i){if(i===void 0){i={}}var n=t.call(this)||this;n._tint=16777215;if(i.font){Rt("5.3.0","PIXI.BitmapText constructor style.font property is deprecated.");n._upgradeStyle(i)}var o=Object.assign({},e.styleDefaults,i),a=o.align,s=o.tint,u=o.maxWidth,h=o.letterSpacing,f=o.fontName,l=o.fontSize;if(!ms.available[f]){throw new Error('Missing BitmapFont "'+f+'"')}n._activePagesMeshData=[];n._textWidth=0;n._textHeight=0;n._align=a;n._tint=s;n._fontName=f;n._fontSize=l||ms.available[f].size;n._text=r;n._maxWidth=u;n._maxLineHeight=0;n._letterSpacing=h;n._anchor=new te((function(){n.dirty=true}),n,0,0);n._roundPixels=k.ROUND_PIXELS;n.dirty=true;n._textureCache={};return n}e.prototype.updateText=function(){var t;var e=ms.available[this._fontName];var r=this._fontSize/e.size;var i=new Qt;var n=[];var o=[];var a=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ";var s=a.length;var u=this._maxWidth*e.size/this._fontSize;var h=null;var f=0;var l=0;var c=0;var d=-1;var p=0;var v=0;var m=0;for(var g=0;g<s;g++){var y=a.charCodeAt(g);var _=a.charAt(g);if(/(?:\s)/.test(_)){d=g;p=f}if(_==="\r"||_==="\n"){o.push(f);l=Math.max(l,f);++c;++v;i.x=0;i.y+=e.lineHeight;h=null;continue}var b=e.chars[y];if(!b){continue}if(h&&b.kerning[h]){i.x+=b.kerning[h]}var x=ys.pop()||{texture:vr.EMPTY,line:0,charCode:0,position:new Qt};x.texture=b.texture;x.line=c;x.charCode=y;x.position.x=i.x+b.xOffset+this._letterSpacing/2;x.position.y=i.y+b.yOffset;n.push(x);i.x+=b.xAdvance+this._letterSpacing;f=i.x;m=Math.max(m,b.yOffset+b.texture.height);h=y;if(d!==-1&&u>0&&i.x>u){++v;It(n,1+d-v,1+g-d);g=d;d=-1;o.push(p);l=Math.max(l,p);c++;i.x=0;i.y+=e.lineHeight;h=null}}var w=a.charAt(a.length-1);if(w!=="\r"&&w!=="\n"){if(/(?:\s)/.test(w)){f=p}o.push(f);l=Math.max(l,f)}var E=[];for(var g=0;g<=c;g++){var T=0;if(this._align==="right"){T=l-o[g]}else if(this._align==="center"){T=(l-o[g])/2}E.push(T)}var S=n.length;var I={};var A=[];var P=this._activePagesMeshData;for(var g=0;g<P.length;g++){gs.push(P[g])}for(var g=0;g<S;g++){var O=n[g].texture;var C=O.baseTexture.uid;if(!I[C]){var R=gs.pop();if(!R){var D=new ns;var M=new is(vr.EMPTY);var k=new ts(D,M);R={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:k,vertices:null,uvs:null,indices:null}}R.index=0;R.indexCount=0;R.vertexCount=0;R.uvsCount=0;R.total=0;var N=this._textureCache;N[C]=N[C]||new vr(O.baseTexture);R.mesh.texture=N[C];R.mesh.tint=this._tint;A.push(R);I[C]=R}I[C].total++}for(var g=0;g<P.length;g++){if(A.indexOf(P[g])===-1){this.removeChild(P[g].mesh)}}for(var g=0;g<A.length;g++){if(A[g].mesh.parent!==this){this.addChild(A[g].mesh)}}this._activePagesMeshData=A;for(var g in I){var R=I[g];var L=R.total;if(!(((t=R.indices)===null||t===void 0?void 0:t.length)>6*L)||R.vertices.length<ts.BATCHABLE_SIZE*2){R.vertices=new Float32Array(4*2*L);R.uvs=new Float32Array(4*2*L);R.indices=new Uint16Array(6*L)}else{var B=R.total;var F=R.vertices;for(var U=B*4*2;U<F.length;U++){F[U]=0}}R.mesh.size=6*L}for(var g=0;g<S;g++){var _=n[g];var j=_.position.x+E[_.line];if(this._roundPixels){j=Math.round(j)}var z=j*r;var X=_.position.y*r;var O=_.texture;var H=I[O.baseTexture.uid];var G=O.frame;var W=O._uvs;var Y=H.index++;H.indices[Y*6+0]=0+Y*4;H.indices[Y*6+1]=1+Y*4;H.indices[Y*6+2]=2+Y*4;H.indices[Y*6+3]=0+Y*4;H.indices[Y*6+4]=2+Y*4;H.indices[Y*6+5]=3+Y*4;H.vertices[Y*8+0]=z;H.vertices[Y*8+1]=X;H.vertices[Y*8+2]=z+G.width*r;H.vertices[Y*8+3]=X;H.vertices[Y*8+4]=z+G.width*r;H.vertices[Y*8+5]=X+G.height*r;H.vertices[Y*8+6]=z;H.vertices[Y*8+7]=X+G.height*r;H.uvs[Y*8+0]=W.x0;H.uvs[Y*8+1]=W.y0;H.uvs[Y*8+2]=W.x1;H.uvs[Y*8+3]=W.y1;H.uvs[Y*8+4]=W.x2;H.uvs[Y*8+5]=W.y2;H.uvs[Y*8+6]=W.x3;H.uvs[Y*8+7]=W.y3}this._textWidth=l*r;this._textHeight=(i.y+e.lineHeight)*r;for(var g in I){var R=I[g];if(this.anchor.x!==0||this.anchor.y!==0){var V=0;var q=this._textWidth*this.anchor.x;var Z=this._textHeight*this.anchor.y;for(var $=0;$<R.total;$++){R.vertices[V++]-=q;R.vertices[V++]-=Z;R.vertices[V++]-=q;R.vertices[V++]-=Z;R.vertices[V++]-=q;R.vertices[V++]-=Z;R.vertices[V++]-=q;R.vertices[V++]-=Z}}this._maxLineHeight=m*r;var K=R.mesh.geometry.getBuffer("aVertexPosition");var J=R.mesh.geometry.getBuffer("aTextureCoord");var Q=R.mesh.geometry.getIndex();K.data=R.vertices;J.data=R.uvs;Q.data=R.indices;K.update();J.update();Q.update()}for(var g=0;g<n.length;g++){ys.push(n[g])}};e.prototype.updateTransform=function(){this.validate();this.containerUpdateTransform()};e.prototype.getLocalBounds=function(){this.validate();return t.prototype.getLocalBounds.call(this)};e.prototype.validate=function(){if(this.dirty){this.updateText();this.dirty=false}};Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint===t){return}this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++){this._activePagesMeshData[e].mesh.tint=t}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){if(this._align!==t){this._align=t;this.dirty=true}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!ms.available[t]){throw new Error('Missing BitmapFont "'+t+'"')}if(this._fontName!==t){this._fontName=t;this.dirty=true}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){if(this._fontSize!==t){this._fontSize=t;this.dirty=true}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){if(typeof t==="number"){this._anchor.set(t)}else{this._anchor.copyFrom(t)}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(t===null||t===undefined?"":t);if(this._text===t){return}this._text=t;this.dirty=true},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){if(this._maxWidth===t){return}this._maxWidth=t;this.dirty=true},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){this.validate();return this._maxLineHeight},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"textWidth",{get:function(){this.validate();return this._textWidth},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){if(this._letterSpacing!==t){this._letterSpacing=t;this.dirty=true}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){if(t!==this._roundPixels){this._roundPixels=t;this.dirty=true}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"textHeight",{get:function(){this.validate();return this._textHeight},enumerable:false,configurable:true});e.prototype._upgradeStyle=function(t){if(typeof t.font==="string"){var e=t.font.split(" ");t.fontName=e.length===1?e[0]:e.slice(1).join(" ");if(e.length>=2){t.fontSize=parseInt(e[0],10)}}else{t.fontName=t.font.name;t.fontSize=typeof t.font.size==="number"?t.font.size:parseInt(t.font.size,10)}};e.prototype.destroy=function(e){var r=this._textureCache;for(var i in r){var n=r[i];n.destroy();delete r[i]}this._textureCache=null;t.prototype.destroy.call(this,e)};e.registerFont=function(t,e){Rt("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install");return ms.install(t,e)};Object.defineProperty(e,"fonts",{get:function(){Rt("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available");return ms.available},enumerable:false,configurable:true});e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};return e}(ye);var bs=function(){function t(){}t.add=function(){uo.setExtensionXhrType("fnt",uo.XHR_RESPONSE_TYPE.TEXT)};t.use=function(e,r){var i=cs(e.data);if(!i){r();return}var n=t.getBaseUrl(this,e);var o=i.parse(e.data);var a={};var s=function(t){a[t.metadata.pageFile]=t.texture;if(Object.keys(a).length===o.page.length){e.bitmapFont=ms.install(o,a,true);r()}};for(var u=0;u<o.page.length;++u){var h=o.page[u].file;var f=n+h;var l=false;for(var c in this.resources){var d=this.resources[c];if(d.url===f){d.metadata.pageFile=h;if(d.texture){s(d)}else{d.onAfterMiddleware.add(s)}l=true;break}}if(!l){var p={crossOrigin:e.crossOrigin,loadType:uo.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},e.metadata.imageMetadata),parentResource:e};this.add(f,p,s)}}};t.getBaseUrl=function(e,r){var i=!r.isDataUrl?t.dirname(r.url):"";if(r.isDataUrl){if(i==="."){i=""}if(e.baseUrl&&i){if(e.baseUrl.charAt(e.baseUrl.length-1)==="/"){i+="/"}}}i=i.replace(e.baseUrl,"");if(i&&i.charAt(i.length-1)!=="/"){i+="/"}return i};t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");if(e===t){return"."}else if(e===""){return"/"}return e};return t}();var xs=function(t,e){xs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return xs(t,e)};function ws(t,e){xs(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Es="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n";var Ts=function(t){ws(e,t);function e(e){if(e===void 0){e=1}var r=t.call(this,dn,Es,{uAlpha:1})||this;r.alpha=e;return r}Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:false,configurable:true});return e}(Ri);var Ss=function(t,e){Ss=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return Ss(t,e)};function Is(t,e){Ss(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var As="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";function Ps(t,e){var r=Math.ceil(t/2);var i=As;var n="";var o;if(e){o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);"}else{o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);"}for(var a=0;a<t;a++){var s=o.replace("%index%",a.toString());s=s.replace("%sampleIndex%",a-(r-1)+".0");n+=s;n+="\n"}i=i.replace("%blur%",n);i=i.replace("%size%",t.toString());return i}var Os={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]};var Cs=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function Rs(t){var e=Os[t];var r=e.length;var i=Cs;var n="";var o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";var a;for(var s=0;s<t;s++){var u=o.replace("%index%",s.toString());a=s;if(s>=r){a=t-s-1}u=u.replace("%value%",e[a].toString());n+=u;n+="\n"}i=i.replace("%blur%",n);i=i.replace("%size%",t.toString());return i}var Ds;(function(t){t[t["WEBGL_LEGACY"]=0]="WEBGL_LEGACY";t[t["WEBGL"]=1]="WEBGL";t[t["WEBGL2"]=2]="WEBGL2"})(Ds||(Ds={}));var Ms;(function(t){t[t["UNKNOWN"]=0]="UNKNOWN";t[t["WEBGL"]=1]="WEBGL";t[t["CANVAS"]=2]="CANVAS"})(Ms||(Ms={}));var ks;(function(t){t[t["COLOR"]=16384]="COLOR";t[t["DEPTH"]=256]="DEPTH";t[t["STENCIL"]=1024]="STENCIL"})(ks||(ks={}));var Ns;(function(t){t[t["NORMAL"]=0]="NORMAL";t[t["ADD"]=1]="ADD";t[t["MULTIPLY"]=2]="MULTIPLY";t[t["SCREEN"]=3]="SCREEN";t[t["OVERLAY"]=4]="OVERLAY";t[t["DARKEN"]=5]="DARKEN";t[t["LIGHTEN"]=6]="LIGHTEN";t[t["COLOR_DODGE"]=7]="COLOR_DODGE";t[t["COLOR_BURN"]=8]="COLOR_BURN";t[t["HARD_LIGHT"]=9]="HARD_LIGHT";t[t["SOFT_LIGHT"]=10]="SOFT_LIGHT";t[t["DIFFERENCE"]=11]="DIFFERENCE";t[t["EXCLUSION"]=12]="EXCLUSION";t[t["HUE"]=13]="HUE";t[t["SATURATION"]=14]="SATURATION";t[t["COLOR"]=15]="COLOR";t[t["LUMINOSITY"]=16]="LUMINOSITY";t[t["NORMAL_NPM"]=17]="NORMAL_NPM";t[t["ADD_NPM"]=18]="ADD_NPM";t[t["SCREEN_NPM"]=19]="SCREEN_NPM";t[t["NONE"]=20]="NONE";t[t["SRC_OVER"]=0]="SRC_OVER";t[t["SRC_IN"]=21]="SRC_IN";t[t["SRC_OUT"]=22]="SRC_OUT";t[t["SRC_ATOP"]=23]="SRC_ATOP";t[t["DST_OVER"]=24]="DST_OVER";t[t["DST_IN"]=25]="DST_IN";t[t["DST_OUT"]=26]="DST_OUT";t[t["DST_ATOP"]=27]="DST_ATOP";t[t["ERASE"]=26]="ERASE";t[t["SUBTRACT"]=28]="SUBTRACT";t[t["XOR"]=29]="XOR"})(Ns||(Ns={}));var Ls;(function(t){t[t["POINTS"]=0]="POINTS";t[t["LINES"]=1]="LINES";t[t["LINE_LOOP"]=2]="LINE_LOOP";t[t["LINE_STRIP"]=3]="LINE_STRIP";t[t["TRIANGLES"]=4]="TRIANGLES";t[t["TRIANGLE_STRIP"]=5]="TRIANGLE_STRIP";t[t["TRIANGLE_FAN"]=6]="TRIANGLE_FAN"})(Ls||(Ls={}));var Bs;(function(t){t[t["RGBA"]=6408]="RGBA";t[t["RGB"]=6407]="RGB";t[t["ALPHA"]=6406]="ALPHA";t[t["LUMINANCE"]=6409]="LUMINANCE";t[t["LUMINANCE_ALPHA"]=6410]="LUMINANCE_ALPHA";t[t["DEPTH_COMPONENT"]=6402]="DEPTH_COMPONENT";t[t["DEPTH_STENCIL"]=34041]="DEPTH_STENCIL"})(Bs||(Bs={}));var Fs;(function(t){t[t["TEXTURE_2D"]=3553]="TEXTURE_2D";t[t["TEXTURE_CUBE_MAP"]=34067]="TEXTURE_CUBE_MAP";t[t["TEXTURE_2D_ARRAY"]=35866]="TEXTURE_2D_ARRAY";t[t["TEXTURE_CUBE_MAP_POSITIVE_X"]=34069]="TEXTURE_CUBE_MAP_POSITIVE_X";t[t["TEXTURE_CUBE_MAP_NEGATIVE_X"]=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";t[t["TEXTURE_CUBE_MAP_POSITIVE_Y"]=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";t[t["TEXTURE_CUBE_MAP_NEGATIVE_Y"]=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";t[t["TEXTURE_CUBE_MAP_POSITIVE_Z"]=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";t[t["TEXTURE_CUBE_MAP_NEGATIVE_Z"]=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Fs||(Fs={}));var Us;(function(t){t[t["UNSIGNED_BYTE"]=5121]="UNSIGNED_BYTE";t[t["UNSIGNED_SHORT"]=5123]="UNSIGNED_SHORT";t[t["UNSIGNED_SHORT_5_6_5"]=33635]="UNSIGNED_SHORT_5_6_5";t[t["UNSIGNED_SHORT_4_4_4_4"]=32819]="UNSIGNED_SHORT_4_4_4_4";t[t["UNSIGNED_SHORT_5_5_5_1"]=32820]="UNSIGNED_SHORT_5_5_5_1";t[t["FLOAT"]=5126]="FLOAT";t[t["HALF_FLOAT"]=36193]="HALF_FLOAT"})(Us||(Us={}));var js;(function(t){t[t["NEAREST"]=0]="NEAREST";t[t["LINEAR"]=1]="LINEAR"})(js||(js={}));var zs;(function(t){t[t["CLAMP"]=33071]="CLAMP";t[t["REPEAT"]=10497]="REPEAT";t[t["MIRRORED_REPEAT"]=33648]="MIRRORED_REPEAT"})(zs||(zs={}));var Xs;(function(t){t[t["OFF"]=0]="OFF";t[t["POW2"]=1]="POW2";t[t["ON"]=2]="ON"})(Xs||(Xs={}));var Hs;(function(t){t[t["NPM"]=0]="NPM";t[t["UNPACK"]=1]="UNPACK";t[t["PMA"]=2]="PMA";t[t["NO_PREMULTIPLIED_ALPHA"]=0]="NO_PREMULTIPLIED_ALPHA";t[t["PREMULTIPLY_ON_UPLOAD"]=1]="PREMULTIPLY_ON_UPLOAD";t[t["PREMULTIPLY_ALPHA"]=2]="PREMULTIPLY_ALPHA"})(Hs||(Hs={}));var Gs;(function(t){t[t["NO"]=0]="NO";t[t["YES"]=1]="YES";t[t["AUTO"]=2]="AUTO";t[t["BLEND"]=0]="BLEND";t[t["CLEAR"]=1]="CLEAR";t[t["BLIT"]=2]="BLIT"})(Gs||(Gs={}));var Ws;(function(t){t[t["AUTO"]=0]="AUTO";t[t["MANUAL"]=1]="MANUAL"})(Ws||(Ws={}));var Ys;(function(t){t["LOW"]="lowp";t["MEDIUM"]="mediump";t["HIGH"]="highp"})(Ys||(Ys={}));var Vs;(function(t){t[t["NONE"]=0]="NONE";t[t["SCISSOR"]=1]="SCISSOR";t[t["STENCIL"]=2]="STENCIL";t[t["SPRITE"]=3]="SPRITE"})(Vs||(Vs={}));var qs;(function(t){t[t["NONE"]=0]="NONE";t[t["LOW"]=2]="LOW";t[t["MEDIUM"]=4]="MEDIUM";t[t["HIGH"]=8]="HIGH"})(qs||(qs={}));var Zs=function(t){Is(e,t);function e(e,r,i,n,o){if(r===void 0){r=8}if(i===void 0){i=4}if(n===void 0){n=k.FILTER_RESOLUTION}if(o===void 0){o=5}var a=this;var s=Ps(o,e);var u=Rs(o);a=t.call(this,s,u)||this;a.horizontal=e;a.resolution=n;a._quality=0;a.quality=i;a.blur=r;return a}e.prototype.apply=function(t,e,r,i){if(r){if(this.horizontal){this.uniforms.strength=1/r.width*(r.width/e.width)}else{this.uniforms.strength=1/r.height*(r.height/e.height)}}else{if(this.horizontal){this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width)}else{this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height)}}this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(this.passes===1){t.applyFilter(this,e,r,i)}else{var n=t.getFilterTexture();var o=t.renderer;var a=e;var s=n;this.state.blend=false;t.applyFilter(this,a,s,Gs.CLEAR);for(var u=1;u<this.passes-1;u++){t.bindAndClear(a,Gs.BLIT);this.uniforms.uSampler=s;var h=s;s=a;a=h;o.shader.bind(this);o.geometry.draw(5)}this.state.blend=true;t.applyFilter(this,s,r,i);t.returnFilterTexture(n)}};Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+Math.abs(t)*2;this.strength=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t;this.passes=t},enumerable:false,configurable:true});return e}(Ri);var $s=function(t){Is(e,t);function e(e,r,i,n){if(e===void 0){e=8}if(r===void 0){r=4}if(i===void 0){i=k.FILTER_RESOLUTION}if(n===void 0){n=5}var o=t.call(this)||this;o.blurXFilter=new Zs(true,e,r,i,n);o.blurYFilter=new Zs(false,e,r,i,n);o.resolution=i;o.quality=r;o.blur=e;o.repeatEdgePixels=false;return o}e.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength);var o=Math.abs(this.blurYFilter.strength);if(n&&o){var a=t.getFilterTexture();this.blurXFilter.apply(t,e,a,Gs.CLEAR);this.blurYFilter.apply(t,a,r,i);t.returnFilterTexture(a)}else if(o){this.blurYFilter.apply(t,e,r,i)}else{this.blurXFilter.apply(t,e,r,i)}};e.prototype.updatePadding=function(){if(this._repeatEdgePixels){this.padding=0}else{this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}};Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t;this.updatePadding()},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t;this.updatePadding()},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t;this.updatePadding()},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t;this.updatePadding()},enumerable:false,configurable:true});return e}(Ri);var Ks=function(t,e){Ks=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return Ks(t,e)};function Js(t,e){Ks(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Qs="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n";var tu=function(t){Js(e,t);function e(){var e=this;var r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};e=t.call(this,pn,Qs,r)||this;e.alpha=1;return e}e.prototype._loadMatrix=function(t,e){if(e===void 0){e=false}var r=t;if(e){this._multiply(r,this.uniforms.m,t);r=this._colorMatrix(r)}this.uniforms.m=r};e.prototype._multiply=function(t,e,r){t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15];t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16];t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17];t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18];t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4];t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15];t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16];t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17];t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18];t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9];t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15];t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16];t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17];t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18];t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14];t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15];t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16];t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17];t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18];t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19];return t};e.prototype._colorMatrix=function(t){var e=new Float32Array(t);e[4]/=255;e[9]/=255;e[14]/=255;e[19]/=255;return e};e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)};e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)};e.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)};e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t);var i=Math.sin(t);var n=Math.sqrt;var o=1/3;var a=n(o);var s=r+(1-r)*o;var u=o*(1-r)-a*i;var h=o*(1-r)+a*i;var f=o*(1-r)+a*i;var l=r+o*(1-r);var c=o*(1-r)-a*i;var d=o*(1-r)-a*i;var p=o*(1-r)+a*i;var v=r+o*(1-r);var m=[s,u,h,0,0,f,l,c,0,0,d,p,v,0,0,0,0,0,1,0];this._loadMatrix(m,e)};e.prototype.contrast=function(t,e){var r=(t||0)+1;var i=-.5*(r-1);var n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)};e.prototype.saturate=function(t,e){if(t===void 0){t=0}var r=t*2/3+1;var i=(r-1)*-.5;var n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)};e.prototype.desaturate=function(){this.saturate(-1)};e.prototype.negative=function(t){var e=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(e,t)};e.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)};e.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)};e.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)};e.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)};e.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)};e.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)};e.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)};e.prototype.colorTone=function(t,e,r,i,n){t=t||.2;e=e||.15;r=r||16770432;i=i||3375104;var o=(r>>16&255)/255;var a=(r>>8&255)/255;var s=(r&255)/255;var u=(i>>16&255)/255;var h=(i>>8&255)/255;var f=(i&255)/255;var l=[.3,.59,.11,0,0,o,a,s,t,0,u,h,f,e,0,o-u,a-h,s-f,0,0];this._loadMatrix(l,n)};e.prototype.night=function(t,e){t=t||.1;var r=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(r,e)};e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)};e.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)};e.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,false)};Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:false,configurable:true});return e}(Ri);tu.prototype.grayscale=tu.prototype.greyscale;var eu=function(t,e){eu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return eu(t,e)};function ru(t,e){eu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var iu="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n";var nu="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n";var ou=function(t){ru(e,t);function e(e,r){var i=this;var n=new ee;e.renderable=false;i=t.call(this,nu,iu,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this;i.maskSprite=e;i.maskMatrix=n;if(r===null||r===undefined){r=20}i.scale=new Qt(r,r);return i}e.prototype.apply=function(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite);this.uniforms.scale.x=this.scale.x;this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform;var o=Math.sqrt(n.a*n.a+n.b*n.b);var a=Math.sqrt(n.c*n.c+n.d*n.d);if(o!==0&&a!==0){this.uniforms.rotation[0]=n.a/o;this.uniforms.rotation[1]=n.b/o;this.uniforms.rotation[2]=n.c/a;this.uniforms.rotation[3]=n.d/a}t.applyFilter(this,e,r,i)};Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:false,configurable:true});return e}(Ri);var au=function(t,e){au=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return au(t,e)};function su(t,e){au(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var uu="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n";var hu='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n';var fu=function(t){su(e,t);function e(){return t.call(this,uu,hu)||this}return e}(Ri);var lu=function(t,e){lu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return lu(t,e)};function cu(t,e){lu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var du="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n";var pu=function(t){cu(e,t);function e(e,r){if(e===void 0){e=.5}if(r===void 0){r=Math.random()}var i=t.call(this,pn,du,{uNoise:0,uSeed:0})||this;i.noise=e;i.seed=r;return i}Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:false,configurable:true});return e}(Ri);var vu=new ee;ve.prototype._cacheAsBitmap=false;ve.prototype._cacheData=null;var mu=function(){function t(){this.textureCacheId=null;this.originalRender=null;this.originalRenderCanvas=null;this.originalCalculateBounds=null;this.originalGetLocalBounds=null;this.originalUpdateTransform=null;this.originalDestroy=null;this.originalMask=null;this.originalFilterArea=null;this.originalContainsPoint=null;this.sprite=null}return t}();Object.defineProperties(ve.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap===t){return}this._cacheAsBitmap=t;var e;if(t){if(!this._cacheData){this._cacheData=new mu}e=this._cacheData;e.originalRender=this.render;e.originalRenderCanvas=this.renderCanvas;e.originalUpdateTransform=this.updateTransform;e.originalCalculateBounds=this.calculateBounds;e.originalGetLocalBounds=this.getLocalBounds;e.originalDestroy=this.destroy;e.originalContainsPoint=this.containsPoint;e.originalMask=this._mask;e.originalFilterArea=this.filterArea;this.render=this._renderCached;this.renderCanvas=this._renderCachedCanvas;this.destroy=this._cacheAsBitmapDestroy}else{e=this._cacheData;if(e.sprite){this._destroyCachedDisplayObject()}this.render=e.originalRender;this.renderCanvas=e.originalRenderCanvas;this.calculateBounds=e.originalCalculateBounds;this.getLocalBounds=e.originalGetLocalBounds;this.destroy=e.originalDestroy;this.updateTransform=e.originalUpdateTransform;this.containsPoint=e.originalContainsPoint;this._mask=e.originalMask;this.filterArea=e.originalFilterArea}}}});ve.prototype._renderCached=function t(e){if(!this.visible||this.worldAlpha<=0||!this.renderable){return}this._initCachedDisplayObject(e);this._cacheData.sprite.transform._worldID=this.transform._worldID;this._cacheData.sprite.worldAlpha=this.worldAlpha;this._cacheData.sprite._render(e)};ve.prototype._initCachedDisplayObject=function t(e){if(this._cacheData&&this._cacheData.sprite){return}var r=this.alpha;this.alpha=1;e.batch.flush();var i=this.getLocalBounds(null,true).clone();if(this.filters){var n=this.filters[0].padding;i.pad(n)}i.ceil(k.RESOLUTION);var o=e.renderTexture.current;var a=e.renderTexture.sourceFrame.clone();var s=e.renderTexture.destinationFrame.clone();var u=e.projection.transform;var h=yr.create({width:i.width,height:i.height});var f="cacheAsBitmap_"+Ot();this._cacheData.textureCacheId=f;Je.addToCache(h.baseTexture,f);vr.addToCache(h,f);var l=this.transform.localTransform.copyTo(vu).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender;e.render(this,h,true,l,false);e.projection.transform=u;e.renderTexture.bind(o,a,s);this.render=this._renderCached;this.updateTransform=this.displayObjectUpdateTransform;this.calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._mask=null;this.filterArea=null;var c=new sa(h);c.transform.worldTransform=this.transform.worldTransform;c.anchor.x=-(i.x/i.width);c.anchor.y=-(i.y/i.height);c.alpha=r;c._bounds=this._bounds;this._cacheData.sprite=c;this.transform._parentID=-1;if(!this.parent){this.enableTempParent();this.updateTransform();this.disableTempParent(null)}else{this.updateTransform()}this.containsPoint=c.containsPoint.bind(c)};ve.prototype._renderCachedCanvas=function t(e){if(!this.visible||this.worldAlpha<=0||!this.renderable){return}this._initCachedDisplayObjectCanvas(e);this._cacheData.sprite.worldAlpha=this.worldAlpha;this._cacheData.sprite._renderCanvas(e)};ve.prototype._initCachedDisplayObjectCanvas=function t(e){if(this._cacheData&&this._cacheData.sprite){return}var r=this.getLocalBounds(null,true);var i=this.alpha;this.alpha=1;var n=e.context;var o=e._projTransform;r.ceil(k.RESOLUTION);var a=yr.create({width:r.width,height:r.height});var s="cacheAsBitmap_"+Ot();this._cacheData.textureCacheId=s;Je.addToCache(a.baseTexture,s);vr.addToCache(a,s);var u=vu;this.transform.localTransform.copyTo(u);u.invert();u.tx-=r.x;u.ty-=r.y;this.renderCanvas=this._cacheData.originalRenderCanvas;e.render(this,a,true,u,false);e.context=n;e._projTransform=o;this.renderCanvas=this._renderCachedCanvas;this.updateTransform=this.displayObjectUpdateTransform;this.calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._mask=null;this.filterArea=null;var h=new sa(a);h.transform.worldTransform=this.transform.worldTransform;h.anchor.x=-(r.x/r.width);h.anchor.y=-(r.y/r.height);h.alpha=i;h._bounds=this._bounds;this._cacheData.sprite=h;this.transform._parentID=-1;if(!this.parent){this.parent=e._tempDisplayObjectParent;this.updateTransform();this.parent=null}else{this.updateTransform()}this.containsPoint=h.containsPoint.bind(h)};ve.prototype._calculateCachedBounds=function t(){this._bounds.clear();this._cacheData.sprite.transform._worldID=this.transform._worldID;this._cacheData.sprite._calculateBounds();this._bounds.updateID=this._boundsID};ve.prototype._getCachedLocalBounds=function t(){return this._cacheData.sprite.getLocalBounds(null)};ve.prototype._destroyCachedDisplayObject=function t(){this._cacheData.sprite._texture.destroy(true);this._cacheData.sprite=null;Je.removeFromCache(this._cacheData.textureCacheId);vr.removeFromCache(this._cacheData.textureCacheId);this._cacheData.textureCacheId=null};ve.prototype._cacheAsBitmapDestroy=function t(e){this.cacheAsBitmap=false;this.destroy(e)};ve.prototype.name=null;ye.prototype.getChildByName=function t(e,r){for(var i=0,n=this.children.length;i<n;i++){if(this.children[i].name===e){return this.children[i]}}if(r){for(var i=0,n=this.children.length;i<n;i++){var o=this.children[i];if(!o.getChildByName){continue}var a=this.children[i].getChildByName(e,true);if(a){return a}}}return null};ve.prototype.getGlobalPosition=function t(e,r){if(e===void 0){e=new Qt}if(r===void 0){r=false}if(this.parent){this.parent.toGlobal(this.position,e,r)}else{e.x=this.position.x;e.y=this.position.y}return e};var gu=function(t,e){gu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return gu(t,e)};function yu(t,e){gu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _u=function(t){yu(e,t);function e(e,r,i,n){if(e===void 0){e=100}if(r===void 0){r=100}if(i===void 0){i=10}if(n===void 0){n=10}var o=t.call(this)||this;o.segWidth=i;o.segHeight=n;o.width=e;o.height=r;o.build();return o}e.prototype.build=function(){var t=this.segWidth*this.segHeight;var e=[];var r=[];var i=[];var n=this.segWidth-1;var o=this.segHeight-1;var a=this.width/n;var s=this.height/o;for(var u=0;u<t;u++){var h=u%this.segWidth;var f=u/this.segWidth|0;e.push(h*a,f*s);r.push(h/n,f/o)}var l=n*o;for(var u=0;u<l;u++){var c=u%n;var d=u/n|0;var p=d*this.segWidth+c;var v=d*this.segWidth+c+1;var m=(d+1)*this.segWidth+c;var g=(d+1)*this.segWidth+c+1;i.push(p,v,m,v,g,m)}this.buffers[0].data=new Float32Array(e);this.buffers[1].data=new Float32Array(r);this.indexBuffer.data=new Uint16Array(i);this.buffers[0].update();this.buffers[1].update();this.indexBuffer.update()};return e}(ns);var bu=function(t){yu(e,t);function e(e,r,i){if(e===void 0){e=200}if(i===void 0){i=0}var n=t.call(this,new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6))||this;n.points=r;n._width=e;n.textureScale=i;n.build();return n}Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:false,configurable:true});e.prototype.build=function(){var t=this.points;if(!t){return}var e=this.getBuffer("aVertexPosition");var r=this.getBuffer("aTextureCoord");var i=this.getIndex();if(t.length<1){return}if(e.data.length/4!==t.length){e.data=new Float32Array(t.length*4);r.data=new Float32Array(t.length*4);i.data=new Uint16Array((t.length-1)*6)}var n=r.data;var o=i.data;n[0]=0;n[1]=0;n[2]=0;n[3]=1;var a=0;var s=t[0];var u=this._width*this.textureScale;var h=t.length;for(var f=0;f<h;f++){var l=f*4;if(this.textureScale>0){var c=s.x-t[f].x;var d=s.y-t[f].y;var p=Math.sqrt(c*c+d*d);s=t[f];a+=p/u}else{a=f/(h-1)}n[l]=a;n[l+1]=0;n[l+2]=a;n[l+3]=1}var v=0;for(var f=0;f<h-1;f++){var l=f*2;o[v++]=l;o[v++]=l+1;o[v++]=l+2;o[v++]=l+2;o[v++]=l+1;o[v++]=l+3}r.update();i.update();this.updateVertices()};e.prototype.updateVertices=function(){var t=this.points;if(t.length<1){return}var e=t[0];var r;var i=0;var n=0;var o=this.buffers[0].data;var a=t.length;for(var s=0;s<a;s++){var u=t[s];var h=s*4;if(s<t.length-1){r=t[s+1]}else{r=u}n=-(r.x-e.x);i=r.y-e.y;var f=Math.sqrt(i*i+n*n);var l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;i/=f;n/=f;i*=l;n*=l;o[h]=u.x+i;o[h+1]=u.y+n;o[h+2]=u.x-i;o[h+3]=u.y-n;e=u}this.buffers[0].update()};e.prototype.update=function(){if(this.textureScale>0){this.build()}else{this.updateVertices()}};return e}(ns);var xu=function(t){yu(e,t);function e(e,r,i){if(i===void 0){i=0}var n=this;var o=new bu(e.height,r,i);var a=new is(e);if(i>0){e.baseTexture.wrapMode=Z.REPEAT}n=t.call(this,o,a)||this;n.autoUpdate=true;return n}e.prototype._render=function(e){var r=this.geometry;if(this.autoUpdate||r._width!==this.shader.texture.height){r._width=this.shader.texture.height;r.update()}t.prototype._render.call(this,e)};return e}(ts);var wu=function(t){yu(e,t);function e(e,r,i){var n=this;var o=new _u(e.width,e.height,r,i);var a=new is(vr.WHITE);n=t.call(this,o,a)||this;n.texture=e;return n}e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width;t.height=this.shader.texture.height;t.build()};Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){if(this.shader.texture===t){return}this.shader.texture=t;this._textureID=-1;if(t.baseTexture.valid){this.textureUpdated()}else{t.once("update",this.textureUpdated,this)}},enumerable:false,configurable:true});e.prototype._render=function(e){if(this._textureID!==this.shader.texture._updateID){this.textureUpdated()}t.prototype._render.call(this,e)};e.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this);t.prototype.destroy.call(this,e)};return e}(ts);var Eu=function(t){yu(e,t);function e(e,r,i,n,o){if(e===void 0){e=vr.EMPTY}var a=this;var s=new ns(r,i,n);s.getBuffer("aVertexPosition").static=false;var u=new is(e);a=t.call(this,s,u,null,o)||this;a.autoUpdate=true;return a}Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:false,configurable:true});e.prototype._render=function(e){if(this.autoUpdate){this.geometry.getBuffer("aVertexPosition").update()}t.prototype._render.call(this,e)};return e}(ts);var Tu=10;var Su=function(t){yu(e,t);function e(e,r,i,n,o){if(r===void 0){r=Tu}if(i===void 0){i=Tu}if(n===void 0){n=Tu}if(o===void 0){o=Tu}var a=t.call(this,vr.WHITE,4,4)||this;a._origWidth=e.orig.width;a._origHeight=e.orig.height;a._width=a._origWidth;a._height=a._origHeight;a._leftWidth=r;a._rightWidth=n;a._topHeight=i;a._bottomHeight=o;a.texture=e;return a}e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;this._refresh()};Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:false,configurable:true});e.prototype.updateHorizontalVertices=function(){var t=this.vertices;var e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e;t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e;t[25]=t[27]=t[29]=t[31]=this._height};e.prototype.updateVerticalVertices=function(){var t=this.vertices;var e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e;t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e;t[6]=t[14]=t[22]=t[30]=this._width};e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth;var e=this._width>t?1:this._width/t;var r=this._topHeight+this._bottomHeight;var i=this._height>r?1:this._height/r;var n=Math.min(e,i);return n};Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t;this._refresh()},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t;this._refresh()},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t;this._refresh()},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t;this._refresh()},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t;this._refresh()},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t;this._refresh()},enumerable:false,configurable:true});e.prototype._refresh=function(){var t=this.texture;var e=this.geometry.buffers[1].data;this._origWidth=t.orig.width;this._origHeight=t.orig.height;var r=1/this._origWidth;var i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0;e[1]=e[3]=e[5]=e[7]=0;e[6]=e[14]=e[22]=e[30]=1;e[25]=e[27]=e[29]=e[31]=1;e[2]=e[10]=e[18]=e[26]=r*this._leftWidth;e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth;e[9]=e[11]=e[13]=e[15]=i*this._topHeight;e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight;this.updateHorizontalVertices();this.updateVerticalVertices();this.geometry.buffers[0].update();this.geometry.buffers[1].update()};return e}(wu);var Iu=function(t,e){Iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return Iu(t,e)};function Au(t,e){Iu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Pu=function(t){Au(e,t);function e(e,r){if(r===void 0){r=true}var i=t.call(this,e[0]instanceof vr?e[0]:e[0].texture)||this;i._textures=null;i._durations=null;i._autoUpdate=r;i._isConnectedToTicker=false;i.animationSpeed=1;i.loop=true;i.updateAnchor=false;i.onComplete=null;i.onFrameChange=null;i.onLoop=null;i._currentTime=0;i._playing=false;i._previousFrame=null;i.textures=e;return i}e.prototype.stop=function(){if(!this._playing){return}this._playing=false;if(this._autoUpdate&&this._isConnectedToTicker){De.shared.remove(this.update,this);this._isConnectedToTicker=false}};e.prototype.play=function(){if(this._playing){return}this._playing=true;if(this._autoUpdate&&!this._isConnectedToTicker){De.shared.add(this.update,this,Ce.HIGH);this._isConnectedToTicker=true}};e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t;if(e!==this.currentFrame){this.updateTexture()}};e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t;if(e!==this.currentFrame){this.updateTexture()}this.play()};e.prototype.update=function(t){if(!this._playing){return}var e=this.animationSpeed*t;var r=this.currentFrame;if(this._durations!==null){var i=this._currentTime%1*this._durations[this.currentFrame];i+=e/60*1e3;while(i<0){this._currentTime--;i+=this._durations[this.currentFrame]}var n=Math.sign(this.animationSpeed*t);this._currentTime=Math.floor(this._currentTime);while(i>=this._durations[this.currentFrame]){i-=this._durations[this.currentFrame]*n;this._currentTime+=n}this._currentTime+=i/this._durations[this.currentFrame]}else{this._currentTime+=e}if(this._currentTime<0&&!this.loop){this.gotoAndStop(0);if(this.onComplete){this.onComplete()}}else if(this._currentTime>=this._textures.length&&!this.loop){this.gotoAndStop(this._textures.length-1);if(this.onComplete){this.onComplete()}}else if(r!==this.currentFrame){if(this.loop&&this.onLoop){if(this.animationSpeed>0&&this.currentFrame<r){this.onLoop()}else if(this.animationSpeed<0&&this.currentFrame>r){this.onLoop()}}this.updateTexture()}};e.prototype.updateTexture=function(){var t=this.currentFrame;if(this._previousFrame===t){return}this._previousFrame=t;this._texture=this._textures[t];this._textureID=-1;this._textureTrimmedID=-1;this._cachedTint=16777215;this.uvs=this._texture._uvs.uvsFloat32;if(this.updateAnchor){this._anchor.copyFrom(this._texture.defaultAnchor)}if(this.onFrameChange){this.onFrameChange(this.currentFrame)}};e.prototype.destroy=function(e){this.stop();t.prototype.destroy.call(this,e);this.onComplete=null;this.onFrameChange=null;this.onLoop=null};e.fromFrames=function(t){var r=[];for(var i=0;i<t.length;++i){r.push(vr.from(t[i]))}return new e(r)};e.fromImages=function(t){var r=[];for(var i=0;i<t.length;++i){r.push(vr.from(t[i]))}return new e(r)};Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof vr){this._textures=t;this._durations=null}else{this._textures=[];this._durations=[];for(var e=0;e<t.length;e++){this._textures.push(t[e].texture);this._durations.push(t[e].time)}}this._previousFrame=null;this.gotoAndStop(0);this.updateTexture()},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;if(t<0){t+=this._textures.length}return t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){if(t!==this._autoUpdate){this._autoUpdate=t;if(!this._autoUpdate&&this._isConnectedToTicker){De.shared.remove(this.update,this);this._isConnectedToTicker=false}else if(this._autoUpdate&&!this._isConnectedToTicker&&this._playing){De.shared.add(this.update,this);this._isConnectedToTicker=true}}},enumerable:false,configurable:true});return e}(sa);var Ou=function(t,e){Ou=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}};return Ou(t,e)};function Cu(t,e){Ou(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ru="5.0.0";function Du(){var t=this;Object.defineProperties(t,{SVG_SIZE:{get:function(){deprecation(Ru,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE");return t.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){deprecation(Ru,"PIXI.TransformStatic class has been removed, use PIXI.Transform");return t.Transform}},TransformBase:{get:function(){deprecation(Ru,"PIXI.TransformBase class has been removed, use PIXI.Transform");return t.Transform}},TRANSFORM_MODE:{get:function(){deprecation(Ru,"PIXI.TRANSFORM_MODE property has been removed");return{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){deprecation(Ru,"PIXI.WebGLRenderer class has moved to PIXI.Renderer");return t.Renderer}},CanvasRenderTarget:{get:function(){deprecation(Ru,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget");return t.utils.CanvasRenderTarget}},loader:{get:function(){deprecation(Ru,"PIXI.loader instance has moved to PIXI.Loader.shared");return t.Loader.shared}},FilterManager:{get:function(){deprecation(Ru,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem");return t.systems.FilterSystem}},CanvasTinter:{get:function(){deprecation("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils");return t.canvasUtils}},GroupD8:{get:function(){deprecation("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8");return t.groupD8}}});t.accessibility={};Object.defineProperties(t.accessibility,{AccessibilityManager:{get:function(){deprecation("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager");return t.AccessibilityManager}}});t.interaction={};Object.defineProperties(t.interaction,{InteractionManager:{get:function(){deprecation("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager");return t.InteractionManager}},InteractionData:{get:function(){deprecation("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData");return t.InteractionData}},InteractionEvent:{get:function(){deprecation("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent");return t.InteractionEvent}}});t.prepare={};Object.defineProperties(t.prepare,{BasePrepare:{get:function(){deprecation("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare");return t.BasePrepare}},Prepare:{get:function(){deprecation("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare");return t.Prepare}},CanvasPrepare:{get:function(){deprecation("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare");return t.CanvasPrepare}}});t.extract={};Object.defineProperties(t.extract,{Extract:{get:function(){deprecation("5.2.1","PIXI.extract.Extract moved to PIXI.Extract");return t.Extract}},CanvasExtract:{get:function(){deprecation("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract");return t.CanvasExtract}}});t.extras={};Object.defineProperties(t.extras,{TilingSprite:{get:function(){deprecation(Ru,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite");return t.TilingSprite}},TilingSpriteRenderer:{get:function(){deprecation(Ru,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer");return t.TilingSpriteRenderer}},AnimatedSprite:{get:function(){deprecation(Ru,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite");return t.AnimatedSprite}},BitmapText:{get:function(){deprecation(Ru,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText");return t.BitmapText}}});t.TilingSprite.fromFrame=function e(r,i,n){deprecation("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from");return t.TilingSprite.from(r,{width:i,height:n})};t.TilingSprite.fromImage=function e(r,i,n,o){if(o===void 0){o={}}deprecation("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from");if(o&&typeof o!=="object"){o={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}}o.width=i;o.height=n;return t.TilingSprite.from(r,o)};Object.defineProperties(t.utils,{getSvgSize:{get:function(){deprecation(Ru,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize");return t.resources.SVGResource.getSize}}});t.mesh={};Object.defineProperties(t.mesh,{Mesh:{get:function(){deprecation(Ru,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh");return t.SimpleMesh}},NineSlicePlane:{get:function(){deprecation(Ru,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane");return t.NineSlicePlane}},Plane:{get:function(){deprecation(Ru,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane");return t.SimplePlane}},Rope:{get:function(){deprecation(Ru,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope");return t.SimpleRope}},RawMesh:{get:function(){deprecation(Ru,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh");return t.Mesh}},CanvasMeshRenderer:{get:function(){deprecation(Ru,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer");return t.CanvasMeshRenderer}},MeshRenderer:{get:function(){deprecation(Ru,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer");return t.MeshRenderer}}});t.particles={};Object.defineProperties(t.particles,{ParticleContainer:{get:function(){deprecation(Ru,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer");return t.ParticleContainer}},ParticleRenderer:{get:function(){deprecation(Ru,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer");return t.ParticleRenderer}}});t.ticker={};Object.defineProperties(t.ticker,{Ticker:{get:function(){deprecation(Ru,"PIXI.ticker.Ticker class has moved to PIXI.Ticker");return t.Ticker}},shared:{get:function(){deprecation(Ru,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared");return t.Ticker.shared}}});t.loaders={};Object.defineProperties(t.loaders,{Loader:{get:function(){deprecation(Ru,"PIXI.loaders.Loader class has moved to PIXI.Loader");return t.Loader}},Resource:{get:function(){deprecation(Ru,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource");return t.LoaderResource}},bitmapFontParser:{get:function(){deprecation(Ru,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use");return t.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){deprecation(Ru,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){deprecation(Ru,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use");return t.SpritesheetLoader.use}},getResourcePath:{get:function(){deprecation(Ru,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath");return t.SpritesheetLoader.getResourcePath}}});t.Loader.addPixiMiddleware=function e(r){deprecation(Ru,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin");return t.loaders.Loader.registerPlugin({use:r()})};var e=function(t){return"on"+t.charAt(0).toUpperCase()+t.slice(1)};Object.assign(t.Loader.prototype,{on:function(t){var r=e(t);deprecation(Ru,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+r+".add")},once:function(t){var r=e(t);deprecation(Ru,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+r+".once")},off:function(t){var r=e(t);deprecation(Ru,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+r+".detach")}});Object.defineProperty(t.extract,"WebGLExtract",{get:function(){deprecation(Ru,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract");return t.Extract}});Object.defineProperty(t.prepare,"WebGLPrepare",{get:function(){deprecation(Ru,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare");return t.Prepare}});t.Container.prototype._renderWebGL=function t(e){deprecation(Ru,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render");this._render(e)};t.Container.prototype.renderWebGL=function t(e){deprecation(Ru,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render");this.render(e)};t.DisplayObject.prototype.renderWebGL=function t(e){deprecation(Ru,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render");this.render(e)};t.Container.prototype.renderAdvancedWebGL=function t(e){deprecation(Ru,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced");this.renderAdvanced(e)};Object.defineProperties(t.settings,{TRANSFORM_MODE:{get:function(){deprecation(Ru,"PIXI.settings.TRANSFORM_MODE property has been removed");return 0},set:function(){deprecation(Ru,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var r=t.BaseTexture;r.prototype.loadSource=function e(r){deprecation(Ru,"PIXI.BaseTexture.loadSource method has been deprecated");var i=t.resources.autoDetectResource(r);i.internal=true;this.setResource(i);this.update()};var i=false;Object.defineProperties(r.prototype,{hasLoaded:{get:function(){deprecation(Ru,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid");return this.valid}},imageUrl:{get:function(){var t;deprecation(Ru,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url");return(t=this.resource)===null||t===void 0?void 0:t.url},set:function(t){deprecation(Ru,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url");if(this.resource){this.resource.url=t}}},source:{get:function(){deprecation(Ru,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`");return this.resource.source},set:function(t){deprecation(Ru,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` "+"if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture.");if(this.resource){this.resource.source=t}}},premultiplyAlpha:{get:function(){deprecation("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`"+", see `PIXI.ALPHA_MODES`");return this.alphaMode!==0},set:function(t){deprecation("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`"+", see `PIXI.ALPHA_MODES`");this.alphaMode=Number(t)}},_id:{get:function(){if(!i){deprecation("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`");i=true}return this._batchLocation},set:function(t){this._batchLocation=t}}});r.fromImage=function t(e,i,n,o){deprecation(Ru,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var a={scale:o,crossorigin:i};return r.from(e,{scaleMode:n,resourceOptions:a})};r.fromCanvas=function t(e,i){deprecation(Ru,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from");return r.from(e,{scaleMode:i})};r.fromSVG=function t(e,i,n,o){deprecation(Ru,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var a={scale:o,crossorigin:i};return r.from(e,{scaleMode:n,resourceOptions:a})};Object.defineProperties(t.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){deprecation("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property "+"has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`");return this.alphaMode!==0},set:function(t){deprecation("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property "+"has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`");this.alphaMode=Number(t)}}});t.Point.prototype.copy=function t(e){deprecation(Ru,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom");return this.copyFrom(e)};t.ObservablePoint.prototype.copy=function t(e){deprecation(Ru,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom");return this.copyFrom(e)};t.Rectangle.prototype.copy=function t(e){deprecation(Ru,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom");return this.copyFrom(e)};t.Matrix.prototype.copy=function t(e){deprecation(Ru,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo");return this.copyTo(e)};t.systems.StateSystem.prototype.setState=function t(e){deprecation("v5.1.0","StateSystem.setState has been renamed to StateSystem.set");return this.set(e)};Object.assign(t.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){deprecation(Ru,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture");return this.getFilterTexture(null,e)},returnRenderTarget:function(t){deprecation(Ru,"PIXI.FilterManager.returnRenderTarget method has been replaced with "+"PIXI.systems.FilterSystem.returnFilterTexture");this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){deprecation(Ru,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, "+"use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity();var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame;e.translate(i.x/n.width,i.y/n.height);e.scale(n.width,n.height);return e},calculateNormalizedScreenSpaceMatrix:function(t){deprecation(Ru,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, "+"use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,r=e.sourceFrame,i=e.destinationFrame;var n=t.identity();n.translate(r.x/i.width,r.y/i.height);var o=i.width/r.width;var a=i.height/r.height;n.scale(o,a);return n}});Object.defineProperties(t.RenderTexture.prototype,{sourceFrame:{get:function(){deprecation(Ru,"PIXI.RenderTexture.sourceFrame property has been removed");return this.filterFrame}},size:{get:function(){deprecation(Ru,"PIXI.RenderTexture.size property has been removed");return this._frame}}});var n=function(t){Cu(e,t);function e(e,r,i,n){var o=this;deprecation(Ru,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass");o=t.call(this,true,e,r,i,n)||this;return o}return e}(t.filters.BlurFilterPass);var o=function(t){Cu(e,t);function e(e,r,i,n){var o=this;deprecation(Ru,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass");o=t.call(this,false,e,r,i,n)||this;return o}return e}(t.filters.BlurFilterPass);Object.assign(t.filters,{BlurXFilter:n,BlurYFilter:o});var a=t.Sprite,s=t.Texture,u=t.Graphics;if(!u.prototype.generateCanvasTexture){u.prototype.generateCanvasTexture=function t(){deprecation(Ru,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}}Object.defineProperty(u.prototype,"graphicsData",{get:function(){deprecation(Ru,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData");return this.geometry.graphicsData}});function h(t,e,r,i){deprecation(Ru,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from");return a.from(e,{resourceOptions:{scale:i,crossorigin:r}})}a.fromImage=h.bind(null,"fromImage");a.fromSVG=h.bind(null,"fromSVG");a.fromCanvas=h.bind(null,"fromCanvas");a.fromVideo=h.bind(null,"fromVideo");a.fromFrame=h.bind(null,"fromFrame");function f(t,e,r,i){deprecation(Ru,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from");return s.from(e,{resourceOptions:{scale:i,crossorigin:r}})}s.fromImage=f.bind(null,"fromImage");s.fromSVG=f.bind(null,"fromSVG");s.fromCanvas=f.bind(null,"fromCanvas");s.fromVideo=f.bind(null,"fromVideo");s.fromFrame=f.bind(null,"fromFrame");Object.defineProperty(t.AbstractRenderer.prototype,"autoResize",{get:function(){deprecation(Ru,"PIXI.AbstractRenderer.autoResize property is deprecated, "+"use PIXI.AbstractRenderer.autoDensity");return this.autoDensity},set:function(t){deprecation(Ru,"PIXI.AbstractRenderer.autoResize property is deprecated, "+"use PIXI.AbstractRenderer.autoDensity");this.autoDensity=t}});Object.defineProperty(t.Renderer.prototype,"textureManager",{get:function(){deprecation(Ru,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture");return this.texture}});t.utils.mixins={mixin:function(){deprecation(Ru,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){deprecation(Ru,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){deprecation(Ru,"PIXI.utils.mixins.performMixins function is no longer available")}};Object.defineProperty(t.BitmapText.prototype,"font",{get:function(){deprecation("5.3.0","PIXI.BitmapText.font property is deprecated, "+"use fontName, fontSize, tint or align properties");return{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(e){deprecation("5.3.0","PIXI.BitmapText.font property is deprecated, "+"use fontName, fontSize, tint or align properties");if(!e){return}var r={font:e};this._upgradeStyle(r);r.fontSize=r.fontSize||t.BitmapFont.available[r.fontName].size;this._fontName=r.fontName;this._fontSize=r.fontSize;this.dirty=true}})}ln.registerPlugin("accessibility",Oe);ln.registerPlugin("extract",On);ln.registerPlugin("interaction",He);ln.registerPlugin("particle",xo);ln.registerPlugin("prepare",La);ln.registerPlugin("batch",Tn);ln.registerPlugin("tilingSprite",qa);co.registerPlugin(bs);co.registerPlugin(Ua);Sn.registerPlugin(Me);Sn.registerPlugin(po);var Mu="5.3.12";var ku={AlphaFilter:Ts,BlurFilter:$s,BlurFilterPass:Zs,ColorMatrixFilter:tu,DisplacementFilter:ou,FXAAFilter:fu,NoiseFilter:pu}},587:t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,r,i,n){r=r||"&";i=i||"=";var o={};if(typeof t!=="string"||t.length===0){return o}var a=/\+/g;t=t.split(r);var s=1e3;if(n&&typeof n.maxKeys==="number"){s=n.maxKeys}var u=t.length;if(s>0&&u>s){u=s}for(var h=0;h<u;++h){var f=t[h].replace(a,"%20"),l=f.indexOf(i),c,d,p,v;if(l>=0){c=f.substr(0,l);d=f.substr(l+1)}else{c=f;d=""}p=decodeURIComponent(c);v=decodeURIComponent(d);if(!e(o,p)){o[p]=v}else if(Array.isArray(o[p])){o[p].push(v)}else{o[p]=[o[p],v]}}return o}},361:t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,r,i,n){r=r||"&";i=i||"=";if(t===null){t=undefined}if(typeof t==="object"){return Object.keys(t).map((function(n){var o=encodeURIComponent(e(n))+i;if(Array.isArray(t[n])){return t[n].map((function(t){return o+encodeURIComponent(e(t))})).join(r)}else{return o+encodeURIComponent(e(t[n]))}})).join(r)}if(!n)return"";return encodeURIComponent(e(n))+i+encodeURIComponent(e(t))}},673:(t,e,r)=>{"use strict";e.decode=e.parse=r(587);e.encode=e.stringify=r(361)},511:function(t,e,r){t=r.nmd(t);var i;(function(n){var o=true&&e&&!e.nodeType&&e;var a=true&&t&&!t.nodeType&&t;var s=typeof r.g=="object"&&r.g;if(s.global===s||s.window===s||s.self===s){n=s}var u,h=2147483647,f=36,l=1,c=26,d=38,p=700,v=72,m=128,g="-",y=/^xn--/,_=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=f-l,E=Math.floor,T=String.fromCharCode,S;function I(t){throw RangeError(x[t])}function A(t,e){var r=t.length;var i=[];while(r--){i[r]=e(t[r])}return i}function P(t,e){var r=t.split("@");var i="";if(r.length>1){i=r[0]+"@";t=r[1]}t=t.replace(b,".");var n=t.split(".");var o=A(n,e).join(".");return i+o}function O(t){var e=[],r=0,i=t.length,n,o;while(r<i){n=t.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){o=t.charCodeAt(r++);if((o&64512)==56320){e.push(((n&1023)<<10)+(o&1023)+65536)}else{e.push(n);r--}}else{e.push(n)}}return e}function C(t){return A(t,(function(t){var e="";if(t>65535){t-=65536;e+=T(t>>>10&1023|55296);t=56320|t&1023}e+=T(t);return e})).join("")}function R(t){if(t-48<10){return t-22}if(t-65<26){return t-65}if(t-97<26){return t-97}return f}function D(t,e){return t+22+75*(t<26)-((e!=0)<<5)}function M(t,e,r){var i=0;t=r?E(t/p):t>>1;t+=E(t/e);for(;t>w*c>>1;i+=f){t=E(t/w)}return E(i+(w+1)*t/(t+d))}function k(t){var e=[],r=t.length,i,n=0,o=m,a=v,s,u,d,p,y,_,b,x,w;s=t.lastIndexOf(g);if(s<0){s=0}for(u=0;u<s;++u){if(t.charCodeAt(u)>=128){I("not-basic")}e.push(t.charCodeAt(u))}for(d=s>0?s+1:0;d<r;){for(p=n,y=1,_=f;;_+=f){if(d>=r){I("invalid-input")}b=R(t.charCodeAt(d++));if(b>=f||b>E((h-n)/y)){I("overflow")}n+=b*y;x=_<=a?l:_>=a+c?c:_-a;if(b<x){break}w=f-x;if(y>E(h/w)){I("overflow")}y*=w}i=e.length+1;a=M(n-p,i,p==0);if(E(n/i)>h-o){I("overflow")}o+=E(n/i);n%=i;e.splice(n++,0,o)}return C(e)}function N(t){var e,r,i,n,o,a,s,u,d,p,y,_=[],b,x,w,S;t=O(t);b=t.length;e=m;r=0;o=v;for(a=0;a<b;++a){y=t[a];if(y<128){_.push(T(y))}}i=n=_.length;if(n){_.push(g)}while(i<b){for(s=h,a=0;a<b;++a){y=t[a];if(y>=e&&y<s){s=y}}x=i+1;if(s-e>E((h-r)/x)){I("overflow")}r+=(s-e)*x;e=s;for(a=0;a<b;++a){y=t[a];if(y<e&&++r>h){I("overflow")}if(y==e){for(u=r,d=f;;d+=f){p=d<=o?l:d>=o+c?c:d-o;if(u<p){break}S=u-p;w=f-p;_.push(T(D(p+S%w,0)));u=E(S/w)}_.push(T(D(u,0)));o=M(r,x,i==n);r=0;++i}}++r;++e}return _.join("")}function L(t){return P(t,(function(t){return y.test(t)?k(t.slice(4).toLowerCase()):t}))}function B(t){return P(t,(function(t){return _.test(t)?"xn--"+N(t):t}))}u={version:"1.3.2",ucs2:{decode:O,encode:C},decode:k,encode:N,toASCII:B,toUnicode:L};if(true){!(i=function(){return u}.call(e,r,e,t),i!==undefined&&(t.exports=i))}else{}})(this)},575:(t,e,r)=>{"use strict";var i=r(511);var n=r(502);e.parse=x;e.resolve=E;e.resolveObject=T;e.format=w;e.Url=o;function o(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["<",">",'"',"`"," ","\r","\n","\t"],f=["{","}","|","\\","^","`"].concat(h),l=["'"].concat(f),c=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=255,v=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:true,"javascript:":true},y={javascript:true,"javascript:":true},_={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},b=r(673);function x(t,e,r){if(t&&n.isObject(t)&&t instanceof o)return t;var i=new o;i.parse(t,e,r);return i}o.prototype.parse=function(t,e,r){if(!n.isString(t)){throw new TypeError("Parameter 'url' must be a string, not "+typeof t)}var o=t.indexOf("?"),s=o!==-1&&o<t.indexOf("#")?"?":"#",h=t.split(s),f=/\\/g;h[0]=h[0].replace(f,"/");t=h.join(s);var x=t;x=x.trim();if(!r&&t.split("#").length===1){var w=u.exec(x);if(w){this.path=x;this.href=x;this.pathname=w[1];if(w[2]){this.search=w[2];if(e){this.query=b.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(e){this.search="";this.query={}}return this}}var E=a.exec(x);if(E){E=E[0];var T=E.toLowerCase();this.protocol=T;x=x.substr(E.length)}if(r||E||x.match(/^\/\/[^@\/]+@[^@\/]+/)){var S=x.substr(0,2)==="//";if(S&&!(E&&y[E])){x=x.substr(2);this.slashes=true}}if(!y[E]&&(S||E&&!_[E])){var I=-1;for(var A=0;A<d.length;A++){var P=x.indexOf(d[A]);if(P!==-1&&(I===-1||P<I))I=P}var O,C;if(I===-1){C=x.lastIndexOf("@")}else{C=x.lastIndexOf("@",I)}if(C!==-1){O=x.slice(0,C);x=x.slice(C+1);this.auth=decodeURIComponent(O)}I=-1;for(var A=0;A<c.length;A++){var P=x.indexOf(c[A]);if(P!==-1&&(I===-1||P<I))I=P}if(I===-1)I=x.length;this.host=x.slice(0,I);x=x.slice(I);this.parseHost();this.hostname=this.hostname||"";var R=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!R){var D=this.hostname.split(/\./);for(var A=0,M=D.length;A<M;A++){var k=D[A];if(!k)continue;if(!k.match(v)){var N="";for(var L=0,B=k.length;L<B;L++){if(k.charCodeAt(L)>127){N+="x"}else{N+=k[L]}}if(!N.match(v)){var F=D.slice(0,A);var U=D.slice(A+1);var j=k.match(m);if(j){F.push(j[1]);U.unshift(j[2])}if(U.length){x="/"+U.join(".")+x}this.hostname=F.join(".");break}}}}if(this.hostname.length>p){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!R){this.hostname=i.toASCII(this.hostname)}var z=this.port?":"+this.port:"";var X=this.hostname||"";this.host=X+z;this.href+=this.host;if(R){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(x[0]!=="/"){x="/"+x}}}if(!g[T]){for(var A=0,M=l.length;A<M;A++){var H=l[A];if(x.indexOf(H)===-1)continue;var G=encodeURIComponent(H);if(G===H){G=escape(H)}x=x.split(H).join(G)}}var W=x.indexOf("#");if(W!==-1){this.hash=x.substr(W);x=x.slice(0,W)}var Y=x.indexOf("?");if(Y!==-1){this.search=x.substr(Y);this.query=x.substr(Y+1);if(e){this.query=b.parse(this.query)}x=x.slice(0,Y)}else if(e){this.search="";this.query={}}if(x)this.pathname=x;if(_[T]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var z=this.pathname||"";var V=this.search||"";this.path=z+V}this.href=this.format();return this};function w(t){if(n.isString(t))t=x(t);if(!(t instanceof o))return o.prototype.format.call(t);return t.format()}o.prototype.format=function(){var t=this.auth||"";if(t){t=encodeURIComponent(t);t=t.replace(/%3A/i,":");t+="@"}var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",o=false,a="";if(this.host){o=t+this.host}else if(this.hostname){o=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){o+=":"+this.port}}if(this.query&&n.isObject(this.query)&&Object.keys(this.query).length){a=b.stringify(this.query)}var s=this.search||a&&"?"+a||"";if(e&&e.substr(-1)!==":")e+=":";if(this.slashes||(!e||_[e])&&o!==false){o="//"+(o||"");if(r&&r.charAt(0)!=="/")r="/"+r}else if(!o){o=""}if(i&&i.charAt(0)!=="#")i="#"+i;if(s&&s.charAt(0)!=="?")s="?"+s;r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)}));s=s.replace("#","%23");return e+o+r+s+i};function E(t,e){return x(t,false,true).resolve(e)}o.prototype.resolve=function(t){return this.resolveObject(x(t,false,true)).format()};function T(t,e){if(!t)return e;return x(t,false,true).resolveObject(e)}o.prototype.resolveObject=function(t){if(n.isString(t)){var e=new o;e.parse(t,false,true);t=e}var r=new o;var i=Object.keys(this);for(var a=0;a<i.length;a++){var s=i[a];r[s]=this[s]}r.hash=t.hash;if(t.href===""){r.href=r.format();return r}if(t.slashes&&!t.protocol){var u=Object.keys(t);for(var h=0;h<u.length;h++){var f=u[h];if(f!=="protocol")r[f]=t[f]}if(_[r.protocol]&&r.hostname&&!r.pathname){r.path=r.pathname="/"}r.href=r.format();return r}if(t.protocol&&t.protocol!==r.protocol){if(!_[t.protocol]){var l=Object.keys(t);for(var c=0;c<l.length;c++){var d=l[c];r[d]=t[d]}r.href=r.format();return r}r.protocol=t.protocol;if(!t.host&&!y[t.protocol]){var p=(t.pathname||"").split("/");while(p.length&&!(t.host=p.shift()));if(!t.host)t.host="";if(!t.hostname)t.hostname="";if(p[0]!=="")p.unshift("");if(p.length<2)p.unshift("");r.pathname=p.join("/")}else{r.pathname=t.pathname}r.search=t.search;r.query=t.query;r.host=t.host||"";r.auth=t.auth;r.hostname=t.hostname||t.host;r.port=t.port;if(r.pathname||r.search){var v=r.pathname||"";var m=r.search||"";r.path=v+m}r.slashes=r.slashes||t.slashes;r.href=r.format();return r}var g=r.pathname&&r.pathname.charAt(0)==="/",b=t.host||t.pathname&&t.pathname.charAt(0)==="/",x=b||g||r.host&&t.pathname,w=x,E=r.pathname&&r.pathname.split("/")||[],p=t.pathname&&t.pathname.split("/")||[],T=r.protocol&&!_[r.protocol];if(T){r.hostname="";r.port=null;if(r.host){if(E[0]==="")E[0]=r.host;else E.unshift(r.host)}r.host="";if(t.protocol){t.hostname=null;t.port=null;if(t.host){if(p[0]==="")p[0]=t.host;else p.unshift(t.host)}t.host=null}x=x&&(p[0]===""||E[0]==="")}if(b){r.host=t.host||t.host===""?t.host:r.host;r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname;r.search=t.search;r.query=t.query;E=p}else if(p.length){if(!E)E=[];E.pop();E=E.concat(p);r.search=t.search;r.query=t.query}else if(!n.isNullOrUndefined(t.search)){if(T){r.hostname=r.host=E.shift();var S=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(S){r.auth=S.shift();r.host=r.hostname=S.shift()}}r.search=t.search;r.query=t.query;if(!n.isNull(r.pathname)||!n.isNull(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.href=r.format();return r}if(!E.length){r.pathname=null;if(r.search){r.path="/"+r.search}else{r.path=null}r.href=r.format();return r}var I=E.slice(-1)[0];var A=(r.host||t.host||E.length>1)&&(I==="."||I==="..")||I==="";var P=0;for(var O=E.length;O>=0;O--){I=E[O];if(I==="."){E.splice(O,1)}else if(I===".."){E.splice(O,1);P++}else if(P){E.splice(O,1);P--}}if(!x&&!w){for(;P--;P){E.unshift("..")}}if(x&&E[0]!==""&&(!E[0]||E[0].charAt(0)!=="/")){E.unshift("")}if(A&&E.join("/").substr(-1)!=="/"){E.push("")}var C=E[0]===""||E[0]&&E[0].charAt(0)==="/";if(T){r.hostname=r.host=C?"":E.length?E.shift():"";var S=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(S){r.auth=S.shift();r.host=r.hostname=S.shift()}}x=x||r.host&&E.length;if(x&&!C){E.unshift("")}if(!E.length){r.pathname=null;r.path=null}else{r.pathname=E.join("/")}if(!n.isNull(r.pathname)||!n.isNull(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.auth=t.auth||r.auth;r.slashes=r.slashes||t.slashes;r.href=r.format();return r};o.prototype.parseHost=function(){var t=this.host;var e=s.exec(t);if(e){e=e[0];if(e!==":"){this.port=e.substr(1)}t=t.substr(0,t.length-e.length)}if(t)this.hostname=t}},502:t=>{"use strict";t.exports={isString:function(t){return typeof t==="string"},isObject:function(t){return typeof t==="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}}},933:(t,e,r)=>{var i;(function(){function n(t,e,r){return t.call.apply(t.bind,arguments)}function o(t,e,r){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(r,i);return t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function a(t,e,r){a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:o;return a.apply(null,arguments)}var s=Date.now||function(){return+new Date};function u(t,e){this.a=t;this.o=e||t;this.c=this.o.document}var h=!!window.FontFace;function f(t,e,r,i){e=t.c.createElement(e);if(r)for(var n in r)r.hasOwnProperty(n)&&("style"==n?e.style.cssText=r[n]:e.setAttribute(n,r[n]));i&&e.appendChild(t.c.createTextNode(i));return e}function l(t,e,r){t=t.c.getElementsByTagName(e)[0];t||(t=document.documentElement);t.insertBefore(r,t.lastChild)}function c(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e,r){e=e||[];r=r||[];for(var i=t.className.split(/\s+/),n=0;n<e.length;n+=1){for(var o=!1,a=0;a<i.length;a+=1)if(e[n]===i[a]){o=!0;break}o||i.push(e[n])}e=[];for(n=0;n<i.length;n+=1){o=!1;for(a=0;a<r.length;a+=1)if(i[n]===r[a]){o=!0;break}o||e.push(i[n])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function p(t,e){for(var r=t.className.split(/\s+/),i=0,n=r.length;i<n;i++)if(r[i]==e)return!0;return!1}function v(t){return t.o.location.hostname||t.a.location.hostname}function m(t,e,r){function i(){s&&n&&o&&(s(a),s=null)}e=f(t,"link",{rel:"stylesheet",href:e,media:"all"});var n=!1,o=!0,a=null,s=r||null;h?(e.onload=function(){n=!0;i()},e.onerror=function(){n=!0;a=Error("Stylesheet failed to load");i()}):setTimeout((function(){n=!0;i()}),0);l(t,"head",e)}function g(t,e,r,i){var n=t.c.getElementsByTagName("head")[0];if(n){var o=f(t,"script",{src:e}),a=!1;o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,r&&r(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&n.removeChild(o))};n.appendChild(o);setTimeout((function(){a||(a=!0,r&&r(Error("Script load timeout")))}),i||5e3);return o}return null}function y(){this.a=0;this.c=null}function _(t){t.a++;return function(){t.a--;x(t)}}function b(t,e){t.c=e;x(t)}function x(t){0==t.a&&t.c&&(t.c(),t.c=null)}function w(t){this.a=t||"-"}w.prototype.c=function(t){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)};function E(t,e){this.c=t;this.f=4;this.a="n";var r=(e||"n4").match(/^([nio])([1-9])$/i);r&&(this.a=r[1],this.f=parseInt(r[2],10))}function T(t){return A(t)+" "+(t.f+"00")+" 300px "+S(t.c)}function S(t){var e=[];t=t.split(/,\s*/);for(var r=0;r<t.length;r++){var i=t[r].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?e.push("'"+i+"'"):e.push(i)}return e.join(",")}function I(t){return t.a+t.f}function A(t){var e="normal";"o"===t.a?e="oblique":"i"===t.a&&(e="italic");return e}function P(t){var e=4,r="n",i=null;t&&((i=t.match(/(normal|oblique|italic)/i))&&i[1]&&(r=i[1].substr(0,1).toLowerCase()),(i=t.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?e=7:/[1-9]00/.test(i[1])&&(e=parseInt(i[1].substr(0,1),10))));return r+e}function O(t,e){this.c=t;this.f=t.o.document.documentElement;this.h=e;this.a=new w("-");this.j=!1!==e.events;this.g=!1!==e.classes}function C(t){t.g&&d(t.f,[t.a.c("wf","loading")]);D(t,"loading")}function R(t){if(t.g){var e=p(t.f,t.a.c("wf","active")),r=[],i=[t.a.c("wf","loading")];e||r.push(t.a.c("wf","inactive"));d(t.f,r,i)}D(t,"inactive")}function D(t,e,r){if(t.j&&t.h[e])if(r)t.h[e](r.c,I(r));else t.h[e]()}function M(){this.c={}}function k(t,e,r){var i=[],n;for(n in e)if(e.hasOwnProperty(n)){var o=t.c[n];o&&i.push(o(e[n],r))}return i}function N(t,e){this.c=t;this.f=e;this.a=f(this.c,"span",{"aria-hidden":"true"},this.f)}function L(t){l(t.c,"body",t.a)}function B(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+S(t.c)+";"+("font-style:"+A(t)+";font-weight:"+(t.f+"00")+";")}function F(t,e,r,i,n,o){this.g=t;this.j=e;this.a=i;this.c=r;this.f=n||3e3;this.h=o||void 0}F.prototype.start=function(){var t=this.c.o.document,e=this,r=s(),i=new Promise((function(i,n){function o(){s()-r>=e.f?n():t.fonts.load(T(e.a),e.h).then((function(t){1<=t.length?i():setTimeout(o,25)}),(function(){n()}))}o()})),n=null,o=new Promise((function(t,r){n=setTimeout(r,e.f)}));Promise.race([o,i]).then((function(){n&&(clearTimeout(n),n=null);e.g(e.a)}),(function(){e.j(e.a)}))};function U(t,e,r,i,n,o,a){this.v=t;this.B=e;this.c=r;this.a=i;this.s=a||"BESbswy";this.f={};this.w=n||3e3;this.u=o||null;this.m=this.j=this.h=this.g=null;this.g=new N(this.c,this.s);this.h=new N(this.c,this.s);this.j=new N(this.c,this.s);this.m=new N(this.c,this.s);t=new E(this.a.c+",serif",I(this.a));t=B(t);this.g.a.style.cssText=t;t=new E(this.a.c+",sans-serif",I(this.a));t=B(t);this.h.a.style.cssText=t;t=new E("serif",I(this.a));t=B(t);this.j.a.style.cssText=t;t=new E("sans-serif",I(this.a));t=B(t);this.m.a.style.cssText=t;L(this.g);L(this.h);L(this.j);L(this.m)}var j={D:"serif",C:"sans-serif"},z=null;function X(){if(null===z){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);z=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return z}U.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f["sans-serif"]=this.m.a.offsetWidth;this.A=s();G(this)};function H(t,e,r){for(var i in j)if(j.hasOwnProperty(i)&&e===t.f[j[i]]&&r===t.f[j[i]])return!0;return!1}function G(t){var e=t.g.a.offsetWidth,r=t.h.a.offsetWidth,i;(i=e===t.f.serif&&r===t.f["sans-serif"])||(i=X()&&H(t,e,r));i?s()-t.A>=t.w?X()&&H(t,e,r)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?Y(t,t.v):Y(t,t.B):W(t):Y(t,t.v)}function W(t){setTimeout(a((function(){G(this)}),t),50)}function Y(t,e){setTimeout(a((function(){c(this.g.a);c(this.h.a);c(this.j.a);c(this.m.a);e(this.a)}),t),0)}function V(t,e,r){this.c=t;this.a=e;this.f=0;this.m=this.j=!1;this.s=r}var q=null;V.prototype.g=function(t){var e=this.a;e.g&&d(e.f,[e.a.c("wf",t.c,I(t).toString(),"active")],[e.a.c("wf",t.c,I(t).toString(),"loading"),e.a.c("wf",t.c,I(t).toString(),"inactive")]);D(e,"fontactive",t);this.m=!0;Z(this)};V.prototype.h=function(t){var e=this.a;if(e.g){var r=p(e.f,e.a.c("wf",t.c,I(t).toString(),"active")),i=[],n=[e.a.c("wf",t.c,I(t).toString(),"loading")];r||i.push(e.a.c("wf",t.c,I(t).toString(),"inactive"));d(e.f,i,n)}D(e,"fontinactive",t);Z(this)};function Z(t){0==--t.f&&t.j&&(t.m?(t=t.a,t.g&&d(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),D(t,"active")):R(t.a))}function $(t){this.j=t;this.a=new M;this.h=0;this.f=this.g=!0}$.prototype.load=function(t){this.c=new u(this.j,t.context||this.j);this.g=!1!==t.events;this.f=!1!==t.classes;J(this,new O(this.c,t),t)};function K(t,e,r,i,n){var o=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=n||null,s=i||null||{};if(0===r.length&&o)R(e.a);else{e.f+=r.length;o&&(e.j=o);var u,h=[];for(u=0;u<r.length;u++){var f=r[u],l=s[f.c],c=e.a,p=f;c.g&&d(c.f,[c.a.c("wf",p.c,I(p).toString(),"loading")]);D(c,"fontloading",p);c=null;if(null===q)if(window.FontFace){var p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),v=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);q=p?42<parseInt(p[1],10):v?!1:!0}else q=!1;q?c=new F(a(e.g,e),a(e.h,e),e.c,f,e.s,l):c=new U(a(e.g,e),a(e.h,e),e.c,f,e.s,t,l);h.push(c)}for(u=0;u<h.length;u++)h[u].start()}}),0)}function J(t,e,r){var i=[],n=r.timeout;C(e);var i=k(t.a,r,t.c),o=new V(t.c,e,n);t.h=i.length;e=0;for(r=i.length;e<r;e++)i[e].load((function(e,r,i){K(t,o,e,r,i)}))}function Q(t,e){this.c=t;this.a=e}Q.prototype.load=function(t){function e(){if(o["__mti_fntLst"+i]){var r=o["__mti_fntLst"+i](),n=[],a;if(r)for(var s=0;s<r.length;s++){var u=r[s].fontfamily;void 0!=r[s].fontStyle&&void 0!=r[s].fontWeight?(a=r[s].fontStyle+r[s].fontWeight,n.push(new E(u,a))):n.push(new E(u))}t(n)}else setTimeout((function(){e()}),50)}var r=this,i=r.a.projectId,n=r.a.version;if(i){var o=r.c.o;g(this.c,(r.a.api||"https://fast.fonts.net/jsapi")+"/"+i+".js"+(n?"?v="+n:""),(function(n){n?t([]):(o["__MonotypeConfiguration__"+i]=function(){return r.a},e())})).id="__MonotypeAPIScript__"+i}else t([])};function tt(t,e){this.c=t;this.a=e}tt.prototype.load=function(t){var e,r,i=this.a.urls||[],n=this.a.families||[],o=this.a.testStrings||{},a=new y;e=0;for(r=i.length;e<r;e++)m(this.c,i[e],_(a));var s=[];e=0;for(r=n.length;e<r;e++)if(i=n[e].split(":"),i[1])for(var u=i[1].split(","),h=0;h<u.length;h+=1)s.push(new E(i[0],u[h]));else s.push(new E(i[0]));b(a,(function(){t(s,o)}))};function et(t,e){t?this.c=t:this.c=rt;this.a=[];this.f=[];this.g=e||""}var rt="https://fonts.googleapis.com/css";function it(t,e){for(var r=e.length,i=0;i<r;i++){var n=e[i].split(":");3==n.length&&t.f.push(n.pop());var o="";2==n.length&&""!=n[1]&&(o=":");t.a.push(n.join(o))}}function nt(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,r=[],i=0;i<e;i++)r.push(t.a[i].replace(/ /g,"+"));e=t.c+"?family="+r.join("%7C");0<t.f.length&&(e+="&subset="+t.f.join(","));0<t.g.length&&(e+="&text="+encodeURIComponent(t.g));return e}function ot(t){this.f=t;this.a=[];this.c={}}var at={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},st={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ut={i:"i",italic:"i",n:"n",normal:"n"},ht=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function ft(t){for(var e=t.f.length,r=0;r<e;r++){var i=t.f[r].split(":"),n=i[0].replace(/\+/g," "),o=["n4"];if(2<=i.length){var a;var s=i[1];a=[];if(s)for(var s=s.split(","),u=s.length,h=0;h<u;h++){var f;f=s[h];if(f.match(/^[\w-]+$/)){var l=ht.exec(f.toLowerCase());if(null==l)f="";else{f=l[2];f=null==f||""==f?"n":ut[f];l=l[1];if(null==l||""==l)l="4";else var c=st[l],l=c?c:isNaN(l)?"4":l.substr(0,1);f=[f,l].join("")}}else f="";f&&a.push(f)}0<a.length&&(o=a);3==i.length&&(i=i[2],a=[],i=i?i.split(","):a,0<i.length&&(i=at[i[0]])&&(t.c[n]=i))}t.c[n]||(i=at[n])&&(t.c[n]=i);for(i=0;i<o.length;i+=1)t.a.push(new E(n,o[i]))}}function lt(t,e){this.c=t;this.a=e}var ct={Arimo:!0,Cousine:!0,Tinos:!0};lt.prototype.load=function(t){var e=new y,r=this.c,i=new et(this.a.api,this.a.text),n=this.a.families;it(i,n);var o=new ot(n);ft(o);m(r,nt(i),_(e));b(e,(function(){t(o.a,o.c,ct)}))};function dt(t,e){this.c=t;this.a=e}dt.prototype.load=function(t){var e=this.a.id,r=this.c.o;e?g(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",(function(e){if(e)t([]);else if(r.Typekit&&r.Typekit.config&&r.Typekit.config.fn){e=r.Typekit.config.fn;for(var i=[],n=0;n<e.length;n+=2)for(var o=e[n],a=e[n+1],s=0;s<a.length;s++)i.push(new E(o,a[s]));try{r.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(i)}}),2e3):t([])};function pt(t,e){this.c=t;this.f=e;this.a=[]}pt.prototype.load=function(t){var e=this.f.id,r=this.c.o,i=this;e?(r.__webfontfontdeckmodule__||(r.__webfontfontdeckmodule__={}),r.__webfontfontdeckmodule__[e]=function(e,r){for(var n=0,o=r.fonts.length;n<o;++n){var a=r.fonts[n];i.a.push(new E(a.name,P("font-weight:"+a.weight+";font-style:"+a.style)))}t(i.a)},g(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+v(this.c)+"/"+e+".js",(function(e){e&&t([])}))):t([])};var vt=new $(window);vt.a.c.custom=function(t,e){return new tt(e,t)};vt.a.c.fontdeck=function(t,e){return new pt(e,t)};vt.a.c.monotype=function(t,e){return new Q(e,t)};vt.a.c.typekit=function(t,e){return new dt(e,t)};vt.a.c.google=function(t,e){return new lt(e,t)};var mt={load:a(vt.load,vt)};true?!(i=function(){return mt}.call(e,r,e,t),i!==undefined&&(t.exports=i)):0})()}}]);